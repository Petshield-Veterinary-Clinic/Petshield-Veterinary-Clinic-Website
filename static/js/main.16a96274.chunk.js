(this["webpackJsonppetshield-veterinary-clinic-website"]=this["webpackJsonppetshield-veterinary-clinic-website"]||[]).push([[0],{568:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(685),c=n(705),i=n(700),o=n(580),s=n(686),l=n(0),d=n.n(l),u=n(54),j=n.n(u),b=n(17),m=n(86),p=n(52),O=n(638),f=n(13),h=n(9),x=n(629),g=n(635),v=n(636),y=n(637),S=n(49),I=Object(S.b)({name:"modals",initialState:{modalType:null,modalProps:{}},reducers:{showModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideModal:function(e,t){e.modalType="",e.modalProps={}}}}),C=I.reducer,N=I.actions,w=N.showModal,A=N.hideModal,D=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},onEnter:function(){setTimeout((function(){s(!t)}),r||2e3)},TransitionProps:{onExited:function(){d(A())}},children:[Object(a.jsx)(g.a,{children:"Error!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},k=n(639),P=Object(O.a)((function(e){return{loadingIndicator:{display:"flex",justifyContent:"center",alignItems:"center,",padding:e.spacing(2)}}})),F=function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=P(),s=Object(b.b)();return Object(a.jsx)(x.a,{open:c,onClose:function(){i(!t)},TransitionProps:{onExited:function(){s(A())}},children:Object(a.jsx)(v.a,{className:o.loadingIndicator,children:Object(a.jsx)(k.a,{color:"secondary"})})})},E=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},disableBackdropClick:!0,TransitionProps:{onExited:function(){d(A())},onEnter:function(){setTimeout((function(){s(!t)}),r||2e3)}},children:[Object(a.jsx)(g.a,{children:"Success!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},T=n(15),L=n.n(T),R=n(24),M=n(335),_=n.n(M),B={API_BASE_URL:"https://petshield-veterinary-api-dev.herokuapp.com",WS_BASE_URL:"wss://petshield-veterinary-api-dev.herokuapp.com",WS_TIMEOUT:25e3},H=n(701),z=n(369),V=Object(H.a)(Object(z.a)({palette:{mode:"dark",primary:{main:"#1e88e5"},secondary:{main:"#26a69a"}},components:{MuiMenu:{styleOverrides:{padding:"1em"}},MuiCard:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiPaper:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiTableCell:{styleOverrides:{root:{textAlign:"center"}}}}}),{disableAlign:!0}),W=240,Y=["Store Sales","Vet Sales","Service","Grooming","Blood Test"],G=["Deworming","5 in 1","6 in 1","8 in 1","Kennel Cough","ProHeart","4 in 1","Anti-Rabies","Canglob P","Canglob D"],q=["1 Weeks","2 Weeks","1 Year"],U=["3 Days","7 Days","14 Days","30 Days"],J=["Check-Up","Long Term Medication","Post Surgery","Screening"],K=_.a.create({baseURL:B.API_BASE_URL,headers:{"Content-Type":"application/json"}}),Q=function(e){e?K.defaults.headers.common={Authorization:"Bearer ".concat(e)}:delete K.defaults.headers.common.Authorization},X=K,$=function(){var e=Object(R.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("/auth/login",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(R.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/users/token");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=Object(S.b)({name:"auth",initialState:{user:{},token:null,isLoading:!1,error:null},reducers:{loginStart:function(e,t){e.isLoading=!0},loginSuccess:function(e,t){e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.authToken,Q(t.payload.authToken),localStorage.setItem("token",t.payload.authToken)},loginFailure:function(e,t){e.isLoading=!1,e.error=t.payload},logoutStart:function(e,t){e.isLoading=!0},logoutSuccess:function(e,t){e.user={},e.token=null,e.isLoading=!1},logoutFailure:function(e,t){e.isLoading=!1,e.error=t.payload},checkAuthStart:function(e,t){e.isLoading=!0},checkAuthSuccess:function(e,t){e.user=t.payload,e.isLoading=!1},checkAuthFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),te=ee.actions,ne=te.checkAuthStart,ae=te.checkAuthSuccess,re=te.checkAuthFailure,ce=te.loginStart,ie=te.loginSuccess,oe=te.loginFailure,se=te.logoutFailure,le=te.logoutStart,de=te.logoutSuccess,ue=ee.reducer,je=n(640),be=n(702),me=function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.handleNegativePressed,i=e.handlePositivePressed,o=Object(l.useState)(t),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(b.b)();return Object(a.jsxs)(x.a,{open:d,onClose:function(){u(!t)},TransitionProps:{onExited:function(){j(A())}},children:[Object(a.jsx)(g.a,{children:n}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:r})}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{variant:"text",onClick:c,children:"Cancel"}),Object(a.jsx)(be.a,{variant:"text",onClick:i,children:"Confirm"})]})]})},pe=n(336),Oe=Object(pe.a)(),fe=function(e){var t=e.isVisible,n=e.title,r=e.message,c=Object(b.b)();return Object(a.jsx)(me,{isVisible:t,title:n,message:r,handleNegativePressed:function(){c(A())},handlePositivePressed:function(){c(function(){var e=Object(R.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();try{t(le()),t(de())}catch(n){t(se(n))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Oe.replace("/auth/login"),c(A())}})},he=n(134),xe=n(35),ge=function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("/clients/".concat(n),t);case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(R.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.patch("/clients/".concat(t.ID),t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(R.a)(L.a.mark((function e(t,n,a,r,c){var i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("/clients/".concat(t,"/payments/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Se=function(){var e=Object(R.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/clients/".concat(t,"/payments"));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(R.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,e.next=3,X.get("/clients/".concat(n,"/appointments"));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(R.a)(L.a.mark((function e(t){var n,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appointmentId,a=t.branchName,e.next=3,X.delete("/clients/".concat(a,"/appointments/").concat(n));case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(R.a)(L.a.mark((function e(t){var n,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,a=t.appointment,e.next=3,X.post("/clients/".concat(n,"/appointments"),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(R.a)(L.a.mark((function e(t){var n,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,a=t.appointment,e.next=3,X.patch("/clients/".concat(n,"/appointments/").concat(a.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=Object(S.b)({name:"infoModal",initialState:{modalType:null,modalProps:{}},reducers:{showInfoModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideInfoModal:function(e,t){e.modalType="",e.modalProps={}}}}),De=Ae.reducer,ke=Ae.actions,Pe=ke.showInfoModal,Fe=ke.hideInfoModal,Ee=function(e,t){e.error=t.payload},Te=Object(S.b)({name:"clientsSlice",initialState:{clients:{},paymentHistory:[],appointments:[],clientAppointments:[],clientPayments:{},isClientsLoading:!1,isPaymentsLoading:!1,isAppointmentsLoading:!1,isClientSearchingLoading:!1,error:null},reducers:{fetchClientsStart:function(e){e.isClientsLoading=!0},fetchClientsSuccess:function(e,t){e.isClientsLoading=!1;var n={};t.payload.forEach((function(e){n[e.ID]=e})),e.clients=n},fetchClientsError:Ee,addClientStart:function(e){e.isClientsLoading=!0},addClientSuccess:function(e){e.isClientsLoading=!1,e.error=null},addClientError:Ee,updateClientStart:function(e){e.error=null},updateClientSuccess:function(e,t){e.clients[t.payload.ID]=t.payload,e.error=null},updateClientsError:Ee,addClientPaymentStart:function(){},addClientPaymentSuccess:function(e,t){e.paymentHistory=[t.payload].concat(Object(xe.a)(e.paymentHistory)),e.error=!1},addClientPaymentError:Ee,fetchClientPaymentHistoryStart:function(e){e.isPaymentsLoading=!0},fetchClientPaymentHistorySuccess:function(e,t){e.isPaymentsLoading=!1,e.paymentHistory=t.payload,e.error=!1},fetchClientPaymentHistoryError:Ee,fetchAllClientPaymentsStart:function(e){e.isPaymentsLoading=!0},fetchAllClientPaymentsSuccess:function(e,t){e.isPaymentsLoading=!1,e.clientPayments=t.payload,e.error=null},fetchAllClientPaymentsError:Ee,addAppointmentStart:function(e){e.error=null},addAppointmentSuccess:function(e,t){},addAppointmentError:Ee,updateAppointmentStart:function(e){},updateAppointmentSuccess:function(e,t){e.appointments=Object(xe.a)(t.payload),e.error=null},updateAppointmentError:Ee,removeAppointmentStart:function(){},removeAppointmentSuccess:function(e,t){e.appointments=t.payload},removeAppointmentError:Ee,fetchAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.appointments=t.payload,e.error=null},fetchAppointmentsError:Ee,fetchClientAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchClientAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.clientAppointments=t.payload,e.error=null},fetchClientAppointmentsError:Ee}}),Le=Te.actions,Re=Le.fetchClientsSuccess,Me=Le.fetchClientsError,_e=Le.fetchClientsStart,Be=Le.addClientStart,He=Le.addClientError,ze=Le.addClientSuccess,Ve=Le.updateClientStart,We=Le.updateClientSuccess,Ye=Le.updateClientError,Ge=Le.addClientPaymentStart,qe=Le.addClientPaymentSuccess,Ue=Le.addClientPaymentError,Je=Le.fetchClientPaymentHistoryStart,Ke=Le.fetchClientPaymentHistorySuccess,Qe=Le.fetchClientPaymentHistoryError,Xe=Le.fetchAllClientPaymentsStart,$e=Le.fetchAllClientPaymentsSuccess,Ze=Le.fetchAllClientPaymentsError,et=Le.addAppointmentStart,tt=Le.addAppointmentSuccess,nt=Le.addAppointmentError,at=Le.fetchAppointmentsError,rt=Le.fetchAppointmentsStart,ct=Le.fetchAppointmentsSuccess,it=Le.fetchClientAppointmentsError,ot=Le.fetchClientAppointmentsStart,st=Le.fetchClientAppointmentsSuccess,lt=Le.updateAppointmentError,dt=Le.updateAppointmentStart,ut=Le.updateAppointmentSuccess,jt=Le.removeAppointmentError,bt=Le.removeAppointmentSuccess,mt=Le.removeAppointmentStart,pt=Te.reducer,Ot=function(){return function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(_e()),new WebSocket("".concat(B.WS_BASE_URL,"/clients/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Re(n.data))}}catch(c){t(Me(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ft=function(e,t,n){return function(){var a=Object(R.a)(L.a.mark((function a(r,c){var i,o;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=c().clients.clientPayments.metadata,a.prev=1,r(Ge()),r(Pe({modalType:"LOADING_MODAL",modalProps:{}})),a.next=6,ye(e,t,n,i.salesDate,i.salesDateCateg);case 6:o=a.sent,r(Fe()),r(qe(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r(Ue(a.t0.message));case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()},ht=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(R.a)(L.a.mark((function e(a,r){var c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(Xe()),new WebSocket("".concat(B.WS_BASE_URL,"/clients/").concat(c.branchName,"/all-payments?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a($e(t.data))}}catch(o){a(Ze(o.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xt=n(50),gt=n(641),vt=n(644),yt=n(337),St=n(262),It=function(e){var t=e.classes,n=e.onSubmit,r=Object(xt.b)(),c=r.handleSubmit,i=r.register,o=r.errors;return Object(a.jsxs)("form",{className:t.form,id:"addClientForm",onSubmit:c(n),children:[Object(a.jsx)(gt.a,{className:t.field,variant:"outlined",label:"Full Name",name:"clientName",inputRef:i({required:!0}),error:!!o.clientName}),Object(a.jsx)(gt.a,{className:t.field,variant:"outlined",label:"Address",name:"address",inputRef:i({required:!0}),error:!!o.address}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(gt.a,{className:t.field,variant:"outlined",label:"Email",name:"email",type:"email",InputProps:{startAdornment:Object(a.jsx)(vt.a,{position:"start",children:Object(a.jsx)(St.a,{})})},inputRef:i({})}),Object(a.jsx)(gt.a,{className:t.field,variant:"outlined",label:"Contact Number",name:"contactNumber",InputProps:{startAdornment:Object(a.jsx)(vt.a,{position:"start",children:Object(a.jsx)(yt.a,{})})},inputRef:i({pattern:/((^(\+)(\d){12}$)|(^\d{11}$))/}),error:!!o.contactNumber})]}),Object(a.jsx)("br",{}),Object(a.jsx)(gt.a,{className:t.field,variant:"outlined",label:"Pet Name",name:"petName",InputProps:{startAdornment:Object(a.jsx)(vt.a,{position:"start",children:Object(a.jsx)(St.b,{})})},inputRef:i({required:!0}),error:!!o.petName}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(gt.a,{className:t.field,variant:"outlined",label:"Pet Species",name:"petSpecies",inputRef:i({required:!0}),error:!!o.petSpecies}),Object(a.jsx)(gt.a,{className:t.field,variant:"outlined",label:"Pet Breed",name:"petBreed",inputRef:i({required:!0}),error:!!o.petBreed})]})]})},Ct=Object(O.a)((function(e){return{root:{},form:{display:"flex",flexDirection:"column"},field:{marginBottom:e.spacing(2)},fieldGroup:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(2)}}})),Nt=n(14),wt=n(84),At=n(649),Dt=n(650),kt=n(651),Pt=n(648),Ft=n(645),Et=n(652),Tt=n(694),Lt=n(125),Rt=n.n(Lt),Mt=n(126),_t=n.n(Mt),Bt=n(653),Ht=n(225),zt=n(123),Vt=n.n(zt),Wt=Object(O.a)((function(e){return{root:Object(Nt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Yt=function(e){var t=e.toggleAddItemSaleRow,n=Wt();return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(be.a,{variant:"outlined",startIcon:Object(a.jsx)(Vt.a,{}),onClick:function(){t(!0)},children:"Add Transaction"})})]})},Gt=n(693),qt=function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/items/search/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive)}),e.next=3,X.post("/items/".concat(n),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentiveAmount:Number(t.incentiveAmount),incentiveRate:Number(t.incentiveRate),discount:Number(t.discount)}),e.next=3,X.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.delete("/items/item/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive),discount:Number(t.discount)}),e.next=3,X.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(R.a)(L.a.mark((function e(t,n,a,r,c){var i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("/item-sales/".concat(t,"/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),$t=function(){var e=Object(R.a)(L.a.mark((function e(t,n,a,r){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.delete("/item-sales/".concat(t,"/").concat(n,"?salesDate=").concat(a,"&salesDateCateg=").concat(r));case 2:if(!(c=e.sent).data.data){e.next=7;break}return e.abrupt("return",c.data.data);case 7:throw Error(c.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Zt=Object(S.b)({name:"inventorySearchResultSlice",initialState:{isLoading:!1,result:[],error:null},reducers:{searchItemsStart:function(e){e.isLoading=!0},searchItemsSuccess:function(e,t){e.isLoading=!1,e.result=t.payload,e.error=null},searchItemsFailure:function(e,t){e.isLoading=!1,e.error=t.payload},clearItemsSearch:function(e,t){e.result=[],e.isLoading=!1,e.error=null}}}),en=Zt.reducer,tn=Zt.actions,nn=tn.searchItemsFailure,an=tn.searchItemsStart,rn=tn.searchItemsSuccess,cn=tn.clearItemsSearch,on=function(e){return function(){var t=Object(R.a)(L.a.mark((function t(n,a){var r,c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(an()),t.next=5,qt(e,r.branchName);case 5:c=t.sent,n(rn(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(nn(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()},sn=n(646),ln=n(647),dn=n(152),un=n(11),jn=n.n(un),bn=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),mn=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.client,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=jn()(Date.now()).format("MM-DD-YYYY"),O=Object(b.c)((function(e){return e.inventorySearch})),x=O.result,g=O.isLoading,v=bn(),y=Object(b.b)();if(!t)return null;var S=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},I=function(){s({}),m(1)},C=function(){y(ft(r.ID,o.ID,j)),I(),y(cn()),n(!1)},N=function(){I(),y(cn()),n(!1)},w=Object(dn.debounce)((function(e){y(""===e?cn():on(e))}),800),A=function(e){w(e.target.value)};return Object(a.jsxs)(Pt.a,{className:v.root,children:[Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:p})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(Gt.a,{loading:g,options:x.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:A,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[g?Object(a.jsx)(k.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(he.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(Ft.a,{className:v.quantityCell,children:Object(a.jsx)(gt.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:S,fullWidth:!0})}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(he.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(he.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:o.salesCategory})}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)("div",{className:v.buttonRows,children:[Object(a.jsx)(be.a,{className:v.submitButton,variant:"outlined",onClick:C,children:Object(a.jsx)(sn.a,{})}),Object(a.jsx)(be.a,{className:v.cancelButton,variant:"outlined",onClick:N,children:Object(a.jsx)(ln.a,{})})]})})]})}()]})},pn=Object(O.a)((function(e){return{root:Object(Nt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Ht.a[400],border:"2px solid red",borderColor:Ht.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),On=function(e){var t=e.data,n=e.columns,r=e.client,c=pn(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(wt.useTable)({data:t,columns:n},wt.useSortBy),I=S.getTableProps,C=S.headerGroups,N=S.prepareRow,A=S.rows,D=function(e){return Object(a.jsx)(he.a,{children:e.render("Cell")})};return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(Yt,{toggleAddItemSaleRow:y}),Object(a.jsx)(At.a,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},I()),{},{stickyHeader:!0,children:[Object(a.jsx)(kt.a,{children:C.map((function(e){return Object(a.jsxs)(Pt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Ft.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Rt.a,{fontSize:"small"}):Object(a.jsx)(_t.a,{fontSize:"small"}):null]})}))})),Object(a.jsx)(Ft.a,{})]})}))}),Object(a.jsxs)(Et.a,{className:c.container,children:[Object(a.jsx)(mn,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,client:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Pt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Ft.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:D(e)}))},"col".concat(t))})),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(be.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Bt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Tt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},fn=function(e){var t=e.paymentHistory,n=e.client,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:jn()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),client:n};return Object(a.jsx)(On,Object(f.a)({},r))},hn=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}})),xn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"400px",alignItems:"center",padding:e.spacing(2)}}})),gn=n(658),vn=n(695),yn=n(91),Sn=n(575),In=n(584),Cn=n(582),Nn=n(654),wn=n(577),An=n(689),Dn=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),kn=function(e){var t=e.onSubmit,n=e.startDate,r=e.isVaccine,c=e.clientIndex,i=Dn(),o=Object(b.c)((function(e){return e.clients})),s=o.clients,d=o.isClientsLoading,u=c?Object(f.a)(Object(f.a)({},s[c]),{},{clientName:"".concat(s[c].clientName," - ").concat(s[c].pet.petName)}):null,j=Object(l.useMemo)((function(){return Object.keys(s).map((function(e){var t=s[e],n="".concat(t.clientName," - ").concat(t.pet.petName);return Object(f.a)(Object(f.a)({},t),{},{clientName:n})}))}),[s]),m=Object(xt.b)(),p=m.handleSubmit,O=m.errors,h=m.control;return Object(a.jsxs)("form",{className:i.root,id:"addAppointmentForm",onSubmit:p(t),children:[Object(a.jsx)(xt.a,{name:"client",control:h,defaultValue:c?u:null,rules:{required:!0},render:function(e){var t=e.onChange,n=Object(yn.a)(e,["onChange"]);return Object(a.jsx)(Gt.a,Object(f.a)({size:"small",options:j,loading:d,getOptionLabel:function(e){return e.clientName},getOptionSelected:function(e,t){return e.clientName===t.clientName},renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Client Name",fullWidth:!0,error:!!O.client,helperText:O.client?"Enter a client":""}))},onChange:function(e,n){t(n)}},n))}}),Object(a.jsx)(xt.a,{id:"appointment-date",name:"date",control:h,defaultValue:jn()(n).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(An.a,Object(f.a)({allowSameDateSelection:!0,renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date"}))}},e))}}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xt.a,{name:"type",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(yn.a)(e,["onChange"]);return Object(a.jsxs)(Sn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(In.a,{id:"appointment-type",children:"".concat(r?"Vaccine":"Follow Up"," Type")}),Object(a.jsx)(Cn.a,Object(f.a)(Object(f.a)({labelId:"appointment-type",onChange:function(e){return t(e.target.value)}},n),{},{children:r?G.map((function(e){return Object(a.jsx)(Nn.a,{value:e,children:e},e)})):J.map((function(e){return Object(a.jsx)(Nn.a,{value:e,children:e},e)}))})),Object(a.jsx)(wn.a,{error:!!O.type,children:O.type?"Please enter a type":""})]})}}),Object(a.jsx)(xt.a,{name:"reoccurance",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(yn.a)(e,["onChange"]);return Object(a.jsxs)(Sn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(In.a,{id:"appointment-reoccurance",children:"Next Visit"}),Object(a.jsx)(Cn.a,Object(f.a)(Object(f.a)({labelId:"appointment-reoccurance",onChange:function(e){return t(e.target.value)}},n),{},{children:r?q.map((function(e){return Object(a.jsx)(Nn.a,{value:e,children:e},e)})):U.map((function(e){return Object(a.jsx)(Nn.a,{value:e,children:e},e)}))})),Object(a.jsx)(wn.a,{error:!!O.reoccurance,children:O.reoccurance?"Please enter a type":""})]})}})]}),Object(a.jsx)(xt.a,{name:"veterinarianNotes",control:h,defaultValue:"",rules:{},render:function(e){return Object(a.jsx)(gt.a,Object(f.a)({label:"Notes",multiline:!0,size:"small",rows:5},e))}})]})},Pn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"100%",alignItems:"flex-start",padding:e.spacing(2),flexDirection:"column"}}})),Fn=n(368),En=n(338),Tn=n(687),Ln=n(29),Rn=n.n(Ln),Mn=Object(O.a)((function(e){return{root:{},loadingIndicator:{width:"300px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center,"},hasAppointment:{backgroundColor:"".concat(e.palette.primary.main," !important"),color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}},selected:{backgroundColor:"#424242 !important",color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}}}})),_n=function(e){var t,n=e.date,r=e.classes,c=(e._selectedDates,e.selectedDate),i=e.PickersDayComponentProps,o=e.appointments,s=void 0!==Array(o).find((function(e){return jn()(e.date).isSame(n,"date")})),l=jn()(c).isSame(n,"date");return Object(a.jsx)(En.a,Object(f.a)({className:Rn()((t={},Object(Nt.a)(t,r.hasAppointment,s),Object(Nt.a)(t,r.selected,l),t))},i))},Bn=function(e,t){e.isLoading=!1,e.error=t.payload},Hn=Object(S.b)({name:"inventoryItems",initialState:{items:[],itemSales:[],isLoading:!1,error:null},reducers:{fetchItemsStart:function(e){e.isLoading=!0},fetchItemsSuccess:function(e,t){e.isLoading=!1,e.items=t.payload,e.error=null},fetchItemsFailure:Bn,addItemStart:function(e,t){},addItemSuccess:function(e,t){},addItemFailure:Bn,modifyItemStart:function(){},modifyItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},modifyItemFailure:Bn,discountItemStart:function(){},discountItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},discountItemFailure:Bn,deleteItemStart:function(){},deleteItemSuccess:function(e,t){e.items=e.items.filter((function(e){return e.ID!==t.payload}))},deleteItemFailure:Bn}}),zn=Hn.actions,Vn=zn.fetchItemsStart,Wn=zn.fetchItemsSuccess,Yn=zn.fetchItemsFailure,Gn=zn.addItemStart,qn=zn.addItemSuccess,Un=zn.addItemFailure,Jn=zn.modifyItemStart,Kn=zn.modifyItemSuccess,Qn=zn.modifyItemFailure,Xn=zn.discountItemStart,$n=zn.discountItemFailure,Zn=zn.discountItemSuccess,ea=zn.deleteItemStart,ta=zn.deleteItemSuccess,na=zn.deleteItemFailure,aa=Hn.reducer,ra=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),ca=function(e){var t=e.onSubmit,n=e.classes,r=e.isIncentiveFixed,c=e.setIncentiveFixed,i=Object(xt.b)({defaultValues:{remarks:"",category:"Store Sales",incentiveRate:0,incentiveAmount:0}}),o=i.register,s=i.handleSubmit,l=i.errors,d=i.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"addItemForm",onSubmit:s(t),children:[Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:o({required:!0}),error:!!l.name}),Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:o({required:!0,min:0}),error:!!l.inStock}),Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(he.a,{children:"\u20b1"})},inputRef:o({required:!0,min:0}),error:!!l.price}),Object(a.jsx)(xt.a,{control:d,name:"category",as:Object(a.jsx)(Cn.a,{className:n.addItemFormField,variant:"outlined",size:"small",children:Y.map((function(e){return Object(a.jsx)(Nn.a,{value:e,children:e},e)}))})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(gn.a,{className:n.addItemFormField,control:Object(a.jsx)(vn.a,{checked:r,onChange:function(){c(!r)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(gt.a,{disabled:r,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(he.a,{children:"%"})},inputRef:o({required:!0,max:100,min:0}),error:!!l.incentiveRate}),Object(a.jsx)(gt.a,{disabled:!r,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:o({required:!0,min:0}),error:!!l.incentiveAmount})]})]}),Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:o})]})},ia=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1em"},deleteBtn:{borderColor:"red",color:"red"}}})),oa=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),sa=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=e.isIncentiveFixed,i=e.setIncentiveFixed,o=Object(xt.b)({defaultValues:{remarks:null!==r.remarks?r.remarks:"",category:null!==r.category?r.category:"",price:null!==r.price?r.price:0,name:null!==r.name?r.name:"",incentiveRate:null!==r.incentiveRate?r.incentiveRate:0,incentiveAmount:null!==r.incentiveAmount?r.incentiveAmount:0,inStock:null!==r.inStock?r.inStock:0}}),s=o.register,l=o.handleSubmit,d=o.errors,u=o.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"modifyItemForm",onSubmit:l(t),children:[Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:s({required:!0}),error:!!d.name}),Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:s({required:!0,min:0}),error:!!d.inStock}),Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(he.a,{children:"\u20b1"})},inputRef:s({required:!0,min:0}),error:!!d.price}),Object(a.jsx)(xt.a,{control:u,name:"category",as:Object(a.jsx)(Cn.a,{className:n.addItemFormField,variant:"outlined",size:"small",children:Y.map((function(e){return Object(a.jsx)(Nn.a,{value:e,children:e},e)}))})}),Object(a.jsx)(gn.a,{className:n.addItemFormField,control:Object(a.jsx)(vn.a,{checked:c,onChange:function(){i(!c)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(gt.a,{disabled:c,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(he.a,{children:"%"})},inputRef:s({required:!0,max:100,min:0}),error:!!d.incentiveRate}),Object(a.jsx)(gt.a,{disabled:!c,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:s({required:!0,min:0}),error:!!d.incentiveAmount})]}),Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:s})]})},la=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em"}}})),da=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=Object(xt.b)({defaultValues:{discount:null!==r.discount?r.discount:0}}),i=c.register,o=c.handleSubmit,s=c.errors;return Object(a.jsx)("form",{noValidate:!0,className:n.addItemForm,id:"discountItemForm",onSubmit:o(t),children:Object(a.jsx)(gt.a,{className:n.addItemFormField,variant:"outlined",label:"Discount Amount",name:"discount",size:"small",type:"number",helperText:s.discount?"Please input a value between 0.01 and 100":"",InputProps:{endAdornment:Object(a.jsx)(he.a,{children:Object(a.jsx)("strong",{children:"%"})})},inputRef:i({required:!0,min:0,max:100}),autoFocus:!0,error:!!s.discount})})},ua=function(e,t){e.isLoading=!1,e.error=t.payload},ja=Object(S.b)({name:"inventorySales",initialState:{isLoading:!1,itemSales:[],dailySales:0,metadata:{salesDateCateg:"daily"},error:null},reducers:{fetchItemSalesStart:function(e){e.isLoading=!0},fetchItemSalesSuccess:function(e,t){e.isLoading=!1,e.itemSales=t.payload.itemSales,e.dailySales=t.payload.dailySales,e.metadata=t.payload.metadata,e.error=null},fetchItemSalesError:ua,addItemSaleStart:function(){},addItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},addItemSaleFailure:ua,deleteItemSaleStart:function(){},deleteItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},deleteItemSaleFailure:ua}}),ba=ja.reducer,ma=ja.actions,pa=ma.fetchItemSalesError,Oa=ma.fetchItemSalesStart,fa=ma.fetchItemSalesSuccess,ha=ma.addItemSaleFailure,xa=ma.addItemSaleStart,ga=ma.addItemSaleSuccess,va=ma.deleteItemSaleFailure,ya=ma.deleteItemSaleStart,Sa=ma.deleteItemSaleSuccess,Ia=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(R.a)(L.a.mark((function e(a,r){var c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(Oa()),new WebSocket("".concat(B.WS_BASE_URL,"/item-sales/").concat(c.branchName,"?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(fa(t.data))}}catch(o){a(pa(o))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ca=function(e,t){return function(){var n=Object(R.a)(L.a.mark((function n(a,r){var c,i,o;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r().auth.user,i=r().inventorySales.metadata,a(xa()),a(A()),a(w({modalType:"LOADING_MODAL"})),n.next=8,Xt(c.branchName,e,t,i.salesDate,i.salesDateCateg);case 8:o=n.sent,a(ga(o)),a(A()),a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction Complete!",duration:3e3}})),a(cn()),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),a(ha(n.t0)),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}}));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},Na={ADD_ITEM_MODAL:function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=Object(l.useState)(!1),s=Object(h.a)(o,2),d=s[0],u=s[1],j=ra(),m=Object(b.b)(),p=function(){i(!t)};return Object(a.jsxs)(x.a,{open:c,onClose:p,TransitionProps:{onExited:function(){m(A())}},children:[Object(a.jsx)(g.a,{children:"Add Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(ca,{onSubmit:function(e){var n,a=Object(f.a)({},e);a.isIncentiveFixed=d,d?a.incentiveRate=0:a.incentiveAmount=0,m((n=a,function(){var e=Object(R.a)(L.a.mark((function e(t,a){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,t(Gn()),t(w({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Ut(n,r.branchName);case 6:t(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Added!",duration:3e3}})),t(qn()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),t(Un(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}())),i(!t)},classes:j,isIncentiveFixed:d,setIncentiveFixed:u})}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{onClick:p,children:"Cancel"}),Object(a.jsx)(be.a,{form:"addItemForm",type:"submit",children:"Add Item"})]})]})},ADD_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemDetails,i=Object(b.b)();return Object(a.jsx)(me,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){i(Ca(c.itemId,c.quantity))}})},DELETE_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemIndex,i=Object(b.b)(),o=Object(b.c)((function(e){return e.inventorySales})).itemSales;return Object(a.jsx)(me,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){var e;i((e=o[c].ID,function(){var t=Object(R.a)(L.a.mark((function t(n,a){var r,c,i;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().auth.user,c=a().inventorySales.metadata,n(ya()),n(A()),n(w({modalType:"LOADING_MODAL"})),t.next=8,$t(r.branchName,e,c.salesDate,c.salesDateCateg);case 8:i=t.sent,n(Sa(i)),n(A()),n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction deleted successfully!",duration:3e3}})),n(cn()),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),n(va(t.t0)),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}}));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()))}})},MANAGE_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=ia(),u=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){u(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Manage Item"}),Object(a.jsxs)(v.a,{className:d.content,children:[Object(a.jsx)(be.a,{fullWidth:!0,variant:"contained",onClick:function(){s(!t),u(w({modalType:"MODIFY_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Modify Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(be.a,{fullWidth:!0,variant:"outlined",onClick:function(){s(!t),u(w({modalType:"DISCOUNT_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Discount Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(be.a,{className:d.deleteBtn,fullWidth:!0,variant:"outlined",onClick:function(e){s(!t),u(function(e){return function(){var t=Object(R.a)(L.a.mark((function t(n,a){var r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(ea()),n(w({modalType:"LOADING_MODAL",modalProps:{}})),t.next=6,Kt(e,r.branchName);case 6:n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Deleted!",duration:3e3}})),n(ta(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}})),n(na());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(n.ID))},children:"Delete Item"})]})]})},MODIFY_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(n.isIncentiveFixed),u=Object(h.a)(d,2),j=u[0],m=u[1],p=oa(),O=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){O(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Modify Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(sa,{onSubmit:function(e){var a=Object(f.a)(Object(f.a)({},n),e);a.isIncentiveFixed=j,j?a.incentiveRate=0:a.incentiveAmount=0,O(function(e,t){return function(){var n=Object(R.a)(L.a.mark((function n(a,r){var c,i;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(Jn()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,Jt(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Modified!",duration:3e3}})),a(Kn({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(Qn());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,r)),s(!t)},classes:p,itemDetails:n,isIncentiveFixed:j,setIncentiveFixed:m})}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{onClick:y,children:"Cancel"}),Object(a.jsx)(be.a,{form:"modifyItemForm",type:"submit",children:"Modify Item"})]})]})},DISCOUNT_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=la(),u=Object(b.b)(),j=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:j,TransitionProps:{onExited:function(){u(A())}},children:[Object(a.jsx)(g.a,{children:"Discount Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(da,{onSubmit:function(e){var a=e.discount;s(!t),u(function(e,t){return function(){var n=Object(R.a)(L.a.mark((function n(a,r){var c,i;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(Xn()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,Qt(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Discounted!",duration:3e3}})),a(Zn({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a($n());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(Object(f.a)(Object(f.a)({},n),{},{discount:a}),r))},classes:d,itemDetails:n})}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{onClick:j,children:"Cancel"}),Object(a.jsx)(be.a,{form:"discountItemForm",type:"submit",children:"Discount Item"})]})]})},LOADING_MODAL:F,ERROR_MODAL:D,SUCCESS_MODAL:E,LOGOUT_MODAL:fe,ADD_CLIENT_MODAL:function(e){var t=e.isVisible,n=Ct(),r=Object(l.useState)(t),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.b)(),d=function(){o(!t)};return Object(a.jsxs)(x.a,{open:i,onClose:d,TransitionProps:{onExited:function(){s(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(he.a,{align:"center",variant:"h5",children:"Add Client"})}),Object(a.jsx)(v.a,{children:Object(a.jsx)(It,{classes:n,onSubmit:function(e){var t,n=Object(f.a)(Object(f.a)({},e),{},{pet:{petName:e.petName,species:e.petSpecies,petBreed:e.petBreed}});s((t=n,function(){var e=Object(R.a)(L.a.mark((function e(n,a){var r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(Be()),n(Pe({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,ge(t,r.branchName);case 6:c=e.sent,n(ze(c)),n(Fe()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(He(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}())),s(A())}})}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{onClick:d,children:"Cancel"}),Object(a.jsx)(be.a,{form:"addClientForm",type:"submit",children:"Submit"})]})]})},ADD_APPOINTMENT_MODAL:function(e){var t=e.isVisible,n=e.startDate,r=e.clientIndex,c=Pn(),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(!0),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)();Object(l.useEffect)((function(){r||O(Ot())}),[O,r]);var y=function(){d(!t)};return Object(a.jsxs)(x.a,{open:s,onClose:y,TransitionProps:{onExited:function(){O(A())}},className:c.root,fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Schedule Appointment"}),Object(a.jsxs)(v.a,{className:c.content,children:[Object(a.jsx)(gn.a,{label:"For Vaccine",control:Object(a.jsx)(vn.a,{checked:m,onChange:function(e){return p(e.target.checked)}})}),Object(a.jsx)(kn,{onSubmit:function(e){var n=jn()(e.date).toISOString();O(function(e){var t=e.clientId,n=e.appointment;return function(){var e=Object(R.a)(L.a.mark((function e(a){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(et()),a(Pe({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,Ne({clientId:t,appointment:n});case 5:r=e.sent,a(Fe()),a(tt(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a(nt(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:e.client.ID,appointment:Object(f.a)(Object(f.a)({},e),{},{date:n})})),d(!t)},startDate:n,isVaccine:m,clientIndex:r})]}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(be.a,{form:"addAppointmentForm",variant:"outlined",children:"Submit"})]})]})},CLIENT_TRANSACTIONS_MODAL:function(e){var t=e.isVisible,n=e.index,r=hn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})),u=d.clients,j=d.paymentHistory,m=d.isPaymentsLoading,p=u[n],O=Object(b.b)();Object(l.useEffect)((function(){var e;O((e=p.ID,function(){var t=Object(R.a)(L.a.mark((function t(n){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Je()),t.next=4,Se(e);case 4:a=t.sent,n(Ke(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Qe(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[O,p]);var f=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:f,disableBackdropClick:!0,TransitionProps:{onExited:function(){O(A())}},fullScreen:!0,children:[Object(a.jsx)(g.a,{children:"Payment History"}),Object(a.jsx)(v.a,{className:r.content,children:m?Object(a.jsx)(k.a,{}):Object(a.jsx)(fn,{paymentHistory:j,client:p})}),Object(a.jsx)(je.a,{children:Object(a.jsx)(be.a,{variant:"outlined",onClick:f,children:"DONE"})})]})},CLIENT_APPOINTMENTS_MODAL:function(e){var t=e.isVisible,n=e.clientIndex,r=Mn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),s=i[0],d=i[1],u=Object(l.useState)(new Date),j=Object(h.a)(u,2),m=j[0],O=j[1],f=Object(p.g)(),y=Object(b.c)((function(e){return e.clients})),S=y.isAppointmentsLoading,I=y.clientAppointments,C=y.clients[n],N=Object(b.b)(),w=function(){d(!t)},D=function(e){O(e);var n=Array(I).find((function(t){return jn()(t.date).isSame(e,"date")}));n&&(d(!t),f.push("/clients/appointments",{appointment:n}))};Object(l.useEffect)((function(){N(function(e){var t=e.clientId;return function(){var e=Object(R.a)(L.a.mark((function e(n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(ot()),e.next=4,Ie({clientId:t});case 4:a=e.sent,n(st(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(it(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:C.ID}))}),[N,C]);return Object(a.jsxs)(x.a,{open:s,onClose:w,TransitionProps:{onExited:function(){N(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"Appointments"}),Object(a.jsx)(v.a,{children:S?Object(a.jsx)("div",{className:r.loadingIndicator,children:Object(a.jsx)(k.a,{})}):Object(a.jsx)(o.b,{dateAdapter:Tn.a,children:Object(a.jsx)(Fn.a,{date:m,onChange:D,disableHighlightToday:!0,allowSameDateSelection:!0,renderDay:function(e,t,n){return Object(a.jsx)(_n,{classes:r,date:e,selectedDate:m,_selectedDates:t,PickersDayComponentProps:n,appointments:I})},allowKeyboardControl:!1})})}),Object(a.jsx)(je.a,{children:Object(a.jsx)(be.a,{onClick:w,children:"DONE"})})]})},CLIENT_VETERINARIAN_NOTE_MODAL:function(e){var t=e.isVisible,n=e.index,r=xn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})).clients,u=Object(l.useMemo)((function(){return d[n]}),[n,d]),j=Object(l.useState)(u.veterinarianNote?u.veterinarianNote:""),m=Object(h.a)(j,2),p=m[0],O=m[1],v=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){v(A())}},className:r.root,children:[Object(a.jsx)(g.a,{children:"Add Veterinarian Note"}),Object(a.jsx)("div",{className:r.content,children:Object(a.jsx)(gt.a,{fullWidth:!0,label:"Note",multiline:!0,rows:10,value:p,onChange:function(e){return O(e.target.value)}})}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(be.a,{variant:"outlined",onClick:function(){var e=Object(f.a)(Object(f.a)({},u),{},{veterinarianNote:p});v(function(e){return function(){var t=Object(R.a)(L.a.mark((function t(n){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Ve()),n(Pe({modalType:"LOADING_MODAL",modalProps:{}})),t.next=5,ve(e);case 5:a=t.sent,n(We(a)),n(Fe()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(Ye(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e)),s(!t)},children:"Submit"})]})]})}},wa=function(){var e=Object(b.c)((function(e){return e.modals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=Na[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},Aa=n(370),Da=n(661),ka=n(655),Pa=n(578),Fa=n(662),Ea=n(663),Ta=Object(S.b)({name:"drawer",initialState:{isOpen:!1},reducers:{toggleDrawer:function(e){e.isOpen=!e.isOpen}}}),La=Ta.reducer,Ra=Ta.actions.toggleDrawer,Ma=n(691),_a=n(660),Ba=function(){var e=Object(R.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,e.next=3,X.delete("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ha=function(){var e=Object(R.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.notificationId,e.next=3,X.patch("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),za=Object(S.b)({name:"notificationsSlice",initialState:{isLoading:!1,notifications:[],error:null},reducers:{fetchNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},fetchNotificationsSuccess:function(e,t){var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.isLoading=!1,e.error=null},fetchNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},clearNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},clearNotificationsSuccess:function(e,t){e.notifications={},e.isLoading=!1,e.error=null},clearNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},updateNotificationStart:function(){},updateNotificationSuccess:function(e,t){e.isLoading=!1;var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.error=null},updateNotificationError:function(e,t){e.error=t.payload,e.isLoading=!1}}}),Va=za.actions,Wa=Va.fetchNotificationsError,Ya=Va.fetchNotificationsStart,Ga=Va.fetchNotificationsSuccess,qa=Va.updateNotificationError,Ua=Va.updateNotificationStart,Ja=Va.updateNotificationSuccess,Ka=Va.clearNotificationsError,Qa=Va.clearNotificationsStart,Xa=Va.clearNotificationsSuccess,$a=za.reducer,Za=n(643),er=n(579),tr=n(659),nr=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:e.spacing(1)},title:{fontWeight:"bold",fontSize:"1.2rem"},message:{fontSize:"1rem"},seen:{opacity:"50%"},date:{color:"#FFFFFFB3",fontSize:"0.8rem"}}})),ar=function(e){var t=e.notif,n=e.index,r=e.onNotificationPressed,c=nr(),i=Object(l.useState)(t.seen),o=Object(h.a)(i,2),s=o[0],d=o[1],u=JSON.parse(t.payload);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(er.a,{button:!0,onClick:function(){d(!0),r(t,n)},className:s?Rn()([c.root,c.seen]):c.root,children:[Object(a.jsx)(he.a,{className:c.title,children:u.client.clientName}),Object(a.jsx)(he.a,{className:c.message,children:t.message}),Object(a.jsx)(he.a,{className:c.date,children:jn()(t.CreatedAt).format("MMMM DD, YYYY")})]},t.ID),Object(a.jsx)(tr.a,{})]})},rr=Object(O.a)((function(e){return{root:{width:"400px",display:"flex",maxHeight:"500px",flexDirection:"column",justifyContent:"center",gap:e.spacing(1)}}})),cr=function(e){var t=e.notifications,n=e.onNotificationPressed,r=e.onClearNotificationsPressed,c=rr();return Object(a.jsx)(Za.a,{className:c.root,children:0!==Object.keys(t).length?Object(a.jsxs)(a.Fragment,{children:[Object.keys(t).map((function(e,r){var c=t[e];return Object(a.jsx)(ar,{notif:c,index:r,onNotificationPressed:n})})),Object(a.jsx)(be.a,{variant:"text",color:"error",onClick:r,startIcon:Object(a.jsx)(Bt.a,{color:"error"}),children:"Clear Notifications"})]}):Object(a.jsx)(he.a,{align:"center",children:"No Notifications"})})},ir=Object(O.a)((function(e){return{loadingIndicator:{width:"400px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"}}})),or=function(){var e=Object(b.c)((function(e){return e.notifications})),t=e.notifications,n=e.isLoading,r=Object(l.useState)(null),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(p.g)(),d=ir(),u=Object(b.b)();Object(l.useEffect)((function(){u(function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Ya()),new WebSocket("".concat(B.WS_BASE_URL,"/notifications/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Ga(n.data))}}catch(c){t(Wa(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[u]);var j=Boolean(i),m=function(e,t){var n=JSON.parse(e.payload);s.push("/clients/appointments",{appointment:n}),u(function(e){var t=e.notificationId;return e.index,function(){var e=Object(R.a)(L.a.mark((function e(n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Ua()),e.next=4,Ha({notificationId:t});case 4:a=e.sent,n(Ja(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(qa(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({notificationId:e.ID,index:t})),o(null)},O=function(){u(function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().auth.user,e.prev=1,t(Qa()),e.next=5,Ba({branchName:a.branchName});case 5:t(Xa()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Ka(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}())};return Object(a.jsxs)("div",{children:[Object(a.jsx)(Pa.a,{onClick:function(e){o(e.currentTarget)},children:Object(a.jsx)(Ma.a,{badgeContent:Object.keys(t).map((function(e){return t[e]})).filter((function(e){return!e.seen})).length,children:Object(a.jsx)(_a.a,{})})}),Object(a.jsx)(Aa.a,{anchorEl:i,keepMounted:!0,open:j,onClose:function(){o(null)},children:n?Object(a.jsx)("div",{className:d.loadingIndicator,children:Object(a.jsx)(k.a,{})}):Object(a.jsx)(cr,{notifications:t,onNotificationPressed:m,onClearNotificationsPressed:O})})]})},sr=Object(O.a)((function(e){var t;return{appBar:(t={},Object(Nt.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(W,"px)"),marginLeft:W}),Object(Nt.a)(t,"width","100%"),Object(Nt.a)(t,"backgroundColor","#272727"),Object(Nt.a)(t,"flexGrow",1),t),menuButton:Object(Nt.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none "}),grow:{flexGrow:1}}})),lr={dashboard:"Dashboard","pet-queues":"Pet Queues","all-clients":"All Clients",payments:"Payments",appointments:"Appointments","appointment-form":"Appointment Form",items:"All Items",sales:"All Sales"},dr=function(){var e=Object(l.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(l.useState)(""),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(p.h)(),u=Boolean(n),j=Object(b.b)(),m=sr();Object(l.useEffect)((function(){var e=d.pathname.split("/"),t=lr[e[e.length-1]];s(t)}),[d,o,s]);var O=function(){r(null)},f=function(){O(),j(w({modalType:"LOGOUT_MODAL",modalProps:{title:"Logout",message:"Are you sure you want to logout from the session?"}}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Da.a,{position:"fixed",className:m.appBar,children:Object(a.jsxs)(ka.a,{children:[Object(a.jsx)(Pa.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){j(Ra())},className:m.menuButton,children:Object(a.jsx)(Fa.a,{})}),Object(a.jsx)(he.a,{children:"Petshield Veterinary Clinic - "+o}),Object(a.jsx)("div",{className:m.grow}),Object(a.jsx)(or,{}),Object(a.jsx)(Pa.a,{edge:"end",onClick:function(e){r(e.target)},children:Object(a.jsx)(Ea.a,{style:{fontSize:"2rem"}})})]})}),Object(a.jsx)(Aa.a,{anchorEl:n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:O,children:Object(a.jsx)(Nn.a,{onClick:f,children:"Logout"})})]})},ur=n(664),jr=n(665),br=n(668),mr=n(696),pr=n(704),Or=n(666),fr=n(667),hr=n.p+"static/media/house.7d774967.svg",xr=n.p+"static/media/all_clients.2a3b6270.svg",gr=n.p+"static/media/all_items.e153111f.svg",vr=n.p+"static/media/appointments.f3506a0a.svg",yr=n.p+"static/media/clients.b5a069e7.svg",Sr=n.p+"static/media/dashboard.99dfeff1.svg",Ir=n.p+"static/media/inventory.c084951b.svg",Cr=n.p+"static/media/item_transactions.a4256305.svg",Nr=(n.p,n.p+"static/media/payments.8026a3af.svg"),wr=n(144),Ar=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,drawer:Object(Nt.a)({},e.breakpoints.up("sm"),{width:W,flexShrink:0}),drawerPaper:{width:W,backgroundColor:"#343434"},nested:{paddingLeft:"".concat(e.spacing(4))},drawerIcon:{width:"34px",height:"34px",fill:"".concat(e.palette.primary.main," !important")}}})),Dr=function(){var e=Ar(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.drawer})).isOpen,r=Object(l.useState)({home:!1,clients:!1,inventory:!1}),c=Object(h.a)(r,2),i=c[0],o=c[1],s=[{label:"Home",type:"home",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{home:!i.home}))},icon:hr,subItems:[{label:"Dashboard",icon:Sr,path:"/home/dashboard"}]},{label:"Clients",type:"clients",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{clients:!i.clients}))},icon:yr,subItems:[{label:"All Clients",icon:xr,path:"/clients/all-clients"},{label:"Payments",icon:Nr,path:"/clients/payments"},{label:"Appointments",icon:vr,path:"/clients/appointments"}]},{label:"Inventory",type:"inventory",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{inventory:!i.inventory}))},icon:Ir,subItems:[{label:"All Items",icon:gr,path:"/inventory/items"},{label:"Item Transactions",icon:Cr,path:"/inventory/sales"}]}],u=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)(tr.a,{}),Object(a.jsx)(Za.a,{children:s.map((function(t){return Object(a.jsxs)(d.a.Fragment,{children:[Object(a.jsxs)(er.a,{button:!0,onClick:t.handleOnClick,children:[Object(a.jsx)(ur.a,{children:Object(a.jsx)(wr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label)}),Object(a.jsx)(jr.a,{primary:t.label}),i[t.type]?Object(a.jsx)(Or.a,{}):Object(a.jsx)(fr.a,{})]},t.label),Object(a.jsx)(br.a,{in:i[t.type],timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(Za.a,{component:"div",children:t.subItems.map((function(t){return Object(a.jsxs)(er.a,{button:!0,component:m.b,to:t.path,className:e.nested,children:[Object(a.jsx)(ur.a,{children:Object(a.jsx)(wr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label)}),Object(a.jsx)(jr.a,{primary:t.label})]},t.label)}))})})]},t.label)}))})]}),j=function(){t(Ra())};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(mr.a,{smUp:!0,implementation:"css",children:Object(a.jsx)(pr.a,{className:e.drawer,variant:"temporary",anchor:"left",open:n,onClose:j,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:u})}),Object(a.jsx)(mr.a,{smDown:!0,implementation:"css",children:Object(a.jsx)(pr.a,{className:e.drawer,classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:u})})]})},kr=function(e){var t=e.component,n=Object(yn.a)(e,["component"]),r=Object(b.c)((function(e){return e.auth})).user;return 0!==Object.keys(r).length?Object(a.jsx)(p.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(dr,{}),Object(a.jsx)(Dr,{}),Object(a.jsx)(t,Object(f.a)({},e))]})}})):Object(a.jsx)(p.a,{to:{pathname:"/auth/login"}})},Pr=n(231),Fr=n(344),Er=n.n(Fr),Tr=n(345),Lr=n.n(Tr),Rr=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"100%"},textField:{paddingBottom:"1em"}}})),Mr=function(e){var t=e.onSubmit,n=Rr(),r=Object(l.useState)(!1),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(xt.b)(),d=s.register,u=s.errors,j=s.handleSubmit;return Object(a.jsxs)("form",{id:"loginForm",className:n.root,onSubmit:j(t),children:[Object(a.jsx)(gt.a,{className:n.textField,variant:"outlined",label:"Username",name:"username",size:"small",helperText:u.username?"This field is required!":"",inputRef:d({required:!0}),error:!!u.username}),Object(a.jsx)(gt.a,{className:n.textField,variant:"outlined",label:"Password",name:"password",size:"small",helperText:u.password?"This field is required!":"",type:i?"text":"password",inputRef:d({required:!0}),InputProps:{endAdornment:Object(a.jsx)(vt.a,{children:Object(a.jsx)(Pa.a,{onClick:function(){o(!i)},children:i?Object(a.jsx)(Er.a,{color:"secondary"}):Object(a.jsx)(Lr.a,{color:"secondary"})})})},error:!!u.password})]})},_r=n.p+"static/media/login_background.102072f5.png",Br=n.p+"static/media/logo.68ea1519.png",Hr=Object(O.a)((function(e){return{root:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},background:{height:"100vh",width:"100%",position:"absolute",top:"0",left:"0",backgroundImage:"url(".concat(_r,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"blur(4px)"},container:{display:"grid",width:"100%",height:"100%",maxHeight:"500px",maxWidth:"500px",gridTemplate:"1fr 1fr 1fr/ 1fr",placeContent:"center",padding:"1em",zIndex:2},loading:{display:"grid",width:"100%",height:"100%",placeContent:"center"},centerItem:{display:"grid",placeSelf:"center"},logo:{position:"fixed",top:"0",margin:"1em auto",width:"80px",height:"80px",zIndex:2}}})),zr=function(){var e=Hr(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.auth})),r=n.user,c=n.isLoading,i=function(e){var n;t((n=e,function(){var e=Object(R.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ce()),e.next=4,$(n);case 4:a=e.sent,t(ie(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(oe(e.t0.message)),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message}}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(Pr.a,{className:e.root,elevation:0,children:[Object(a.jsx)("img",{className:e.logo,src:Br,alt:"logo"}),Object(a.jsx)("div",{className:e.background}),c?Object(a.jsx)("div",{className:e.loading,children:Object(a.jsx)(k.a,{color:"primary"})}):0===Object.keys(r).length?Object(a.jsxs)(Pr.a,{variant:"outlined",className:e.container,children:[Object(a.jsx)(he.a,{className:e.centerItem,align:"center",variant:"h5",children:"Petshield Veterinary Clinic"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Mr,{onSubmit:i}),Object(a.jsx)(be.a,{color:"primary",form:"loginForm",type:"submit",variant:"contained",fullWidth:!0,children:"Login"})]})]}):Object(a.jsx)(p.a,{to:"/home/dashboard"})]})},Vr=n(669),Wr=function(){var e=Object(R.a)(L.a.mark((function e(t,n,a){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/stats/".concat(t,"/item-sales?salesDate=").concat(n,"&salesDateCateg=").concat(a));case 2:if(!(r=e.sent).data.data){e.next=7;break}return e.abrupt("return",r.data.data);case 7:throw Error(r.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Yr=Object(S.b)({name:"homeSalesStats",initialState:{isLoading:!1,stats:{},error:null},reducers:{fetchItemSalesStatsStart:function(e){e.isLoading=!0},fetchItemSalesStatsSuccess:function(e,t){e.isLoading=!1,e.stats=t.payload},fetchItemSalesStatsFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),Gr=Yr.reducer,qr=Yr.actions,Ur=qr.fetchItemSalesStatsFailure,Jr=qr.fetchItemSalesStatsStart,Kr=qr.fetchItemSalesStatsSuccess,Qr=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"}}})),Xr=function(e){var t=e.setSalesDateCateg,n=e.salesDateCateg,r=e.salesDate,c=e.setSalesDate,i=Qr(),o=Object(b.b)();return Object(l.useEffect)((function(){o(function(e,t){return function(){var n=Object(R.a)(L.a.mark((function n(a,r){var c,i;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(Jr()),n.next=5,Wr(c.branchName,e,t);case 5:i=n.sent,a(Kr(i)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a(Ur(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,n))}),[o,r,n]),Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsxs)(Cn.a,{value:n,onChange:function(e){var n=e.target.value;t(n)},variant:"outlined",children:[Object(a.jsx)(Nn.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(Nn.a,{value:"yearly",children:"Yearly"})]}),Object(a.jsx)(An.a,{value:r,allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},views:{monthly:["month","year"],yearly:["year"]}[n],onChange:function(e){c(jn()(e).format("MM-DD-YYYY"))}})]})},$r=n(692),Zr=n(670),ec=n(674),tc=n(356),nc=n(357),ac=n(230),rc=n(182),cc=n(371),ic=n(698),oc=n(372),sc=Object(O.a)((function(e){return{root:{padding:e.spacing(2)}}})),lc=function(e){var t=e.payload,n=e.active,r=sc();if(n&&t){var c=t[0].payload.name,i=t[0].payload.sales;return Object(a.jsxs)(Vr.a,{className:r.root,children:[Object(a.jsx)(he.a,{variant:"h6",align:"center",children:c}),Object(a.jsx)("br",{}),function(){if(0!==Object.keys(i).length){var e=Object.keys(i).filter((function(e){return"Net Sales"!==e})).map((function(e){return Object(a.jsx)(he.a,{children:"".concat(e,": ").concat(i[e])},e)}));return Object(a.jsxs)(a.Fragment,{children:[e,Object(a.jsx)(he.a,{children:"Net Sales: ".concat(void 0!==i["Net Sales"]?i["Net Sales"]:0)})]})}return Object(a.jsx)(he.a,{children:"No Sales"})}()]})}return null},dc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-evenly",gridGap:"1em"},tooltip:{backgroundColor:"red"}}})),uc=function(){var e=dc(),t=Object(b.c)((function(e){return e.homeSalesStats})),n=t.isLoading,r=t.stats,c=Object(l.useState)([]),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)([]),u=Object(h.a)(d,2),j=u[0],m=u[1];Object(l.useEffect)((function(){var e={Grooming:"#8884D8","VET Sales":"#8CDEDC","Store Sales":"#B2ECE1","Blood Test":"#D295BF",default:"#DE9151"};0!==Object.keys(r).length&&function(){for(var t=r.data.map((function(e){return{name:e.category,sales:e.value,netSales:void 0!==e.value["Net Sales"]?e.value["Net Sales"]:0}})),n={},a=function(e){0!==Object.keys(r.data[e].value).length&&Object.keys(r.data[e].value).filter((function(e){return"Net Sales"!==e})).forEach((function(t){n[t]||(n[t]=0),n[t]+=r.data[e].value[t]}))},c=0;c<r.data.length;c++)a(c);var i=Object.keys(n).map((function(t){return{name:t,value:n[t],fill:void 0!==e[t]?e[t]:e.default}}));m(i),s(t)}()}),[r,n,m,s]);return Object(a.jsx)("div",{className:e.root,children:n?Object(a.jsx)(k.a,{}):0!==o.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($r.a,{width:"100%",height:400,children:Object(a.jsxs)(Zr.a,{data:o,children:[Object(a.jsx)(ec.a,{strokeDasharray:"3 3"}),Object(a.jsx)(tc.a,{dataKey:"name",type:"category"}),Object(a.jsx)(nc.a,{type:"number",dataKey:"netSales",name:"Net Sales"}),Object(a.jsx)(ac.a,{content:Object(a.jsx)(lc,{})}),Object(a.jsx)(rc.a,{}),Object(a.jsx)(cc.a,{type:"monotone",dataKey:"netSales"})]})}),Object(a.jsx)($r.a,{width:"100%",height:400,children:Object(a.jsxs)(ic.a,{children:[Object(a.jsx)(ac.a,{}),Object(a.jsx)(rc.a,{}),Object(a.jsx)(oc.a,{data:j,dataKey:"value"})]})})]}):null})},jc=Object(O.a)((function(e){return{root:Object(Nt.a)({padding:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"}),graphWrapper:{},title:{margin:"".concat(e.spacing(2)," 0")}}})),bc=function(){var e=jn()(Date.now()).format("MM-DD-YYYY"),t=Object(l.useState)("monthly"),n=Object(h.a)(t,2),r=n[0],c=n[1],i=Object(l.useState)(e),o=Object(h.a)(i,2),s=o[0],d=o[1],u=jc();return Object(a.jsxs)(Vr.a,{className:u.root,children:[Object(a.jsx)(Xr,{salesDate:s,setSalesDate:d,salesDateCateg:r,setSalesDateCateg:c}),Object(a.jsx)(he.a,{variant:"h5",align:"center",className:u.title,children:"".concat(r.toUpperCase()," Sales")}),Object(a.jsx)("div",{className:u.graphWrapper,children:Object(a.jsx)(uc,{})})]})},mc=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"}}})),pc=function(){var e=mc();return Object(a.jsx)(Pr.a,{className:e.root,children:Object(a.jsx)(bc,{})})},Oc=n(679),fc=n.p+"static/media/consultations.524fbfbc.svg",hc=n(699),xc=n(273),gc=n(675),vc=n(676),yc=n(677),Sc=n(678),Ic=n.p+"static/media/rx_icon.edf0143d.png",Cc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},owner:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),Nc=function(){var e=Cc();return Object(a.jsxs)(Pr.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(hc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(he.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(he.a,{className:e.owner,children:"Owner: Paolo"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(xc.a,{className:e.consultationButton,children:Object(a.jsx)(gc.a,{})}),Object(a.jsx)(xc.a,{className:e.consultationButton,children:Object(a.jsx)(vc.a,{})}),Object(a.jsx)(xc.a,{className:e.consultationButton,children:Object(a.jsx)(yc.a,{})}),Object(a.jsx)(xc.a,{className:Rn()(e.consultationButton,e.finish),children:Object(a.jsx)(sn.a,{})}),Object(a.jsx)(xc.a,{className:e.consultationButton,children:Object(a.jsx)(Sc.a,{})}),Object(a.jsx)(xc.a,{className:Rn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Ic,alt:"rx"})})]})]})},wc=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},consultationList:{marginTop:"1em"}}})),Ac=function(){var e=wc();return Object(a.jsx)(Vr.a,{className:e.root,children:Object(a.jsxs)(Oc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(he.a,{variant:"h5",children:"Consultations"}),Object(a.jsxs)(he.a,{className:e.subTitle,variant:"body1",children:["Pets to consult:"," "]})]}),Object(a.jsx)(wr.a,{src:fc,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(tr.a,{}),Object(a.jsx)(Za.a,{className:e.consultationList,children:Object(a.jsx)(Nc,{})})]})})},Dc=n.p+"static/media/admitted.d82cca45.svg",kc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),Pc=function(){var e=kc();return Object(a.jsxs)(Pr.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(hc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(he.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(he.a,{className:e.subTitle,children:"Owner: Paolo"}),Object(a.jsx)(he.a,{className:e.subTitle,children:"Days admitted: 0"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(xc.a,{className:e.consultationButton,children:Object(a.jsx)(yc.a,{})}),Object(a.jsx)(xc.a,{className:e.consultationButton,children:Object(a.jsx)(vc.a,{})}),Object(a.jsx)(xc.a,{className:e.consultationButton,children:Object(a.jsx)(gc.a,{})}),Object(a.jsx)(xc.a,{className:Rn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Ic,alt:"rx"})})]})]})},Fc=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},admittancesList:{marginTop:"1em"}}})),Ec=function(){var e=Fc();return Object(a.jsx)(Vr.a,{className:e.root,children:Object(a.jsxs)(Oc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(he.a,{variant:"h5",children:"Admitted"}),Object(a.jsx)(he.a,{className:e.subTitle,variant:"body1",children:"Pets admitted:"})]}),Object(a.jsx)(wr.a,{src:Dc,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(tr.a,{}),Object(a.jsx)(Za.a,{className:e.admittancesList,children:Object(a.jsx)(Pc,{})})]})})},Tc=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},container:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(3)}}})),Lc=function(){var e=Tc();return Object(a.jsx)(Pr.a,{className:e.root,children:Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(Ac,{}),Object(a.jsx)(Ec,{})]})})},Rc=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/dashboard"),component:pc}),Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/pet-queues"),component:Lc}),Object(a.jsx)(p.a,{to:"".concat(t.url,"/dashboard")})]})},Mc=n(680),_c=n(681),Bc=Object(O.a)((function(e){return{root:{marginBottom:e.spacing(2)},container:{display:"flex",justifyContent:"space-between",borderRadius:"10px",backgroundColor:"#2f2f2f"},infoContainer:{display:"flex",padding:e.spacing(1)},buttonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{zIndex:"10",padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}},clientMoreDetails:{display:"flex",flexDirection:"column",padding:e.spacing(2)}}})),Hc=function(e){var t=e.client,n=e.index,r=Bc(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(Pr.a,{className:r.root,children:[Object(a.jsxs)(er.a,{button:!0,className:r.container,onClick:function(){s(!o)},children:[Object(a.jsxs)("div",{className:r.infoContainer,children:[Object(a.jsx)(hc.a,{className:r.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(he.a,{variant:"h6",children:"Pet Name: ".concat(t.pet.petName)}),Object(a.jsx)(he.a,{className:r.subTitle,children:"Owner: ".concat(t.clientName)}),Object(a.jsx)(he.a,{className:r.subTitle,children:"Pet Species: ".concat(t.pet.species)}),Object(a.jsx)(he.a,{className:r.subTitle,children:"Pet Breed: ".concat(t.pet.petBreed)}),Object(a.jsx)(he.a,{className:r.subTitle,children:"Last Visit: ".concat(jn()(t.lastVisit).format("MM-DD-YYYY HH-MM-SS A"))}),Object(a.jsx)(he.a,{className:r.subTitle,children:"Next Visit: ".concat(jn()(t.nextVisit).format("MM-DD-YYYY HH-MM-SS A"))})]})]}),Object(a.jsxs)("div",{className:r.buttonsContainer,children:[Object(a.jsx)(xc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_TRANSACTIONS_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(Mc.a,{})}),Object(a.jsx)(xc.a,{className:r.consultationButton,children:Object(a.jsx)(vc.a,{})}),Object(a.jsx)(xc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_VETERINARIAN_NOTE_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(gc.a,{})}),Object(a.jsx)(xc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_APPOINTMENTS_MODAL",modalProps:{clientIndex:n}}))},children:Object(a.jsx)(_c.a,{})}),Object(a.jsx)(xc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{clientIndex:n,startDate:Date().toString()}}))},children:Object(a.jsx)(Sc.a,{})}),Object(a.jsx)(xc.a,{className:Rn()(r.consultationButton,r.rxIcon),children:Object(a.jsx)("img",{src:Ic,alt:"rx"})})]})]}),Object(a.jsx)(br.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)("div",{className:r.clientMoreDetails,children:[Object(a.jsx)(he.a,{children:"Address: ".concat(t.address)}),Object(a.jsx)(he.a,{children:"Contact Number: ".concat(t.contactNumber)}),Object(a.jsx)(he.a,{children:"Email: ".concat(t.email)}),Object(a.jsx)(he.a,{children:"Veterinarian Note: ".concat(t.veterinarianNote)})]})})]})},zc=Object(O.a)((function(e){return{root:{minHeight:"100%",overflowY:"auto",overflowX:"hidden",padding:"0 ".concat(e.spacing(2)),paddingBottom:e.spacing(5)}}})),Vc=function(e){var t=e.clients,n=zc();return Object(a.jsx)(Za.a,{className:n.root,children:Object.keys(t).map((function(e){return Object(a.jsx)(Hc,{client:t[e],index:e},t[e].ID)}))})},Wc=n(682),Yc=n(683),Gc=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)}}})),qc=function(e){var t=e.fuse,n=e.setClientResultsSearch,r=Object(b.b)(),c=Gc();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(gt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(vt.a,{children:Object(a.jsx)(Wc.a,{color:"primary"})})},onChange:function(e){!function(e){if(""!==e){var a=t.search(e);n(a.map((function(e){return e.item})))}else n(null)}(e.target.value)}}),Object(a.jsx)(be.a,{variant:"outlined",startIcon:Object(a.jsx)(Yc.a,{}),onClick:function(){r(w({modalType:"ADD_CLIENT_MODAL"}))},children:"Add Client"})]})},Uc=n(361),Jc=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px",overflow:"hidden"},loadingIndicator:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{display:"flex",justifyContent:"flex-end"}}})),Kc=function(){var e=Jc(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.clients,c=n.isClientsLoading,i=Object(l.useState)(null),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useMemo)((function(){return{includeScore:!0,keys:["clientName"]}}),[]),j=Object(l.useMemo)((function(){return new Uc.a(r,u)}),[r,u]);Object(l.useEffect)((function(){t(Ot())}),[t]);return Object(a.jsx)(Pr.a,{className:e.root,children:c?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(k.a,{})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(qc,{setClientResultsSearch:d,fuse:j}),Object(a.jsx)(Vc,{clients:s||r})]})})},Qc=n(59),Xc=n(7),$c=n(78),Zc=n(684),ei=Object(O.a)((function(e){return{icon:{color:e.palette.action.active},textCenter:{textAlign:"center"},commandButton:{backgroundColor:"rgba(255,255,255,0.65)"},header:{display:"flex",justifyContent:"space-between"},form:{display:"flex",marginTop:e.spacing(2),width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),ti=function(e){e.children;var t=e.appointmentData,n=e.setIsEditing,r=e.isEditing,c=e.setAppointmentVisible,i=Object(yn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible"]),o=Object(b.b)(),s=ei();return Object(a.jsxs)($c.b.Header,Object(f.a)(Object(f.a)({className:s.header},i),{},{appointmentData:t,children:[Object(a.jsx)(Pa.a,{onClick:function(){var e=t.appointment;o(function(e){var t=e.appointmentId;return function(){var e=Object(R.a)(L.a.mark((function e(n,a){var r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(mt()),n(Pe({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Ce({appointmentId:t,branchName:r.branchName});case 6:c=e.sent,n(Fe()),n(bt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(jt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointmentId:e.ID})),c(!1)},children:Object(a.jsx)(Bt.a,{color:"error"})}),Object(a.jsx)(Pa.a,{onClick:function(){return n(!r)},children:Object(a.jsx)(Zc.a,{color:r?"primary":"action"})})]}))},ni=function(e){e.children;var t=e.appointmentData,n=(e.setIsEditing,e.isEditing),r=e.setAppointmentVisible,c=(e.onAppointmentMetaChanged,Object(yn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible","onAppointmentMetaChanged"])),i=ei(),o=Object(b.b)(),s=Object(xt.b)(),l=s.handleSubmit,d=s.control,u=t.appointment;return Object(a.jsx)($c.b.Content,Object(f.a)(Object(f.a)({},c),{},{appointmentData:t,children:Object(a.jsxs)("form",{className:i.form,id:"updateAppointmentForm",onSubmit:l((function(e){var t=jn()(e.date).toISOString(),n=Object(f.a)(Object(f.a)({},u),{},{date:t,veterinarianNote:e.veterinarianNotes});r(!1),o(function(e){var t=e.appointment;return function(){var e=Object(R.a)(L.a.mark((function e(n,a){var r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(dt()),n(Pe({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,we({branchName:r.branchName,appointment:t});case 6:c=e.sent,n(Fe()),n(ut(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(lt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointment:n}))})),children:[Object(a.jsx)(xt.a,{id:"appointment-date",name:"date",control:d,defaultValue:jn()(u.date).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(An.a,Object(f.a)({disabled:!n,renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date",readOnly:!n}))}},e))}}),Object(a.jsx)(xt.a,{name:"veterinarianNotes",control:d,defaultValue:u.veterinarianNote,rules:{},render:function(e){return Object(a.jsx)(gt.a,Object(f.a)({disabled:!n,label:"Notes",multiline:!0,size:"small",rows:5},e))}}),n?Object(a.jsx)(be.a,{form:"updateAppointmentForm",children:"Update Appointment"}):null]})}))},ai=function(e){var t=Object(b.b)();return Object(a.jsx)($c.e.TimeTableCell,Object(f.a)({onClick:function(){t(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{startDate:String(e.startDate)}}))}},e))},ri=n(57),ci=n(58),ii=n(93),oi=n(92),si=function(e){Object(ii.a)(n,e);var t=Object(oi.a)(n);function n(e){var a;return Object(ri.a)(this,n),(a=t.call(this,e)).ref=d.a.createRef(),a}return Object(ci.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.setAppointmentVisible,a=e.onAppointmentMetaChange,r=e.notificationState,c=e.setNotificationState;if(r){var i=r.appointment;Array.isArray(i)?i[0].ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null)):i.ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null))}}},{key:"render",value:function(){var e=this.props,t=e.data,n=(e.onClick,e.classes,e.setAppointmentVisible),r=e.onAppointmentMetaChange,c=(e.location,Object(yn.a)(e,["data","onClick","classes","setAppointmentVisible","onAppointmentMetaChange","location"]));return Object(a.jsx)($c.c.Appointment,Object(f.a)(Object(f.a)({ref:this.ref,onClick:function(e){var a=e.target;n(!0),r({target:a.parentElement.parentElement,data:t})}},c),{},{children:Object(a.jsx)("div",{ref:this.ref,children:c.children})}))}}]),n}(d.a.Component),li=Object(O.a)((function(e){return{root:{height:"100%",borderRadius:"10px",overflow:"hidden"},button:{color:e.palette.background.default,padding:0},appointmentWrapper:{display:"flex",flexWrap:"wrap"}}})),di=function(e){var t=e.data,n=li(),r=Object(p.h)(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(r.state),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(!1),O=Object(h.a)(m,2),f=O[0],x=O[1],g=Object(l.useState)({target:null,data:{}}),v=Object(h.a)(g,2),y=v[0],S=v[1],I=function(e){var t=e.data,n=e.target;x(!1),S({data:t,target:n})},C=Object(Xc.k)(ti,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s}})),N=Object(Xc.k)(ni,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s,onAppointmentMetaChanged:I}})),w=Object(Xc.k)(si,(function(){return{classes:n,setAppointmentVisible:s,onAppointmentMetaChange:I,notificationState:j,setNotificationState:b}}));return Object(a.jsx)(Pr.a,{className:n.root,children:Object(a.jsxs)($c.f,{height:"auto",data:t,className:n.root,children:[Object(a.jsx)(Qc.q,{}),Object(a.jsx)($c.e,{timeTableCellComponent:ai}),Object(a.jsx)($c.g,{}),Object(a.jsx)($c.d,{}),Object(a.jsx)($c.c,{appointmentComponent:w}),Object(a.jsx)($c.b,{headerComponent:C,contentComponent:N,visible:o,onVisibilityChange:function(e){return s(e)},appointmentMeta:y,onAppointmentMetaChange:I}),Object(a.jsx)($c.a,{})]})})},ui=function(){var e=Object(b.c)((function(e){return e.clients})).appointments.map((function(e){return{id:e.ID,startDate:new Date(e.date),endDate:jn()(new Date(e.date)).add(2,"hours").toDate(),title:"".concat(e.client.clientName," - ").concat(e.client.pet.petName," : ").concat(e.type),client:e.client,appointment:e}}));return Object(a.jsx)(di,{data:e})},ji=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),bi=function(){var e=ji(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})).isAppointmentsLoading;Object(l.useEffect)((function(){t(function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(rt()),new WebSocket("".concat(B.WS_BASE_URL,"/clients/").concat(a.branchName,"/appointments?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(ct(n.data))}}catch(c){t(at(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(Vr.a,{className:e.root,children:n?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(k.a,{})}):Object(a.jsx)(ui,{})})},mi=Object(O.a)((function(e){return{root:Object(Nt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),pi=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=e.setSelectedClient,c=mi(),i=Object(b.c)((function(e){return e.clients})),o=i.isClientsLoading,s=i.clients;return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)("div",{children:n?Object(a.jsx)(Gt.a,{loading:o,options:s,getOptionLabel:function(e){return e.clientName},renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Client Name",variant:"outlined",helperText:"Enter client name here.",InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[o?Object(a.jsx)(k.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&r(t)}}):null}),Object(a.jsx)("div",{children:Object(a.jsx)(be.a,{variant:"outlined",startIcon:Object(a.jsx)(Vt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},Oi=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:e.spacing(1)},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),fi=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.selectedClient,c=e.setSelectedClient,i=Object(l.useState)({}),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(1),j=Object(h.a)(u,2),m=j[0],p=j[1],O=jn()(Date.now()).format("MM-DD-YYYY"),x=Object(b.c)((function(e){return e.inventorySearch})),g=x.result,v=x.isLoading,y=Oi(),S=Object(b.b)();if(Object(l.useEffect)((function(){S(Ot())}),[S]),!t)return null;var I=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(s.inStock)&&p(t)},C=function(){c({}),d({}),p(1)},N=function(){S(ft(r.ID,s.ID,m)),C(),S(cn()),n(!1)},w=function(){C(),S(cn()),n(!1)},A=Object(dn.debounce)((function(e){S(""===e?cn():on(e))}),800),D=function(e){A(e.target.value)};return Object(a.jsxs)(Pt.a,{className:y.root,children:[Object(a.jsx)(Ft.a,{children:O}),Object(a.jsx)(Ft.a,{children:r.clientName}),Object(a.jsx)(Ft.a,{children:0===Object.keys(r).length?"Select a client first":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Gt.a,{loading:v,options:g.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Product Name",size:"small",onChange:D,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[v?Object(a.jsx)(k.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&d(t)}}),s.name]})}),function(){var e=s.price*m,t=e-(s.isIncentiveFixed?Number(s.incentiveAmount).toFixed(2):Number(e*(s.incentiveRate/100)).toFixed(2));return 0===Object.keys(s).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ft.a,{children:["\u20b1",Number(s.price).toFixed(2)]}),Object(a.jsx)(Ft.a,{className:y.quantityCell,children:Object(a.jsx)(gt.a,{size:"small",variant:"outlined",type:"number",value:m,margin:"dense",onChange:I})}),Object(a.jsxs)(Ft.a,{children:["\u20b1",Number(e).toFixed(2)]}),Object(a.jsx)(Ft.a,{children:"".concat(Number(s.incentiveRate).toFixed(2),"%")}),Object(a.jsx)(Ft.a,{children:s.isIncentiveFixed?"\u20b1".concat(Number(s.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(s.incentiveRate/100)).toFixed(2))}),Object(a.jsxs)(Ft.a,{children:["\u20b1",Number(t).toFixed(2)]}),Object(a.jsx)(Ft.a,{children:s.category}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)("div",{className:y.buttonRows,children:[Object(a.jsx)(be.a,{className:y.submitButton,variant:"outlined",onClick:N,children:Object(a.jsx)(sn.a,{})}),Object(a.jsx)(be.a,{className:y.cancelButton,variant:"outlined",onClick:w,children:Object(a.jsx)(ln.a,{})})]})})]})}()]})},hi=Object(O.a)((function(e){return{root:Object(Nt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Ht.a[400],border:"2px solid red",borderColor:Ht.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),xi=function(e){var t=e.data,n=e.columns,r=hi(),c=Object(b.b)(),i=Object(l.useState)(0),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(10),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(l.useState)(!1),x=Object(h.a)(O,2),g=x[0],v=x[1],y=Object(l.useState)({}),S=Object(h.a)(y,2),I=S[0],C=S[1],N=Object(wt.useTable)({data:t,columns:n},wt.useSortBy),A=N.getTableProps,D=N.headerGroups,k=N.prepareRow,P=N.rows;return Object(a.jsxs)(Pr.a,{className:r.root,children:[Object(a.jsx)(pi,{toggleAddItemSaleRow:v,showAddItemSaleRow:g,setSelectedClient:C,selectedClient:I}),Object(a.jsx)(At.a,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},A()),{},{stickyHeader:!0,children:[Object(a.jsx)(kt.a,{children:D.map((function(e){return Object(a.jsxs)(Pt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Ft.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Rt.a,{fontSize:"small"}):Object(a.jsx)(_t.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Ft.a,{})]})}))}),Object(a.jsxs)(Et.a,{className:r.container,children:[Object(a.jsx)(fi,{showAddItemSaleRow:g,toggleAddItemSaleRow:v,selectedClient:I,setSelectedClient:C}),P.slice(s*m,s*m+m).map((function(e,t){return k(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Pt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Ft.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:e.render("Cell")}))},"col".concat(t))})),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(be.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Bt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Tt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:m,count:t.length,page:s,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})},gi=function(e){var t=e.itemSales,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:jn()(e.CreatedAt).format("L"),col2:e.client.clientName,col3:e.item.name,col4:"\u20b1".concat(Number(e.item.price).toFixed(2)),col5:e.quantity,col6:"\u20b1".concat(Number(e.sales).toFixed(2)),col7:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col8:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col9:"\u20b1".concat(Number(e.netSales).toFixed(2)),col10:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Client",accessor:"col2"},{Header:"Product",accessor:"col3"},{Header:"Price",accessor:"col4"},{Header:"Qty",accessor:"col5"},{Header:"Sales",accessor:"col6"},{Header:"Rate",accessor:"col7"},{Header:"Incentives",accessor:"col8"},{Header:"Net Sales",accessor:"col9"},{Header:"Category",accessor:"col10"}]}),[]),itemSales:t};return Object(a.jsx)(xi,Object(f.a)({},n))},vi=Object(O.a)((function(e){return{root:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"150px",alignItems:"center",padding:"1em",backgroundColor:"#1D1D1D","&::before":{content:'" "',position:"absolute",backgroundColor:e.palette.primary.main,height:"8px",width:"50%",top:"-3px",borderRadius:"20px"}}}})),yi=function(e){var t=e.title,n=e.value,r=vi();return Object(a.jsxs)(Vr.a,{className:r.root,elevation:0,children:[Object(a.jsx)(he.a,{style:{fontWeight:"bold"},align:"center",children:t}),Object(a.jsx)(he.a,{children:"P".concat(Number(n).toFixed(2))})]})},Si=Object(O.a)((function(e){return{root:Object(Nt.a)({marginBottom:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),picker:{height:"100% !important"}}})),Ii=function(e){var t=e.onSalesDateChanged,n=e.onSalesDateCategChanged,r=Si(),c=jn()(Date.now()).format("MM-DD-YYYY"),i={daily:["date"],monthly:["month","year"],yearly:["year"]},o=Object(l.useState)("daily"),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(c),b=Object(h.a)(j,2),m=b[0],p=b[1];return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsxs)(Cn.a,{variant:"outlined",value:d,onChange:function(e){return t=e.target.value,u(t),void n({salesDate:m,salesDateCateg:t});var t},children:[Object(a.jsx)(Nn.a,{value:"overall",children:"All"}),Object(a.jsx)(Nn.a,{value:"yearly",children:"Yearly"}),Object(a.jsx)(Nn.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(Nn.a,{value:"daily",children:"Daily"})]}),"overall"===d?null:Object(a.jsx)(An.a,{value:m,views:i[d],allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},onChange:function(e){!function(e){var n=e.format("MM-DD-YYYY").toString();p(n),t({salesDate:n,salesDateCateg:d})}(e)}})]})},Ci=Object(O.a)((function(e){return{root:Object(Nt.a)({display:"grid",width:"100%",gridGap:"1.5em",paddingBottom:"1em"},e.breakpoints.up("sm"),{gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr 1fr"})}})),Ni=function(e){var t=e.dailySales,n=e.metadata,r=Ci(),c=Object(l.useState)(0),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(0),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(0),p=Object(h.a)(m,2),O=p[0],f=p[1],x=Object(l.useState)(0),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(l.useState)(0),I=Object(h.a)(S,2),C=I[0],N=I[1],w=Object(l.useState)(""),A=Object(h.a)(w,2),D=A[0],k=A[1],P=Object(l.useCallback)((function(){var e=0;Object.keys(t).forEach((function(n){"Blood Test"===n?b(t[n].netSales):"Grooming"===n?f(t[n].netSales):"VET Sales"===n?y(t[n].netSales):"Store Sales"===n?N(t[n].netSales):e+=t[n].netSales})),s(e-0)}),[s,t]),F=Object(l.useCallback)((function(){var e=String(n.salesDateCateg[0]).toUpperCase()+String(n.salesDateCateg).substring(1,n.salesDateCateg.length);k(e)}),[k,n]);return Object(l.useEffect)((function(){P(),F()}),[P,F]),Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(yi,{title:"".concat(D," Sales"),value:o}),Object(a.jsx)(yi,{title:"".concat(D," Sales - Blood Test"),value:j}),Object(a.jsx)(yi,{title:"".concat(D," Sales - Grooming"),value:O}),Object(a.jsx)(yi,{title:"".concat(D," Sales - Store Sales"),value:C}),Object(a.jsx)(yi,{title:"".concat(D," Sales - VET Sales"),value:v}),Object(a.jsx)(yi,{title:"".concat(D," Net Sales "),value:o+j+O+C+v})]})},wi=Object(O.a)((function(e){return{root:Object(Nt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Ai=function(){var e=wi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.isPaymentsLoading,c=n.clientPayments,i=n.error;Object(l.useEffect)((function(){var e=jn()(Date.now()).format("MM-DD-YYYY");t(ht({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ii,{onSalesDateCategChanged:function(e){t(ht(e))},onSalesDateChanged:function(e){t(ht(e))}}),0===Object.keys(c).length||r?i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(k.a,{color:"secondary"})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ni,{metadata:c.metadata,dailySales:c.dailySales}),Object(a.jsx)(gi,{itemSales:c.itemSales?c.itemSales:[]})]})]})},Di=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/all-clients"),component:Kc}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/appointments"),component:bi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/payments"),component:Ai})]})},ki=n(216),Pi=n.n(ki),Fi=Object(O.a)((function(){return{root:{display:"flex",width:"100%",paddingTop:"1em",alignItems:"center",justifyContent:"space-between"}}})),Ei=function(e){var t=e.gotoPage,n=e.nextPage,r=e.previousPage,c=e.canNextPage,i=e.canPreviousPage,o=e.pageCount,s=e.pageSize,l=e.pageIndex,d=e.itemsCount,u=Fi();return Object(a.jsxs)("div",{className:u.root,children:[function(){var e=s*(l+1)>=d?d:s*(l+1);return Object(a.jsx)(he.a,{children:"Showing ".concat(e," out of ").concat(d," items")})}(),Object(a.jsxs)("div",{children:[Object(a.jsx)(be.a,{variant:"outlined",onClick:function(){return t(0)},disabled:!i,children:"FIRST"}),Object(a.jsx)(be.a,{variant:"outlined",onClick:function(){return r()},disabled:!i,children:"PREV"}),Object(a.jsx)(be.a,{variant:"outlined",onClick:function(){return n()},disabled:!c,children:"NEXT"}),Object(a.jsx)(be.a,{variant:"outlined",onClick:function(){return t(o-1)},disabled:!c,children:"LAST"})]})]})},Ti=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItem:"center"},container:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItem:"center",marginBottom:"1em"},itemCount:{display:"flex",alignItems:"center"}}})),Li=function(e){var t=e.setPageSize,n=e.pageSize,r=e.handleSearchItemChanged,c=Ti(),i=Object(b.b)();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsx)("div",{}),Object(a.jsx)(be.a,{className:c.addItemButton,variant:"outlined",endIcon:Object(a.jsx)(Vt.a,{}),onClick:function(e){i(w({modalType:"ADD_ITEM_MODAL",modalProps:{}}))},children:"Add Item"})]}),Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsxs)("div",{className:c.itemCount,children:[Object(a.jsx)(he.a,{children:"Show \xa0"}),Object(a.jsx)(Cn.a,{value:n,onChange:function(e){t(e.target.value)},children:[10,20,30,40,50].map((function(e){return Object(a.jsx)(Nn.a,{value:e,children:e},e)}))}),Object(a.jsx)(he.a,{children:"\xa0 entries"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(gt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(vt.a,{children:Object(a.jsx)(Wc.a,{color:"primary"})})},onChange:function(e){r(e.target.value)}})})]})]})},Ri=Object(O.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#1d1d1d",padding:"1.5em",overflowX:"auto"},showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Ht.a[400],border:"2px solid red",borderColor:Ht.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"}}})),Mi=function(e){var t=e.data,n=e.columns,r=e.items,c=Ri(),i=Object(b.b)(),o=Object(wt.useTable)({data:t,columns:n,initialState:{pageIndex:0,pageSize:10}},wt.useFilters,wt.useSortBy,wt.usePagination),s=o.getTableProps,l=o.headerGroups,d=o.prepareRow,u=o.rows,j=o.page,m=o.canPreviousPage,p=o.canNextPage,O=o.pageCount,h=o.gotoPage,x=o.nextPage,g=o.previousPage,v=o.setPageSize,y=o.setFilter,S=o.state,I=S.pageIndex,C=S.pageSize,N=function(e){if("col6"===e.column.id||"col8"===e.column.id)return Object(a.jsxs)(he.a,{children:["\u20b1",e.render("Cell")]});if("col7"===e.column.id){var t=e.row.values.col7/100*e.row.values.col6;return Object(a.jsxs)(he.a,{children:[e.render("Cell"),"%"," (".concat(t.toFixed(2),")")]})}return Object(a.jsx)(he.a,{children:e.render("Cell")})};return Object(a.jsxs)(Pr.a,{className:c.root,children:[Object(a.jsx)(Li,{pageSize:C,setPageSize:v,handleSearchItemChanged:function(e){y("col2",e)}}),Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},s()),{},{children:[Object(a.jsx)(kt.a,{children:l.map((function(e){return Object(a.jsxs)(Pt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Ft.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Rt.a,{fontSize:"small"}):Object(a.jsx)(_t.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Ft.a,{})]},e.id)}))}),Object(a.jsx)(Et.a,{children:j.map((function(e,t){return d(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Pt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Ft.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps([{className:e.column.className},(n=e,"Out of Stock"===n.value?{className:c.outOfStock}:"In Stock"===n.value?{className:c.inStock}:"Discounted"===n.value?{className:c.itemDiscounted}:{className:""})])),{},{children:N(e)}))},"col".concat(t));var n})),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(be.a,{fullWidth:!0,endIcon:Object(a.jsx)(Pi.a,{}),variant:"contained",onClick:function(){var t;t=e.index,i(w({modalType:"MANAGE_ITEM_MODAL",modalProps:{item:r[t],itemIndex:t}}))},children:"Manage Item"})},e.id)]}),e.id)})}))})]})),Object(a.jsx)(Ei,{canPreviousPage:m,canNextPage:p,previousPage:g,nextPage:x,gotoPage:h,pageCount:O,pageSize:C,pageIndex:I,itemsCount:u.length})]})},_i=function(e){var t=e.items,n={data:Object(l.useMemo)((function(){return t.map((function(e){var t="",n=e.discount>0?e.price*(e.discount/100):0;return t=e.discount>0&&e.inStock>0?"Discounted":0===e.discount&&e.inStock>0?"In Stock":"Out of Stock",{col1:e.name,col2:e.category,col3:e.inStock,col4:t,col5:Number(e.price).toFixed(2),col6:e.discount,col7:(e.price-n).toFixed(2)}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Name",accessor:"col1"},{Header:"Category",accessor:"col2"},{Header:"Stock",accessor:"col3"},{Header:"Status",accessor:"col4"},{Header:"Original Price",accessor:"col5"},{Header:"Discount",accessor:"col6"},{Header:"Total Price",accessor:"col7"}]}),[]),items:t};return Object(a.jsx)(Mi,Object(f.a)({},n))},Bi=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Hi=function(){var e=Bi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.inventoryItems})),r=n.isLoading,c=n.items,i=n.error,o=Object(b.c)((function(e){return e.inventorySearch})),s=o.isLoading,d=o.result;Object(l.useEffect)((function(){t(cn()),t(function(){var e=Object(R.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Vn()),new WebSocket("".concat(B.WS_BASE_URL,"/items/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Wn(n.data))}}catch(i){t(Yn(i.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(Pr.a,{elevation:0,className:e.root,children:r||s?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(k.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(_i,{items:d.length>0?d:c})})},zi=Object(O.a)((function(e){return{root:Object(Nt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Vi=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=zi();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(be.a,{variant:"outlined",startIcon:Object(a.jsx)(Vt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},Wi=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),Yi=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=Object(l.useState)({}),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(l.useState)(1),d=Object(h.a)(s,2),u=d[0],j=d[1],m=jn()(Date.now()).format("MM-DD-YYYY"),p=Object(b.c)((function(e){return e.inventorySearch})),O=p.result,x=p.isLoading,g=Wi(),v=Object(b.b)();if(!t)return null;var y=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(i.inStock)&&j(t)},S=function(){o({}),j(1)},I=function(){v(Ca(i.ID,u)),S(),v(cn()),n(!1)},C=function(){S(),v(cn()),n(!1)},N=Object(dn.debounce)((function(e){v(""===e?cn():on(e))}),800),w=function(e){N(e.target.value)};return Object(a.jsxs)(Pt.a,{className:g.root,children:[Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:m})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(Gt.a,{loading:x,options:O.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(gt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:w,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[x?Object(a.jsx)(k.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&o(t)}})}),function(){var e=i.price*u,t=e-(i.isIncentiveFixed?Number(i.incentiveAmount).toFixed(2):Number(e*(i.incentiveRate/100)).toFixed(2));return 0===Object.keys(i).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(he.a,{children:["\u20b1",Number(i.price).toFixed(2)]})}),Object(a.jsx)(Ft.a,{className:g.quantityCell,children:Object(a.jsx)(gt.a,{size:"small",variant:"outlined",type:"number",value:u,onChange:y,fullWidth:!0})}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(he.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:"".concat(Number(i.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:i.isIncentiveFixed?"\u20b1".concat(Number(i.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(i.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(he.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(he.a,{children:i.category})}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)("div",{className:g.buttonRows,children:[Object(a.jsx)(be.a,{className:g.submitButton,variant:"outlined",onClick:I,children:Object(a.jsx)(sn.a,{})}),Object(a.jsx)(be.a,{className:g.cancelButton,variant:"outlined",onClick:C,children:Object(a.jsx)(ln.a,{})})]})})]})}()]})},Gi=Object(O.a)((function(e){return{root:Object(Nt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Ht.a[400],border:"2px solid red",borderColor:Ht.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),qi=function(e){var t=e.data,n=e.columns,r=Gi(),c=Object(b.b)(),i=Object(l.useState)(0),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(10),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(l.useState)(!1),x=Object(h.a)(O,2),g=x[0],v=x[1],y=Object(wt.useTable)({data:t,columns:n},wt.useSortBy),S=y.getTableProps,I=y.headerGroups,C=y.prepareRow,N=y.rows,A=function(e){return Object(a.jsx)(he.a,{children:e.render("Cell")})};return Object(a.jsxs)(Pr.a,{className:r.root,children:[Object(a.jsx)(Vi,{toggleAddItemSaleRow:v,showAddItemSaleRow:g}),Object(a.jsx)(At.a,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},S()),{},{stickyHeader:!0,children:[Object(a.jsx)(kt.a,{children:I.map((function(e){return Object(a.jsxs)(Pt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Ft.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Rt.a,{fontSize:"small"}):Object(a.jsx)(_t.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Ft.a,{})]})}))}),Object(a.jsxs)(Et.a,{className:r.container,children:[Object(a.jsx)(Yi,{showAddItemSaleRow:g,toggleAddItemSaleRow:v}),N.slice(s*m,s*m+m).map((function(e,t){return C(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Pt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Ft.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:A(e)}))},"col".concat(t))})),Object(a.jsx)(Ft.a,{children:Object(a.jsx)(be.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Bt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Tt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:m,count:t.length,page:s,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})},Ui=function(e){var t=e.itemSales,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:jn()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),itemSales:t};return Object(a.jsx)(qi,Object(f.a)({},n))},Ji=Object(O.a)((function(e){return{root:Object(Nt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Ki=function(){var e=Ji(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.inventorySales})),r=n.isLoading,c=n.itemSales,i=n.dailySales,o=n.metadata,s=n.error;Object(l.useEffect)((function(){var e=jn()(Date.now()).format("MM-DD-YYYY");t(Ia({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ii,{onSalesDateCategChanged:function(e){t(Ia(e))},onSalesDateChanged:function(e){t(Ia(e))}}),r?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(k.a,{color:"secondary"})}):s?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ni,{metadata:o,dailySales:i}),Object(a.jsx)(Ui,{itemSales:c})]})]})},Qi=function(e){var t=e.match;Object(yn.a)(e,["match"]);return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/items"),component:Hi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/sales"),component:Ki})]})},Xi={LOADING_MODAL:F,ERROR_MODAL:D,SUCCESS_MODAL:E},$i=function(){var e=Object(b.c)((function(e){return e.infoModals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=Xi[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},Zi=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",padding:0,margin:0},toolbar:e.mixins.toolbar,toastContainer:{zIndex:"1000000"}}})),eo=function(){var e=Zi(),t=Object(b.b)();Object(l.useEffect)((function(){localStorage.getItem("token")&&t(function(){var e=Object(R.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),Q(n),e.prev=2,t(ne()),e.next=6,Z(n);case 6:a=e.sent,t(ae(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(re(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(m.a,{children:[Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/auth/login",component:zr}),Object(a.jsx)(kr,{path:"/home",component:Rc}),Object(a.jsx)(kr,{path:"/clients",component:Di}),Object(a.jsx)(kr,{path:"/inventory",component:Qi}),Object(a.jsx)(p.a,{from:"/",to:"/home/dashboard"})]}),Object(a.jsx)(wa,{}),Object(a.jsx)($i,{})]})})},to=n(101),no=Object(to.c)({inventoryItems:aa,inventorySales:ba,inventorySearch:en,homeSalesStats:Gr,modals:C,infoModals:De,auth:ue,drawer:La,clients:pt,notifications:$a});var ao=Object(S.a)({reducer:no});j.a.render(Object(a.jsx)(r.a,{injectFirst:!0,children:Object(a.jsx)(c.a,{theme:V,children:Object(a.jsxs)(o.b,{dateAdapter:s.a,children:[Object(a.jsx)(i.a,{}),Object(a.jsx)(b.a,{store:ao,children:Object(a.jsx)(eo,{})})]})})}),document.getElementById("root"))}},[[568,1,2]]]);
//# sourceMappingURL=main.16a96274.chunk.js.map