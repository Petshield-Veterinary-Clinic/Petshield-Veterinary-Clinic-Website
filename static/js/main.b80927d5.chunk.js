(this["webpackJsonppetshield-veterinary-clinic-website"]=this["webpackJsonppetshield-veterinary-clinic-website"]||[]).push([[0],{571:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(690),c=n(710),i=n(705),o=n(583),s=n(691),l=n(0),d=n.n(l),u=n(54),j=n.n(u),b=n(16),m=n(82),p=n(52),O=n(641),f=n(13),h=n(9),x=n(632),g=n(638),v=n(639),y=n(640),S=n(47),C=Object(S.b)({name:"modals",initialState:{modalType:null,modalProps:{}},reducers:{showModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideModal:function(e,t){e.modalType="",e.modalProps={}}}}),I=C.reducer,N=C.actions,w=N.showModal,A=N.hideModal,k=Object(S.b)({name:"infoModal",initialState:{modalType:null,modalProps:{}},reducers:{showInfoModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideInfoModal:function(e,t){e.modalType="",e.modalProps={}}}}),D=k.reducer,P=k.actions,F=P.showInfoModal,L=P.hideInfoModal,T=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=e.isInfoModal,i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(b.b)();return Object(a.jsxs)(x.a,{open:s,onClose:function(){d(!t)},TransitionProps:{onExited:function(){u(c?L():A())},onEnter:function(){setTimeout((function(){d(!t)}),r||2e3)}},children:[Object(a.jsx)(g.a,{children:"Error!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},E=n(642),R=Object(O.a)((function(e){return{loadingIndicator:{display:"flex",justifyContent:"center",alignItems:"center,",padding:e.spacing(2)}}})),M=function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=R(),s=Object(b.b)();return Object(a.jsx)(x.a,{open:c,onClose:function(){i(!t)},TransitionProps:{onExited:function(){s(A())}},children:Object(a.jsx)(v.a,{className:o.loadingIndicator,children:Object(a.jsx)(E.a,{color:"secondary"})})})},_=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){d(A())},onEnter:function(){setTimeout((function(){s(!t)}),r||800)}},children:[Object(a.jsx)(g.a,{children:"Success!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},B=n(14),H=n.n(B),z=n(21),V=n(336),W=n.n(V),Y={API_BASE_URL:"https://petshield-veterinary-api-prod.herokuapp.com",WS_BASE_URL:"wss://petshield-veterinary-api-prod.herokuapp.com",WS_TIMEOUT:25e3},G=n(706),q=n(370),U=Object(G.a)(Object(q.a)({palette:{mode:"dark",primary:{main:"#1e88e5"},secondary:{main:"#26a69a"}},components:{MuiMenu:{styleOverrides:{padding:"1em"}},MuiCard:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiPaper:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiTableCell:{styleOverrides:{root:{textAlign:"center"}}}}}),{disableAlign:!0}),J=240,K=["Deworming","5 in 1","6 in 1","8 in 1","Kennel Cough","ProHeart","4 in 1","Anti-Rabies","Canglob P","Canglob D"],Q=["1 Weeks","2 Weeks","1 Year"],X=["3 Days","7 Days","14 Days","30 Days"],$=["Check-Up","Long Term Medication","Post Surgery","Screening"],Z=W.a.create({baseURL:Y.API_BASE_URL,headers:{"Content-Type":"application/json"}}),ee=function(e){e?Z.defaults.headers.common={Authorization:"Bearer ".concat(e)}:delete Z.defaults.headers.common.Authorization},te=Z,ne=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/auth/login",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/users/token");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=Object(S.b)({name:"auth",initialState:{user:{},token:null,isLoading:!1,error:null},reducers:{loginStart:function(e,t){e.isLoading=!0},loginSuccess:function(e,t){e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.authToken,ee(t.payload.authToken),localStorage.setItem("token",t.payload.authToken)},loginFailure:function(e,t){e.isLoading=!1,e.error=t.payload},logoutStart:function(e,t){e.isLoading=!0},logoutSuccess:function(e,t){e.user={},e.token=null,e.isLoading=!1},logoutFailure:function(e,t){e.isLoading=!1,e.error=t.payload},checkAuthStart:function(e,t){e.isLoading=!0},checkAuthSuccess:function(e,t){e.user=t.payload,e.isLoading=!1},checkAuthFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ce=re.actions,ie=ce.checkAuthStart,oe=ce.checkAuthSuccess,se=ce.checkAuthFailure,le=ce.loginStart,de=ce.loginSuccess,ue=ce.loginFailure,je=ce.logoutFailure,be=ce.logoutStart,me=ce.logoutSuccess,pe=re.reducer,Oe=n(643),fe=n(707),he=function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.handleNegativePressed,i=e.handlePositivePressed,o=Object(l.useState)(t),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(b.b)();return Object(a.jsxs)(x.a,{open:d,onClose:function(){u(!t)},TransitionProps:{onExited:function(){j(A())}},children:[Object(a.jsx)(g.a,{children:n}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:r})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"text",onClick:c,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"text",onClick:i,children:"Confirm"})]})]})},xe=n(337),ge=Object(xe.a)(),ve=function(e){var t=e.isVisible,n=e.title,r=e.message,c=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){c(A())},handlePositivePressed:function(){c(function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();try{t(be()),t(me())}catch(n){t(je(n))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ge.replace("/auth/login"),c(A())}})},ye=n(134),Se=n(35),Ce=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(n),t);case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.patch("/clients/".concat(t.ID),t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(t,"/payments/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),we=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/clients/".concat(t,"/payments"));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,e.next=3,te.get("/clients/".concat(n,"/appointments"));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appointmentId,a=t.branchName,e.next=3,te.delete("/clients/".concat(a,"/appointments/").concat(n));case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,a=t.appointment,e.next=3,te.post("/clients/".concat(n,"/appointments"),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,a=t.appointment,e.next=3,te.patch("/clients/".concat(n,"/appointments/").concat(a.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e,t){e.error=t.payload},Le=Object(S.b)({name:"clientsSlice",initialState:{clients:{},paymentHistory:[],appointments:[],clientAppointments:[],clientPayments:{},isClientsLoading:!1,isPaymentsLoading:!1,isAppointmentsLoading:!1,isClientSearchingLoading:!1,error:null},reducers:{fetchClientsStart:function(e){e.isClientsLoading=!0},fetchClientsSuccess:function(e,t){e.isClientsLoading=!1;var n={};t.payload.forEach((function(e){n[e.ID]=e})),e.clients=n},fetchClientsError:Fe,addClientStart:function(e){e.isClientsLoading=!0},addClientSuccess:function(e){e.isClientsLoading=!1,e.error=null},addClientError:Fe,updateClientStart:function(e){e.error=null},updateClientSuccess:function(e,t){e.clients[t.payload.ID]=t.payload,e.error=null},updateClientsError:Fe,addClientPaymentStart:function(){},addClientPaymentSuccess:function(e,t){e.paymentHistory=[t.payload].concat(Object(Se.a)(e.paymentHistory)),e.error=!1},addClientPaymentError:Fe,fetchClientPaymentHistoryStart:function(e){e.isPaymentsLoading=!0},fetchClientPaymentHistorySuccess:function(e,t){e.isPaymentsLoading=!1,e.paymentHistory=t.payload,e.error=!1},fetchClientPaymentHistoryError:Fe,fetchAllClientPaymentsStart:function(e){e.isPaymentsLoading=!0},fetchAllClientPaymentsSuccess:function(e,t){e.isPaymentsLoading=!1,e.clientPayments=t.payload,e.error=null},fetchAllClientPaymentsError:Fe,addAppointmentStart:function(e){e.error=null},addAppointmentSuccess:function(e,t){},addAppointmentError:Fe,updateAppointmentStart:function(e){},updateAppointmentSuccess:function(e,t){e.appointments=Object(Se.a)(t.payload),e.error=null},updateAppointmentError:Fe,removeAppointmentStart:function(){},removeAppointmentSuccess:function(e,t){e.appointments=t.payload},removeAppointmentError:Fe,fetchAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.appointments=t.payload,e.error=null},fetchAppointmentsError:Fe,fetchClientAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchClientAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.clientAppointments=t.payload,e.error=null},fetchClientAppointmentsError:Fe}}),Te=Le.actions,Ee=Te.fetchClientsSuccess,Re=Te.fetchClientsError,Me=Te.fetchClientsStart,_e=Te.addClientStart,Be=Te.addClientError,He=Te.addClientSuccess,ze=Te.updateClientStart,Ve=Te.updateClientSuccess,We=Te.updateClientError,Ye=Te.addClientPaymentStart,Ge=Te.addClientPaymentSuccess,qe=Te.addClientPaymentError,Ue=Te.fetchClientPaymentHistoryStart,Je=Te.fetchClientPaymentHistorySuccess,Ke=Te.fetchClientPaymentHistoryError,Qe=Te.fetchAllClientPaymentsStart,Xe=Te.fetchAllClientPaymentsSuccess,$e=Te.fetchAllClientPaymentsError,Ze=Te.addAppointmentStart,et=Te.addAppointmentSuccess,tt=Te.addAppointmentError,nt=Te.fetchAppointmentsError,at=Te.fetchAppointmentsStart,rt=Te.fetchAppointmentsSuccess,ct=Te.fetchClientAppointmentsError,it=Te.fetchClientAppointmentsStart,ot=Te.fetchClientAppointmentsSuccess,st=Te.updateAppointmentError,lt=Te.updateAppointmentStart,dt=Te.updateAppointmentSuccess,ut=Te.removeAppointmentError,jt=Te.removeAppointmentSuccess,bt=Te.removeAppointmentStart,mt=Le.reducer,pt=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Me()),new WebSocket("".concat(Y.WS_BASE_URL,"/clients/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Ee(n.data))}}catch(c){t(Re(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ot=function(e,t,n){return function(){var a=Object(z.a)(H.a.mark((function a(r,c){var i,o;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=c().clients.clientPayments.metadata,a.prev=1,r(Ye()),r(F({modalType:"LOADING_MODAL",modalProps:{}})),a.next=6,Ne(e,t,n,i.salesDate,i.salesDateCateg);case 6:o=a.sent,r(L()),r(Ge(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r(qe(a.t0.message));case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()},ft=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(Qe()),new WebSocket("".concat(Y.WS_BASE_URL,"/clients/").concat(c.branchName,"/all-payments?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(Xe(t.data))}}catch(o){a($e(o.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ht=n(49),xt=n(644),gt=n(647),vt=n(338),yt=n(263),St=function(e){var t=e.classes,n=e.onSubmit,r=Object(ht.b)(),c=r.handleSubmit,i=r.register,o=r.errors;return Object(a.jsxs)("form",{className:t.form,id:"addClientForm",onSubmit:c(n),children:[Object(a.jsx)(xt.a,{className:t.field,variant:"outlined",label:"Full Name",name:"clientName",inputRef:i({required:!0}),error:!!o.clientName}),Object(a.jsx)(xt.a,{className:t.field,variant:"outlined",label:"Address",name:"address",inputRef:i({required:!0}),error:!!o.address}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(xt.a,{className:t.field,variant:"outlined",label:"Email",name:"email",type:"email",InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(yt.a,{})})},inputRef:i({})}),Object(a.jsx)(xt.a,{className:t.field,variant:"outlined",label:"Contact Number",name:"contactNumber",InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(vt.a,{})})},inputRef:i({pattern:/((^(\+)(\d){12}$)|(^\d{11}$))/}),error:!!o.contactNumber})]}),Object(a.jsx)("br",{}),Object(a.jsx)(xt.a,{className:t.field,variant:"outlined",label:"Pet Name",name:"petName",InputProps:{startAdornment:Object(a.jsx)(gt.a,{position:"start",children:Object(a.jsx)(yt.b,{})})},inputRef:i({required:!0}),error:!!o.petName}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(xt.a,{className:t.field,variant:"outlined",label:"Pet Species",name:"petSpecies",inputRef:i({required:!0}),error:!!o.petSpecies}),Object(a.jsx)(xt.a,{className:t.field,variant:"outlined",label:"Pet Breed",name:"petBreed",inputRef:i({required:!0}),error:!!o.petBreed})]})]})},Ct=Object(O.a)((function(e){return{root:{},form:{display:"flex",flexDirection:"column"},field:{marginBottom:e.spacing(2)},fieldGroup:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(2)}}})),It=n(15),Nt=n(67),wt=n(652),At=n(653),kt=n(654),Dt=n(651),Pt=n(648),Ft=n(655),Lt=n(699),Tt=n(107),Et=n.n(Tt),Rt=n(108),Mt=n.n(Rt),_t=n(656),Bt=n(226),Ht=n(106),zt=n.n(Ht),Vt=Object(O.a)((function(e){return{root:Object(It.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Wt=function(e){var t=e.toggleAddItemSaleRow,n=Vt();return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(zt.a,{}),onClick:function(){t(!0)},children:"Add Transaction"})})]})},Yt=n(698),Gt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/items/search/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive)}),e.next=3,te.post("/items/".concat(n),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentiveAmount:Number(t.incentiveAmount),incentiveRate:Number(t.incentiveRate),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/items/item/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/item-sales/".concat(t,"/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r){var c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/item-sales/".concat(t,"/").concat(n,"?salesDate=").concat(a,"&salesDateCateg=").concat(r));case 2:if(!(c=e.sent).data.data){e.next=7;break}return e.abrupt("return",c.data.data);case 7:throw Error(c.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),$t=Object(S.b)({name:"inventorySearchResultSlice",initialState:{isLoading:!1,result:[],error:null},reducers:{searchItemsStart:function(e){e.isLoading=!0},searchItemsSuccess:function(e,t){e.isLoading=!1,e.result=t.payload,e.error=null},searchItemsFailure:function(e,t){e.isLoading=!1,e.error=t.payload},clearItemsSearch:function(e,t){e.result=[],e.isLoading=!1,e.error=null}}}),Zt=$t.reducer,en=$t.actions,tn=en.searchItemsFailure,nn=en.searchItemsStart,an=en.searchItemsSuccess,rn=en.clearItemsSearch,cn=function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(nn()),t.next=5,Gt(e,r.branchName);case 5:c=t.sent,n(an(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(tn(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()},on=n(649),sn=n(650),ln=n(152),dn=n(12),un=n.n(dn),jn=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),bn=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.client,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=un()(Date.now()).format("MM-DD-YYYY"),O=Object(b.c)((function(e){return e.inventorySearch})),x=O.result,g=O.isLoading,v=jn(),y=Object(b.b)();if(!t)return null;var S=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},C=function(){s({}),m(1)},I=function(){y(Ot(r.ID,o.ID,j)),C(),y(rn()),n(!1)},N=function(){C(),y(rn()),n(!1)},w=Object(ln.debounce)((function(e){y(""===e?rn():cn(e))}),800),A=function(e){w(e.target.value)};return Object(a.jsxs)(Dt.a,{className:v.root,children:[Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:p})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(Yt.a,{loading:g,options:x.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:A,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[g?Object(a.jsx)(E.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(ye.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(Pt.a,{className:v.quantityCell,children:Object(a.jsx)(xt.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:S,fullWidth:!0})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(ye.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(ye.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:o.salesCategory})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)("div",{className:v.buttonRows,children:[Object(a.jsx)(fe.a,{className:v.submitButton,variant:"outlined",onClick:I,children:Object(a.jsx)(on.a,{})}),Object(a.jsx)(fe.a,{className:v.cancelButton,variant:"outlined",onClick:N,children:Object(a.jsx)(sn.a,{})})]})})]})}()]})},mn=Object(O.a)((function(e){return{root:Object(It.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Bt.a[400],border:"2px solid red",borderColor:Bt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),pn=function(e){var t=e.data,n=e.columns,r=e.client,c=mn(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Nt.useTable)({data:t,columns:n},Nt.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,A=S.rows,k=function(e){return Object(a.jsx)(ye.a,{children:e.render("Cell")})};return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(Wt,{toggleAddItemSaleRow:y}),Object(a.jsx)(wt.a,{children:Object(a.jsxs)(At.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(kt.a,{children:I.map((function(e){return Object(a.jsxs)(Dt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Pt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Et.a,{fontSize:"small"}):Object(a.jsx)(Mt.a,{fontSize:"small"}):null]})}))})),Object(a.jsx)(Pt.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:c.container,children:[Object(a.jsx)(bn,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,client:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Pt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:k(e)}))},"col".concat(t))})),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(_t.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},On=function(e){var t=e.paymentHistory,n=e.client,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:un()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),client:n};return Object(a.jsx)(pn,Object(f.a)({},r))},fn=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}})),hn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"400px",alignItems:"center",padding:e.spacing(2)}}})),xn=n(661),gn=n(700),vn=n(91),yn=n(578),Sn=n(587),Cn=n(585),In=n(657),Nn=n(580),wn=n(694),An=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),kn=function(e){var t=e.onSubmit,n=e.startDate,r=e.isVaccine,c=e.clientIndex,i=An(),o=Object(b.c)((function(e){return e.clients})),s=o.clients,d=o.isClientsLoading,u=c?Object(f.a)(Object(f.a)({},s[c]),{},{clientName:"".concat(s[c].clientName," - ").concat(s[c].pet.petName)}):null,j=Object(l.useMemo)((function(){return Object.keys(s).map((function(e){var t=s[e],n="".concat(t.clientName," - ").concat(t.pet.petName);return Object(f.a)(Object(f.a)({},t),{},{clientName:n})}))}),[s]),m=Object(ht.b)(),p=m.handleSubmit,O=m.errors,h=m.control;return Object(a.jsxs)("form",{className:i.root,id:"addAppointmentForm",onSubmit:p(t),children:[Object(a.jsx)(ht.a,{name:"client",control:h,defaultValue:c?u:null,rules:{required:!0},render:function(e){var t=e.onChange,n=Object(vn.a)(e,["onChange"]);return Object(a.jsx)(Yt.a,Object(f.a)({size:"small",options:j,loading:d,getOptionLabel:function(e){return e.clientName},getOptionSelected:function(e,t){return e.clientName===t.clientName},renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Client Name",fullWidth:!0,error:!!O.client,helperText:O.client?"Enter a client":""}))},onChange:function(e,n){t(n)}},n))}}),Object(a.jsx)(ht.a,{id:"appointment-date",name:"date",control:h,defaultValue:un()(n).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(wn.a,Object(f.a)({allowSameDateSelection:!0,renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date"}))}},e))}}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ht.a,{name:"type",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(vn.a)(e,["onChange"]);return Object(a.jsxs)(yn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(Sn.a,{id:"appointment-type",children:"".concat(r?"Vaccine":"Follow Up"," Type")}),Object(a.jsx)(Cn.a,Object(f.a)(Object(f.a)({labelId:"appointment-type",onChange:function(e){return t(e.target.value)}},n),{},{children:r?K.map((function(e){return Object(a.jsx)(In.a,{value:e,children:e},e)})):$.map((function(e){return Object(a.jsx)(In.a,{value:e,children:e},e)}))})),Object(a.jsx)(Nn.a,{error:!!O.type,children:O.type?"Please enter a type":""})]})}}),Object(a.jsx)(ht.a,{name:"reoccurance",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(vn.a)(e,["onChange"]);return Object(a.jsxs)(yn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(Sn.a,{id:"appointment-reoccurance",children:"Next Visit"}),Object(a.jsx)(Cn.a,Object(f.a)(Object(f.a)({labelId:"appointment-reoccurance",onChange:function(e){return t(e.target.value)}},n),{},{children:r?Q.map((function(e){return Object(a.jsx)(In.a,{value:e,children:e},e)})):X.map((function(e){return Object(a.jsx)(In.a,{value:e,children:e},e)}))})),Object(a.jsx)(Nn.a,{error:!!O.reoccurance,children:O.reoccurance?"Please enter a type":""})]})}})]}),Object(a.jsx)(ht.a,{name:"veterinarianNotes",control:h,defaultValue:"",rules:{},render:function(e){return Object(a.jsx)(xt.a,Object(f.a)({label:"Notes",multiline:!0,size:"small",rows:5},e))}})]})},Dn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"100%",alignItems:"flex-start",padding:e.spacing(2),flexDirection:"column"}}})),Pn=n(369),Fn=n(339),Ln=n(692),Tn=n(184),En=n.n(Tn),Rn=n(29),Mn=n.n(Rn),_n=Object(O.a)((function(e){return{root:{},loadingIndicator:{width:"300px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center,"},hasAppointment:{backgroundColor:"".concat(e.palette.primary.main," !important"),color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}},selected:{backgroundColor:"#424242 !important",color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}}}})),Bn=function(e){var t,n=e.date,r=e.classes,c=(e._selectedDates,e.selectedDate),i=e.PickersDayComponentProps,o=e.appointments,s=En()(n).tz("Asia/Manila"),l=void 0!==o.find((function(e){return En()(e.date).tz("Asia/Manila").isSame(s,"date")})),d=En()(c).isSame(n,"date");return Object(a.jsx)(Fn.a,Object(f.a)({className:Mn()((t={},Object(It.a)(t,r.hasAppointment,l),Object(It.a)(t,r.selected,d),t))},i))},Hn=function(e,t){e.isLoading=!1,e.error=t.payload},zn=Object(S.b)({name:"inventoryItems",initialState:{items:[],itemSales:[],isLoading:!1,error:null},reducers:{fetchItemsStart:function(e){e.isLoading=!0},fetchItemsSuccess:function(e,t){e.isLoading=!1,e.items=t.payload,e.error=null},fetchItemsFailure:Hn,addItemStart:function(e,t){},addItemSuccess:function(e,t){},addItemFailure:Hn,modifyItemStart:function(){},modifyItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},modifyItemFailure:Hn,discountItemStart:function(){},discountItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},discountItemFailure:Hn,deleteItemStart:function(){},deleteItemSuccess:function(e,t){e.items=e.items.filter((function(e){return e.ID!==t.payload}))},deleteItemFailure:Hn}}),Vn=zn.actions,Wn=Vn.fetchItemsStart,Yn=Vn.fetchItemsSuccess,Gn=Vn.fetchItemsFailure,qn=Vn.addItemStart,Un=Vn.addItemSuccess,Jn=Vn.addItemFailure,Kn=Vn.modifyItemStart,Qn=Vn.modifyItemSuccess,Xn=Vn.modifyItemFailure,$n=Vn.discountItemStart,Zn=Vn.discountItemFailure,ea=Vn.discountItemSuccess,ta=Vn.deleteItemStart,na=Vn.deleteItemSuccess,aa=Vn.deleteItemFailure,ra=zn.reducer,ca=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/admin/item-categories");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ia=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/admin/item-categories",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oa=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/admin/item-categories/".concat(t));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sa=Object(S.b)({name:"itemCategorySlice",initialState:{categories:[],isLoading:!1,error:null},reducers:{fetchItemCategoriesStart:function(e){e.isLoading=!0,e.error=null},fetchItemCategoriesSuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},fetchItemCategoriesFailure:function(e){e.isLoading=!1,e.error=null},addItemCategoryStart:function(e){e.error=null},addItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},addItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload},deleteItemCategoryStart:function(e){e.error=null},deleteItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},deleteItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),la=sa.reducer,da=sa.actions,ua=da.fetchItemCategoriesFailure,ja=da.fetchItemCategoriesStart,ba=da.fetchItemCategoriesSuccess,ma=da.addItemCategoryFailure,pa=da.addItemCategoryStart,Oa=da.addItemCategorySuccess,fa=da.deleteItemCategoryFailure,ha=da.deleteItemCategoryStart,xa=da.deleteItemCategorySuccess,ga=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ja()),e.next=4,ca();case 4:n=e.sent,t(ba(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(ua(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},va=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),ya=function(e){var t=e.onSubmit,n=e.classes,r=e.isIncentiveFixed,c=e.setIncentiveFixed,i=e.dispatch,o=Object(b.c)((function(e){return e.itemCategories})),s=o.isLoading,l=o.categories,d=Object(ht.b)({defaultValues:{remarks:"",category:"Store Sales",incentiveRate:0,incentiveAmount:0}}),u=d.register,j=d.handleSubmit,m=d.errors,p=d.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"addItemForm",onSubmit:j(t),children:[Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:u({required:!0}),error:!!m.name}),Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:u({required:!0,min:0}),error:!!m.inStock}),Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(ye.a,{children:"\u20b1"})},inputRef:u({required:!0,min:0}),error:!!m.price}),Object(a.jsx)(ht.a,{control:p,name:"category",as:Object(a.jsxs)(Cn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){i(ga())},endAdornment:s?Object(a.jsx)(gt.a,{children:Object(a.jsx)(E.a,{})}):null,children:[Object(a.jsx)(In.a,{value:""}),l.map((function(e){return Object(a.jsx)(In.a,{value:e.name,children:e.name},e.ID)}))]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(xn.a,{className:n.addItemFormField,control:Object(a.jsx)(gn.a,{checked:r,onChange:function(){c(!r)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(xt.a,{disabled:r,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(ye.a,{children:"%"})},inputRef:u({required:!0,max:100,min:0}),error:!!m.incentiveRate}),Object(a.jsx)(xt.a,{disabled:!r,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:u({required:!0,min:0}),error:!!m.incentiveAmount})]})]}),Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:u})]})},Sa=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1em"},deleteBtn:{borderColor:"red",color:"red"}}})),Ca=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),Ia=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=e.isIncentiveFixed,i=e.setIncentiveFixed,o=e.dispatch,s=Object(b.c)((function(e){return e.itemCategories})),l=s.isLoading,d=s.categories,u=Object(ht.b)({defaultValues:{remarks:null!==r.remarks?r.remarks:"",category:null!==r.category?r.category:"",price:null!==r.price?r.price:0,name:null!==r.name?r.name:"",incentiveRate:null!==r.incentiveRate?r.incentiveRate:0,incentiveAmount:null!==r.incentiveAmount?r.incentiveAmount:0,inStock:null!==r.inStock?r.inStock:0}}),j=u.register,m=u.handleSubmit,p=u.errors,O=u.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"modifyItemForm",onSubmit:m(t),children:[Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:j({required:!0}),error:!!p.name}),Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",type:"number",inputRef:j({required:!0,min:0}),error:!!p.inStock,helperText:p.inStock?"Invalid Value":""}),Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(ye.a,{children:"\u20b1"})},inputRef:j({required:!0,min:0}),error:!!p.price}),Object(a.jsx)(ht.a,{control:O,name:"category",as:Object(a.jsx)(Cn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){o(ga())},endAdornment:l?Object(a.jsx)(gt.a,{children:Object(a.jsx)(E.a,{})}):null,children:d.map((function(e){return Object(a.jsx)(In.a,{value:e.name,children:e.name},e.ID)}))})}),Object(a.jsx)(xn.a,{className:n.addItemFormField,control:Object(a.jsx)(gn.a,{checked:c,onChange:function(){i(!c)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(xt.a,{disabled:c,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(ye.a,{children:"%"})},inputRef:j({required:!0,max:100,min:0}),error:!!p.incentiveRate}),Object(a.jsx)(xt.a,{disabled:!c,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:j({required:!0,min:0}),error:!!p.incentiveAmount})]}),Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:j})]})},Na=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em"}}})),wa=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=Object(ht.b)({defaultValues:{discount:null!==r.discount?r.discount:0}}),i=c.register,o=c.handleSubmit,s=c.errors;return Object(a.jsx)("form",{noValidate:!0,className:n.addItemForm,id:"discountItemForm",onSubmit:o(t),children:Object(a.jsx)(xt.a,{className:n.addItemFormField,variant:"outlined",label:"Discount Amount",name:"discount",size:"small",type:"number",helperText:s.discount?"Please input a value between 0.01 and 100":"",InputProps:{endAdornment:Object(a.jsx)(ye.a,{children:Object(a.jsx)("strong",{children:"%"})})},inputRef:i({required:!0,min:0,max:100}),autoFocus:!0,error:!!s.discount})})},Aa=function(e,t){e.isLoading=!1,e.error=t.payload},ka=Object(S.b)({name:"inventorySales",initialState:{isLoading:!1,itemSales:[],dailySales:0,metadata:{salesDateCateg:"daily"},error:null},reducers:{fetchItemSalesStart:function(e){e.isLoading=!0},fetchItemSalesSuccess:function(e,t){e.isLoading=!1,e.itemSales=t.payload.itemSales,e.dailySales=t.payload.dailySales,e.metadata=t.payload.metadata,e.error=null},fetchItemSalesError:Aa,addItemSaleStart:function(){},addItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},addItemSaleFailure:Aa,deleteItemSaleStart:function(){},deleteItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},deleteItemSaleFailure:Aa}}),Da=ka.reducer,Pa=ka.actions,Fa=Pa.fetchItemSalesError,La=Pa.fetchItemSalesStart,Ta=Pa.fetchItemSalesSuccess,Ea=Pa.addItemSaleFailure,Ra=Pa.addItemSaleStart,Ma=Pa.addItemSaleSuccess,_a=Pa.deleteItemSaleFailure,Ba=Pa.deleteItemSaleStart,Ha=Pa.deleteItemSaleSuccess,za=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(La()),new WebSocket("".concat(Y.WS_BASE_URL,"/item-sales/").concat(c.branchName,"?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(Ta(t.data))}}catch(o){a(Fa(o))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Va=function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i,o;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r().auth.user,i=r().inventorySales.metadata,a(Ra()),a(A()),a(w({modalType:"LOADING_MODAL"})),n.next=8,Qt(c.branchName,e,t,i.salesDate,i.salesDateCateg);case 8:o=n.sent,a(Ma(o)),a(A()),a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction Complete!",duration:3e3}})),a(rn()),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),a(Ea(n.t0)),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}}));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},Wa={ADD_ITEM_MODAL:function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=Object(l.useState)(!1),s=Object(h.a)(o,2),d=s[0],u=s[1],j=va(),m=Object(b.b)(),p=function(){i(!t)};return Object(a.jsxs)(x.a,{open:c,onClose:p,TransitionProps:{onExited:function(){m(A())}},children:[Object(a.jsx)(g.a,{children:"Add Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(ya,{onSubmit:function(e){var n,a=Object(f.a)({},e);a.isIncentiveFixed=d,d?a.incentiveRate=0:a.incentiveAmount=0,m((n=a,function(){var e=Object(z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,t(qn()),t(w({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,qt(n,r.branchName);case 6:t(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Added!",duration:3e3}})),t(Un()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),t(Jn(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}())),i(!t)},dispatch:m,classes:j,isIncentiveFixed:d,setIncentiveFixed:u})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:p,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addItemForm",type:"submit",children:"Add Item"})]})]})},ADD_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemDetails,i=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){i(Va(c.itemId,c.quantity))}})},DELETE_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemIndex,i=Object(b.b)(),o=Object(b.c)((function(e){return e.inventorySales})).itemSales;return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){var e;i((e=o[c].ID,function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c,i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().auth.user,c=a().inventorySales.metadata,n(Ba()),n(A()),n(w({modalType:"LOADING_MODAL"})),t.next=8,Xt(r.branchName,e,c.salesDate,c.salesDateCateg);case 8:i=t.sent,n(Ha(i)),n(A()),n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction deleted successfully!",duration:3e3}})),n(rn()),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),n(_a(t.t0)),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}}));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()))}})},MANAGE_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Sa(),u=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){u(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Manage Item"}),Object(a.jsxs)(v.a,{className:d.content,children:[Object(a.jsx)(fe.a,{fullWidth:!0,variant:"contained",onClick:function(){s(!t),u(w({modalType:"MODIFY_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Modify Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{fullWidth:!0,variant:"outlined",onClick:function(){s(!t),u(w({modalType:"DISCOUNT_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Discount Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{className:d.deleteBtn,fullWidth:!0,variant:"outlined",onClick:function(e){s(!t),u(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(ta()),n(w({modalType:"LOADING_MODAL",modalProps:{}})),t.next=6,Jt(e,r.branchName);case 6:n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Deleted!",duration:3e3}})),n(na(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}})),n(aa());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(n.ID))},children:"Delete Item"})]})]})},MODIFY_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(n.isIncentiveFixed),u=Object(h.a)(d,2),j=u[0],m=u[1],p=Ca(),O=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){O(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Modify Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Ia,{dispatch:O,onSubmit:function(e){var a=Object(f.a)(Object(f.a)({},n),e);a.isIncentiveFixed=j,j?a.incentiveRate=0:a.incentiveAmount=0,O(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(Kn()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,Ut(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Modified!",duration:3e3}})),a(Qn({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(Xn());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,r)),s(!t)},classes:p,itemDetails:n,isIncentiveFixed:j,setIncentiveFixed:m})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"modifyItemForm",type:"submit",children:"Modify Item"})]})]})},DISCOUNT_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Na(),u=Object(b.b)(),j=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:j,TransitionProps:{onExited:function(){u(A())}},children:[Object(a.jsx)(g.a,{children:"Discount Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(wa,{onSubmit:function(e){var a=e.discount;s(!t),u(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a($n()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,Kt(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Discounted!",duration:3e3}})),a(ea({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(Zn());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(Object(f.a)(Object(f.a)({},n),{},{discount:a}),r))},classes:d,itemDetails:n})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:j,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"discountItemForm",type:"submit",children:"Discount Item"})]})]})},LOADING_MODAL:M,ERROR_MODAL:T,SUCCESS_MODAL:_,LOGOUT_MODAL:ve,ADD_CLIENT_MODAL:function(e){var t=e.isVisible,n=Ct(),r=Object(l.useState)(t),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.b)(),d=function(){o(!t)};return Object(a.jsxs)(x.a,{open:i,onClose:d,TransitionProps:{onExited:function(){s(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(ye.a,{align:"center",variant:"h5",children:"Add Client"})}),Object(a.jsx)(v.a,{children:Object(a.jsx)(St,{classes:n,onSubmit:function(e){var t,n=Object(f.a)(Object(f.a)({},e),{},{pet:{petName:e.petName,species:e.petSpecies,petBreed:e.petBreed}});s((t=n,function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(_e()),n(F({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Ce(t,r.branchName);case 6:c=e.sent,n(He(c)),n(L()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(Be(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}())),s(A())}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:d,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addClientForm",type:"submit",children:"Submit"})]})]})},ADD_APPOINTMENT_MODAL:function(e){var t=e.isVisible,n=e.startDate,r=e.clientIndex,c=Dn(),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(!0),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)();Object(l.useEffect)((function(){r||O(pt())}),[O,r]);var y=function(){d(!t)};return Object(a.jsxs)(x.a,{open:s,onClose:y,TransitionProps:{onExited:function(){O(A())}},className:c.root,fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Schedule Appointment"}),Object(a.jsxs)(v.a,{className:c.content,children:[Object(a.jsx)(xn.a,{label:"For Vaccine",control:Object(a.jsx)(gn.a,{checked:m,onChange:function(e){return p(e.target.checked)}})}),Object(a.jsx)(kn,{onSubmit:function(e){var n=un()(e.date).toISOString();O(function(e){var t=e.clientId,n=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Ze()),a(F({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,De({clientId:t,appointment:n});case 5:r=e.sent,a(L()),a(et(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a(tt(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:e.client.ID,appointment:Object(f.a)(Object(f.a)({},e),{},{date:n})})),d(!t)},startDate:n,isVaccine:m,clientIndex:r})]}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addAppointmentForm",variant:"outlined",children:"Submit"})]})]})},CLIENT_TRANSACTIONS_MODAL:function(e){var t=e.isVisible,n=e.index,r=fn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})),u=d.clients,j=d.paymentHistory,m=d.isPaymentsLoading,p=u[n],O=Object(b.b)();Object(l.useEffect)((function(){var e;O((e=p.ID,function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Ue()),t.next=4,we(e);case 4:a=t.sent,n(Je(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Ke(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[O,p]);var f=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:f,TransitionProps:{onExited:function(){O(A())}},fullScreen:!0,children:[Object(a.jsx)(g.a,{children:"Payment History"}),Object(a.jsx)(v.a,{className:r.content,children:m?Object(a.jsx)(E.a,{}):Object(a.jsx)(On,{paymentHistory:j,client:p})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"outlined",onClick:f,children:"DONE"})})]})},CLIENT_APPOINTMENTS_MODAL:function(e){var t=e.isVisible,n=e.clientIndex,r=_n(),c=Object(l.useState)(t),i=Object(h.a)(c,2),s=i[0],d=i[1],u=Object(l.useState)(new Date),j=Object(h.a)(u,2),m=j[0],O=j[1],f=Object(p.g)(),y=Object(b.c)((function(e){return e.clients})),S=y.isAppointmentsLoading,C=y.clientAppointments,I=y.clients[n],N=Object(b.b)(),w=function(){d(!t)},k=function(e){O(e);var n=C.find((function(t){return En()(t.date).isSame(e,"date")}));n&&(d(!t),f.push("/clients/appointments",{appointment:n}))};Object(l.useEffect)((function(){N(function(e){var t=e.clientId;return function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(it()),e.next=4,Ae({clientId:t});case 4:a=e.sent,n(ot(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(ct(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:I.ID}))}),[N,I]);return Object(a.jsxs)(x.a,{open:s,onClose:w,TransitionProps:{onExited:function(){N(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"Appointments"}),Object(a.jsx)(v.a,{children:S?Object(a.jsx)("div",{className:r.loadingIndicator,children:Object(a.jsx)(E.a,{})}):Object(a.jsx)(o.b,{dateAdapter:Ln.a,children:Object(a.jsx)(Pn.a,{date:m,onChange:k,disableHighlightToday:!0,allowSameDateSelection:!0,renderDay:function(e,t,n){return Object(a.jsx)(Bn,{classes:r,date:e,selectedDate:m,_selectedDates:t,PickersDayComponentProps:n,appointments:C})},allowKeyboardControl:!1})})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{onClick:w,children:"DONE"})})]})},CLIENT_VETERINARIAN_NOTE_MODAL:function(e){var t=e.isVisible,n=e.index,r=hn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})).clients,u=Object(l.useMemo)((function(){return d[n]}),[n,d]),j=Object(l.useState)(u.veterinarianNote?u.veterinarianNote:""),m=Object(h.a)(j,2),p=m[0],O=m[1],v=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){v(A())}},className:r.root,children:[Object(a.jsx)(g.a,{children:"Add Veterinarian Note"}),Object(a.jsx)("div",{className:r.content,children:Object(a.jsx)(xt.a,{fullWidth:!0,label:"Note",multiline:!0,rows:10,value:p,onChange:function(e){return O(e.target.value)}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){var e=Object(f.a)(Object(f.a)({},u),{},{veterinarianNote:p});v(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(ze()),n(F({modalType:"LOADING_MODAL",modalProps:{}})),t.next=5,Ie(e);case 5:a=t.sent,n(Ve(a)),n(L()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(We(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e)),s(!t)},children:"Submit"})]})]})}},Ya=function(){var e=Object(b.c)((function(e){return e.modals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=Wa[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},Ga=n(371),qa=n(664),Ua=n(658),Ja=n(581),Ka=n(665),Qa=n(666),Xa=Object(S.b)({name:"drawer",initialState:{isOpen:!1},reducers:{toggleDrawer:function(e){e.isOpen=!e.isOpen}}}),$a=Xa.reducer,Za=Xa.actions.toggleDrawer,er=n(696),tr=n(663),nr=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,e.next=3,te.delete("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ar=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.notificationId,e.next=3,te.patch("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rr=Object(S.b)({name:"notificationsSlice",initialState:{isLoading:!1,notifications:[],error:null},reducers:{fetchNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},fetchNotificationsSuccess:function(e,t){var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.isLoading=!1,e.error=null},fetchNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},clearNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},clearNotificationsSuccess:function(e,t){e.notifications={},e.isLoading=!1,e.error=null},clearNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},updateNotificationStart:function(){},updateNotificationSuccess:function(e,t){e.isLoading=!1;var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.error=null},updateNotificationError:function(e,t){e.error=t.payload,e.isLoading=!1}}}),cr=rr.actions,ir=cr.fetchNotificationsError,or=cr.fetchNotificationsStart,sr=cr.fetchNotificationsSuccess,lr=cr.updateNotificationError,dr=cr.updateNotificationStart,ur=cr.updateNotificationSuccess,jr=cr.clearNotificationsError,br=cr.clearNotificationsStart,mr=cr.clearNotificationsSuccess,pr=rr.reducer,Or=n(646),fr=n(582),hr=n(662),xr=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:e.spacing(1)},title:{fontWeight:"bold",fontSize:"1.2rem"},message:{fontSize:"1rem"},seen:{opacity:"50%"},date:{color:"#FFFFFFB3",fontSize:"0.8rem"}}})),gr=function(e){var t=e.notif,n=e.index,r=e.onNotificationPressed,c=xr(),i=Object(l.useState)(t.seen),o=Object(h.a)(i,2),s=o[0],d=o[1],u=JSON.parse(t.payload);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(fr.a,{button:!0,onClick:function(){d(!0),r(t,n)},className:s?Mn()([c.root,c.seen]):c.root,children:[Object(a.jsx)(ye.a,{className:c.title,children:u.client.clientName}),Object(a.jsx)(ye.a,{className:c.message,children:t.message}),Object(a.jsx)(ye.a,{className:c.date,children:un()(t.CreatedAt).format("MMMM DD, YYYY")})]},t.ID),Object(a.jsx)(hr.a,{})]})},vr=Object(O.a)((function(e){return{root:{width:"400px",display:"flex",maxHeight:"500px",flexDirection:"column",justifyContent:"center",gap:e.spacing(1)}}})),yr=function(e){var t=e.notifications,n=e.onNotificationPressed,r=e.onClearNotificationsPressed,c=vr();return Object(a.jsx)(Or.a,{className:c.root,children:0!==Object.keys(t).length?Object(a.jsxs)(a.Fragment,{children:[Object.keys(t).map((function(e,r){var c=t[e];return Object(a.jsx)(gr,{notif:c,index:r,onNotificationPressed:n})})),Object(a.jsx)(fe.a,{variant:"text",color:"error",onClick:r,startIcon:Object(a.jsx)(_t.a,{color:"error"}),children:"Clear Notifications"})]}):Object(a.jsx)(ye.a,{align:"center",children:"No Notifications"})})},Sr=Object(O.a)((function(e){return{loadingIndicator:{width:"400px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"}}})),Cr=function(){var e=Object(b.c)((function(e){return e.notifications})),t=e.notifications,n=e.isLoading,r=Object(l.useState)(null),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(p.g)(),d=Sr(),u=Object(b.b)();Object(l.useEffect)((function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(or()),new WebSocket("".concat(Y.WS_BASE_URL,"/notifications/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(sr(n.data))}}catch(c){t(ir(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[u]);var j=Boolean(i),m=function(e,t){var n=JSON.parse(e.payload);s.push("/clients/appointments",{appointment:n}),u(function(e){var t=e.notificationId;return e.index,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(dr()),e.next=4,ar({notificationId:t});case 4:a=e.sent,n(ur(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(lr(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({notificationId:e.ID,index:t})),o(null)},O=function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().auth.user,e.prev=1,t(br()),e.next=5,nr({branchName:a.branchName});case 5:t(mr()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(jr(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}())};return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ja.a,{onClick:function(e){o(e.currentTarget)},children:Object(a.jsx)(er.a,{badgeContent:Object.keys(t).map((function(e){return t[e]})).filter((function(e){return!e.seen})).length,children:Object(a.jsx)(tr.a,{})})}),Object(a.jsx)(Ga.a,{anchorEl:i,keepMounted:!0,open:j,onClose:function(){o(null)},children:n?Object(a.jsx)("div",{className:d.loadingIndicator,children:Object(a.jsx)(E.a,{})}):Object(a.jsx)(yr,{notifications:t,onNotificationPressed:m,onClearNotificationsPressed:O})})]})},Ir=Object(O.a)((function(e){var t;return{appBar:(t={},Object(It.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(J,"px)"),marginLeft:J}),Object(It.a)(t,"width","100%"),Object(It.a)(t,"backgroundColor","#272727"),Object(It.a)(t,"flexGrow",1),t),menuButton:Object(It.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none "}),grow:{flexGrow:1}}})),Nr={dashboard:"Dashboard","pet-queues":"Pet Queues","all-clients":"All Clients",payments:"Payments",appointments:"Appointments","appointment-form":"Appointment Form","item-categories":"Item Categories",items:"All Items",sales:"All Sales"},wr=function(){var e=Object(l.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(l.useState)(""),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(p.h)(),u=Boolean(n),j=Object(b.b)(),m=Ir();Object(l.useEffect)((function(){var e=d.pathname.split("/"),t=Nr[e[e.length-1]];s(t)}),[d,o,s]);var O=function(){r(null)},f=function(){O(),j(w({modalType:"LOGOUT_MODAL",modalProps:{title:"Logout",message:"Are you sure you want to logout from the session?"}}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(qa.a,{position:"fixed",className:m.appBar,children:Object(a.jsxs)(Ua.a,{children:[Object(a.jsx)(Ja.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){j(Za())},className:m.menuButton,children:Object(a.jsx)(Ka.a,{})}),Object(a.jsx)(ye.a,{children:"Petshield Veterinary Clinic - "+o}),Object(a.jsx)("div",{className:m.grow}),Object(a.jsx)(Cr,{}),Object(a.jsx)(Ja.a,{edge:"end",onClick:function(e){r(e.target)},children:Object(a.jsx)(Qa.a,{style:{fontSize:"2rem"}})})]})}),Object(a.jsx)(Ga.a,{anchorEl:n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:O,children:Object(a.jsx)(In.a,{onClick:f,children:"Logout"})})]})},Ar=n(669),kr=n(670),Dr=n(673),Pr=n(701),Fr=n(709),Lr=n(667),Tr=n(668),Er=n(671),Rr=n(672),Mr=n.p+"static/media/house.7d774967.svg",_r=n.p+"static/media/all_clients.2a3b6270.svg",Br=n.p+"static/media/all_items.e153111f.svg",Hr=n.p+"static/media/appointments.f3506a0a.svg",zr=n.p+"static/media/clients.b5a069e7.svg",Vr=n.p+"static/media/dashboard.99dfeff1.svg",Wr=n.p+"static/media/inventory.c084951b.svg",Yr=n.p+"static/media/item_transactions.a4256305.svg",Gr=(n.p,n.p+"static/media/payments.8026a3af.svg"),qr=n(144),Ur=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,drawer:Object(It.a)({},e.breakpoints.up("sm"),{width:J,flexShrink:0}),drawerPaper:{width:J,backgroundColor:"#343434"},nested:{paddingLeft:"".concat(e.spacing(4))},drawerIcon:{width:"34px",height:"34px",fill:"".concat(e.palette.primary.main," !important")}}})),Jr=function(){var e=Ur(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.drawer})).isOpen,r=Object(l.useState)({home:!1,clients:!1,inventory:!1,admin:!1}),c=Object(h.a)(r,2),i=c[0],o=c[1],s=[{label:"Home",type:"home",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{home:!i.home}))},icon:Mr,subItems:[{label:"Dashboard",icon:Vr,path:"/home/dashboard"}]},{label:"Clients",type:"clients",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{clients:!i.clients}))},icon:zr,subItems:[{label:"All Clients",icon:_r,path:"/clients/all-clients"},{label:"Payments",icon:Gr,path:"/clients/payments"},{label:"Appointments",icon:Hr,path:"/clients/appointments"}]},{label:"Inventory",type:"inventory",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{inventory:!i.inventory}))},icon:Wr,subItems:[{label:"All Items",icon:Br,path:"/inventory/items"},{label:"Item Transactions",icon:Yr,path:"/inventory/sales"}]},{label:"Admin",type:"admin",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{admin:!i.admin}))},mIcon:Lr.a,subItems:[{label:"Item Category",mIcon:Tr.a,path:"/admin/item-categories"}]}],u=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)(hr.a,{}),Object(a.jsx)(Or.a,{children:s.map((function(t){return Object(a.jsxs)(d.a.Fragment,{children:[Object(a.jsxs)(fr.a,{button:!0,onClick:t.handleOnClick,children:[Object(a.jsx)(Ar.a,{children:t.icon?Object(a.jsx)(qr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(kr.a,{primary:t.label}),i[t.type]?Object(a.jsx)(Er.a,{}):Object(a.jsx)(Rr.a,{})]},t.label),Object(a.jsx)(Dr.a,{in:i[t.type],timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(Or.a,{component:"div",children:t.subItems.map((function(t){return Object(a.jsxs)(fr.a,{button:!0,component:m.b,to:t.path,className:e.nested,children:[Object(a.jsx)(Ar.a,{children:t.icon?Object(a.jsx)(qr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(kr.a,{primary:t.label})]},t.label)}))})})]},t.label)}))})]}),j=function(){t(Za())};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pr.a,{smUp:!0,implementation:"css",children:Object(a.jsx)(Fr.a,{className:e.drawer,variant:"temporary",anchor:"left",open:n,onClose:j,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:u})}),Object(a.jsx)(Pr.a,{smDown:!0,implementation:"css",children:Object(a.jsx)(Fr.a,{className:e.drawer,classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:u})})]})},Kr=function(e){var t=e.component,n=Object(vn.a)(e,["component"]),r=Object(b.c)((function(e){return e.auth})).user;return 0!==Object.keys(r).length?Object(a.jsx)(p.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(wr,{}),Object(a.jsx)(Jr,{}),Object(a.jsx)(t,Object(f.a)({},e))]})}})):Object(a.jsx)(p.a,{to:{pathname:"/auth/login"}})},Qr=n(232),Xr=n(345),$r=n.n(Xr),Zr=n(346),ec=n.n(Zr),tc=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"100%"},textField:{paddingBottom:"1em"}}})),nc=function(e){var t=e.onSubmit,n=tc(),r=Object(l.useState)(!1),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(ht.b)(),d=s.register,u=s.errors,j=s.handleSubmit;return Object(a.jsxs)("form",{id:"loginForm",className:n.root,onSubmit:j(t),children:[Object(a.jsx)(xt.a,{className:n.textField,variant:"outlined",label:"Username",name:"username",size:"small",helperText:u.username?"This field is required!":"",inputRef:d({required:!0}),error:!!u.username}),Object(a.jsx)(xt.a,{className:n.textField,variant:"outlined",label:"Password",name:"password",size:"small",helperText:u.password?"This field is required!":"",type:i?"text":"password",inputRef:d({required:!0}),InputProps:{endAdornment:Object(a.jsx)(gt.a,{children:Object(a.jsx)(Ja.a,{onClick:function(){o(!i)},children:i?Object(a.jsx)($r.a,{color:"secondary"}):Object(a.jsx)(ec.a,{color:"secondary"})})})},error:!!u.password})]})},ac=n.p+"static/media/login_background.102072f5.png",rc=n.p+"static/media/logo.68ea1519.png",cc=Object(O.a)((function(e){return{root:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},background:{height:"100vh",width:"100%",position:"absolute",top:"0",left:"0",backgroundImage:"url(".concat(ac,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"blur(4px)"},container:{display:"grid",width:"100%",height:"100%",maxHeight:"500px",maxWidth:"500px",gridTemplate:"1fr 1fr 1fr/ 1fr",placeContent:"center",padding:"1em",zIndex:2},loading:{display:"grid",width:"100%",height:"100%",placeContent:"center"},centerItem:{display:"grid",placeSelf:"center"},logo:{position:"fixed",top:"0",margin:"1em auto",width:"80px",height:"80px",zIndex:2}}})),ic=function(){var e=cc(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.auth})),r=n.user,c=n.isLoading,i=function(e){var n;t((n=e,function(){var e=Object(z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(le()),e.next=4,ne(n);case 4:a=e.sent,t(de(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(ue(e.t0.message)),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message}}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(Qr.a,{className:e.root,elevation:0,children:[Object(a.jsx)("img",{className:e.logo,src:rc,alt:"logo"}),Object(a.jsx)("div",{className:e.background}),c?Object(a.jsx)("div",{className:e.loading,children:Object(a.jsx)(E.a,{color:"primary"})}):0===Object.keys(r).length?Object(a.jsxs)(Qr.a,{variant:"outlined",className:e.container,children:[Object(a.jsx)(ye.a,{className:e.centerItem,align:"center",variant:"h5",children:"Petshield Veterinary Clinic"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(nc,{onSubmit:i}),Object(a.jsx)(fe.a,{color:"primary",form:"loginForm",type:"submit",variant:"contained",fullWidth:!0,children:"Login"})]})]}):Object(a.jsx)(p.a,{to:"/home/dashboard"})]})},oc=n(674),sc=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/stats/".concat(t,"/item-sales?salesDate=").concat(n,"&salesDateCateg=").concat(a));case 2:if(!(r=e.sent).data.data){e.next=7;break}return e.abrupt("return",r.data.data);case 7:throw Error(r.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),lc=Object(S.b)({name:"homeSalesStats",initialState:{isLoading:!1,stats:{},error:null},reducers:{fetchItemSalesStatsStart:function(e){e.isLoading=!0},fetchItemSalesStatsSuccess:function(e,t){e.isLoading=!1,e.stats=t.payload},fetchItemSalesStatsFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),dc=lc.reducer,uc=lc.actions,jc=uc.fetchItemSalesStatsFailure,bc=uc.fetchItemSalesStatsStart,mc=uc.fetchItemSalesStatsSuccess,pc=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"}}})),Oc=function(e){var t=e.setSalesDateCateg,n=e.salesDateCateg,r=e.salesDate,c=e.setSalesDate,i=pc(),o=Object(b.b)();return Object(l.useEffect)((function(){o(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(bc()),n.next=5,sc(c.branchName,e,t);case 5:i=n.sent,a(mc(i)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a(jc(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,n))}),[o,r,n]),Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsxs)(Cn.a,{value:n,onChange:function(e){var n=e.target.value;t(n)},variant:"outlined",children:[Object(a.jsx)(In.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(In.a,{value:"yearly",children:"Yearly"})]}),Object(a.jsx)(wn.a,{value:r,allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},views:{monthly:["month","year"],yearly:["year"]}[n],onChange:function(e){c(un()(e).format("MM-DD-YYYY"))}})]})},fc=n(697),hc=n(675),xc=n(679),gc=n(357),vc=n(358),yc=n(231),Sc=n(183),Cc=n(372),Ic=n(703),Nc=n(373),wc=Object(O.a)((function(e){return{root:{padding:e.spacing(2)}}})),Ac=function(e){var t=e.payload,n=e.active,r=wc();if(n&&t){var c=t[0].payload.name,i=t[0].payload.sales;return Object(a.jsxs)(oc.a,{className:r.root,children:[Object(a.jsx)(ye.a,{variant:"h6",align:"center",children:c}),Object(a.jsx)("br",{}),function(){if(0!==Object.keys(i).length){var e=Object.keys(i).filter((function(e){return"Net Sales"!==e})).map((function(e){return Object(a.jsx)(ye.a,{children:"".concat(e,": ").concat(i[e])},e)}));return Object(a.jsxs)(a.Fragment,{children:[e,Object(a.jsx)(ye.a,{children:"Net Sales: ".concat(void 0!==i["Net Sales"]?i["Net Sales"]:0)})]})}return Object(a.jsx)(ye.a,{children:"No Sales"})}()]})}return null},kc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-evenly",gridGap:"1em"},tooltip:{backgroundColor:"red"}}})),Dc=function(){var e=kc(),t=Object(b.c)((function(e){return e.homeSalesStats})),n=t.isLoading,r=t.stats,c=Object(l.useState)([]),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)([]),u=Object(h.a)(d,2),j=u[0],m=u[1];Object(l.useEffect)((function(){var e={Grooming:"#8884D8","Vet Sales":"#8CDEDC","Store Sales":"#B2ECE1","Blood Test":"#D295BF",default:"#DE9151"};0!==Object.keys(r).length&&function(){for(var t=r.data.map((function(e){return{name:e.category,sales:e.value,netSales:void 0!==e.value["Net Sales"]?e.value["Net Sales"]:0}})),n={},a=function(e){0!==Object.keys(r.data[e].value).length&&Object.keys(r.data[e].value).filter((function(e){return"Net Sales"!==e})).forEach((function(t){n[t]||(n[t]=0),n[t]+=r.data[e].value[t]}))},c=0;c<r.data.length;c++)a(c);var i=Object.keys(n).map((function(t){return{name:t,value:n[t],fill:void 0!==e[t]?e[t]:e.default}}));m(i),s(t)}()}),[r,n,m,s]);return Object(a.jsx)("div",{className:e.root,children:n?Object(a.jsx)(E.a,{}):0!==o.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fc.a,{width:"100%",height:400,children:Object(a.jsxs)(hc.a,{data:o,children:[Object(a.jsx)(xc.a,{strokeDasharray:"3 3"}),Object(a.jsx)(gc.a,{dataKey:"name",type:"category"}),Object(a.jsx)(vc.a,{type:"number",dataKey:"netSales",name:"Net Sales"}),Object(a.jsx)(yc.a,{content:Object(a.jsx)(Ac,{})}),Object(a.jsx)(Sc.a,{}),Object(a.jsx)(Cc.a,{type:"monotone",dataKey:"netSales"})]})}),Object(a.jsx)(fc.a,{width:"100%",height:400,children:Object(a.jsxs)(Ic.a,{children:[Object(a.jsx)(yc.a,{}),Object(a.jsx)(Sc.a,{}),Object(a.jsx)(Nc.a,{data:j,dataKey:"value"})]})})]}):null})},Pc=Object(O.a)((function(e){return{root:Object(It.a)({padding:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"}),graphWrapper:{},title:{margin:"".concat(e.spacing(2)," 0")}}})),Fc=function(){var e=un()(Date.now()).format("MM-DD-YYYY"),t=Object(l.useState)("monthly"),n=Object(h.a)(t,2),r=n[0],c=n[1],i=Object(l.useState)(e),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Pc();return Object(a.jsxs)(oc.a,{className:u.root,children:[Object(a.jsx)(Oc,{salesDate:s,setSalesDate:d,salesDateCateg:r,setSalesDateCateg:c}),Object(a.jsx)(ye.a,{variant:"h5",align:"center",className:u.title,children:"".concat(r.toUpperCase()," Sales")}),Object(a.jsx)("div",{className:u.graphWrapper,children:Object(a.jsx)(Dc,{})})]})},Lc=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"}}})),Tc=function(){var e=Lc();return Object(a.jsx)(Qr.a,{className:e.root,children:Object(a.jsx)(Fc,{})})},Ec=n(684),Rc=n.p+"static/media/consultations.524fbfbc.svg",Mc=n(704),_c=n(274),Bc=n(680),Hc=n(681),zc=n(682),Vc=n(683),Wc=n.p+"static/media/rx_icon.edf0143d.png",Yc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},owner:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),Gc=function(){var e=Yc();return Object(a.jsxs)(Qr.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Mc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ye.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(ye.a,{className:e.owner,children:"Owner: Paolo"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(_c.a,{className:e.consultationButton,children:Object(a.jsx)(Bc.a,{})}),Object(a.jsx)(_c.a,{className:e.consultationButton,children:Object(a.jsx)(Hc.a,{})}),Object(a.jsx)(_c.a,{className:e.consultationButton,children:Object(a.jsx)(zc.a,{})}),Object(a.jsx)(_c.a,{className:Mn()(e.consultationButton,e.finish),children:Object(a.jsx)(on.a,{})}),Object(a.jsx)(_c.a,{className:e.consultationButton,children:Object(a.jsx)(Vc.a,{})}),Object(a.jsx)(_c.a,{className:Mn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Wc,alt:"rx"})})]})]})},qc=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},consultationList:{marginTop:"1em"}}})),Uc=function(){var e=qc();return Object(a.jsx)(oc.a,{className:e.root,children:Object(a.jsxs)(Ec.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(ye.a,{variant:"h5",children:"Consultations"}),Object(a.jsxs)(ye.a,{className:e.subTitle,variant:"body1",children:["Pets to consult:"," "]})]}),Object(a.jsx)(qr.a,{src:Rc,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(hr.a,{}),Object(a.jsx)(Or.a,{className:e.consultationList,children:Object(a.jsx)(Gc,{})})]})})},Jc=n.p+"static/media/admitted.d82cca45.svg",Kc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),Qc=function(){var e=Kc();return Object(a.jsxs)(Qr.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Mc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ye.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(ye.a,{className:e.subTitle,children:"Owner: Paolo"}),Object(a.jsx)(ye.a,{className:e.subTitle,children:"Days admitted: 0"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(_c.a,{className:e.consultationButton,children:Object(a.jsx)(zc.a,{})}),Object(a.jsx)(_c.a,{className:e.consultationButton,children:Object(a.jsx)(Hc.a,{})}),Object(a.jsx)(_c.a,{className:e.consultationButton,children:Object(a.jsx)(Bc.a,{})}),Object(a.jsx)(_c.a,{className:Mn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Wc,alt:"rx"})})]})]})},Xc=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},admittancesList:{marginTop:"1em"}}})),$c=function(){var e=Xc();return Object(a.jsx)(oc.a,{className:e.root,children:Object(a.jsxs)(Ec.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(ye.a,{variant:"h5",children:"Admitted"}),Object(a.jsx)(ye.a,{className:e.subTitle,variant:"body1",children:"Pets admitted:"})]}),Object(a.jsx)(qr.a,{src:Jc,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(hr.a,{}),Object(a.jsx)(Or.a,{className:e.admittancesList,children:Object(a.jsx)(Qc,{})})]})})},Zc=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},container:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(3)}}})),ei=function(){var e=Zc();return Object(a.jsx)(Qr.a,{className:e.root,children:Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(Uc,{}),Object(a.jsx)($c,{})]})})},ti=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/dashboard"),component:Tc}),Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/pet-queues"),component:ei}),Object(a.jsx)(p.a,{to:"".concat(t.url,"/dashboard")})]})},ni=n(685),ai=n(686),ri=Object(O.a)((function(e){return{root:{marginBottom:e.spacing(2)},container:{display:"flex",justifyContent:"space-between",borderRadius:"10px",backgroundColor:"#2f2f2f"},infoContainer:{display:"flex",padding:e.spacing(1)},buttonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{zIndex:"10",padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}},clientMoreDetails:{display:"flex",flexDirection:"column",padding:e.spacing(2)}}})),ci=function(e){var t=e.client,n=e.index,r=ri(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(Qr.a,{className:r.root,children:[Object(a.jsxs)(fr.a,{button:!0,className:r.container,onClick:function(){s(!o)},children:[Object(a.jsxs)("div",{className:r.infoContainer,children:[Object(a.jsx)(Mc.a,{className:r.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ye.a,{variant:"h6",children:"Pet Name: ".concat(t.pet.petName)}),Object(a.jsx)(ye.a,{className:r.subTitle,children:"Owner: ".concat(t.clientName)}),Object(a.jsx)(ye.a,{className:r.subTitle,children:"Pet Species: ".concat(t.pet.species)}),Object(a.jsx)(ye.a,{className:r.subTitle,children:"Pet Breed: ".concat(t.pet.petBreed)}),Object(a.jsx)(ye.a,{className:r.subTitle,children:"Last Visit: ".concat(un()(t.lastVisit).format("MM-DD-YYYY HH-MM-SS A"))}),Object(a.jsx)(ye.a,{className:r.subTitle,children:"Next Visit: ".concat(un()(t.nextVisit).format("MM-DD-YYYY HH-MM-SS A"))})]})]}),Object(a.jsxs)("div",{className:r.buttonsContainer,children:[Object(a.jsx)(_c.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_TRANSACTIONS_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(ni.a,{})}),Object(a.jsx)(_c.a,{className:r.consultationButton,children:Object(a.jsx)(Hc.a,{})}),Object(a.jsx)(_c.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_VETERINARIAN_NOTE_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(Bc.a,{})}),Object(a.jsx)(_c.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_APPOINTMENTS_MODAL",modalProps:{clientIndex:n}}))},children:Object(a.jsx)(ai.a,{})}),Object(a.jsx)(_c.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{clientIndex:n,startDate:Date().toString()}}))},children:Object(a.jsx)(Vc.a,{})}),Object(a.jsx)(_c.a,{className:Mn()(r.consultationButton,r.rxIcon),children:Object(a.jsx)("img",{src:Wc,alt:"rx"})})]})]}),Object(a.jsx)(Dr.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)("div",{className:r.clientMoreDetails,children:[Object(a.jsx)(ye.a,{children:"Address: ".concat(t.address)}),Object(a.jsx)(ye.a,{children:"Contact Number: ".concat(t.contactNumber)}),Object(a.jsx)(ye.a,{children:"Email: ".concat(t.email)}),Object(a.jsx)(ye.a,{children:"Veterinarian Note: ".concat(t.veterinarianNote)})]})})]})},ii=Object(O.a)((function(e){return{root:{minHeight:"100%",overflowY:"auto",overflowX:"hidden",padding:"0 ".concat(e.spacing(2)),paddingBottom:e.spacing(5)}}})),oi=function(e){var t=e.clients,n=ii();return Object(a.jsx)(Or.a,{className:n.root,children:Object.keys(t).map((function(e){return Object(a.jsx)(ci,{client:t[e],index:e},t[e].ID)}))})},si=n(687),li=n(688),di=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)}}})),ui=function(e){var t=e.fuse,n=e.setClientResultsSearch,r=Object(b.b)(),c=di();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(xt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(gt.a,{children:Object(a.jsx)(si.a,{color:"primary"})})},onChange:function(e){!function(e){if(""!==e){var a=t.search(e);n(a.map((function(e){return e.item})))}else n(null)}(e.target.value)}}),Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(li.a,{}),onClick:function(){r(w({modalType:"ADD_CLIENT_MODAL"}))},children:"Add Client"})]})},ji=n(362),bi=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px",overflow:"hidden"},loadingIndicator:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{display:"flex",justifyContent:"flex-end"}}})),mi=function(){var e=bi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.clients,c=n.isClientsLoading,i=Object(l.useState)(null),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useMemo)((function(){return{includeScore:!0,keys:["clientName"]}}),[]),j=Object(l.useMemo)((function(){return new ji.a(r,u)}),[r,u]);Object(l.useEffect)((function(){t(pt())}),[t]);return Object(a.jsx)(Qr.a,{className:e.root,children:c?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(E.a,{})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ui,{setClientResultsSearch:d,fuse:j}),Object(a.jsx)(oi,{clients:s||r})]})})},pi=n(59),Oi=n(7),fi=n(79),hi=n(689),xi=Object(O.a)((function(e){return{icon:{color:e.palette.action.active},textCenter:{textAlign:"center"},commandButton:{backgroundColor:"rgba(255,255,255,0.65)"},header:{display:"flex",justifyContent:"space-between"},form:{display:"flex",marginTop:e.spacing(2),width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),gi=function(e){e.children;var t=e.appointmentData,n=e.setIsEditing,r=e.isEditing,c=e.setAppointmentVisible,i=Object(vn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible"]),o=Object(b.b)(),s=xi();return Object(a.jsxs)(fi.b.Header,Object(f.a)(Object(f.a)({className:s.header},i),{},{appointmentData:t,children:[Object(a.jsx)(Ja.a,{onClick:function(){var e=t.appointment;o(function(e){var t=e.appointmentId;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(bt()),n(F({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,ke({appointmentId:t,branchName:r.branchName});case 6:c=e.sent,n(L()),n(jt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(ut(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointmentId:e.ID})),c(!1)},children:Object(a.jsx)(_t.a,{color:"error"})}),Object(a.jsx)(Ja.a,{onClick:function(){return n(!r)},children:Object(a.jsx)(hi.a,{color:r?"primary":"action"})})]}))},vi=function(e){e.children;var t=e.appointmentData,n=(e.setIsEditing,e.isEditing),r=e.setAppointmentVisible,c=(e.onAppointmentMetaChanged,Object(vn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible","onAppointmentMetaChanged"])),i=xi(),o=Object(b.b)(),s=Object(ht.b)(),l=s.handleSubmit,d=s.control,u=t.appointment;return Object(a.jsx)(fi.b.Content,Object(f.a)(Object(f.a)({},c),{},{appointmentData:t,children:Object(a.jsxs)("form",{className:i.form,id:"updateAppointmentForm",onSubmit:l((function(e){var t=un()(e.date).toISOString(),n=Object(f.a)(Object(f.a)({},u),{},{date:t,veterinarianNote:e.veterinarianNotes});r(!1),o(function(e){var t=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(lt()),n(F({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Pe({branchName:r.branchName,appointment:t});case 6:c=e.sent,n(L()),n(dt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(st(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointment:n}))})),children:[Object(a.jsx)(ht.a,{id:"appointment-date",name:"date",control:d,defaultValue:un()(u.date).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(wn.a,Object(f.a)({disabled:!n,renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date",readOnly:!n}))}},e))}}),Object(a.jsx)(ht.a,{name:"veterinarianNotes",control:d,defaultValue:u.veterinarianNote,rules:{},render:function(e){return Object(a.jsx)(xt.a,Object(f.a)({disabled:!n,label:"Notes",multiline:!0,size:"small",rows:5},e))}}),n?Object(a.jsx)(fe.a,{form:"updateAppointmentForm",children:"Update Appointment"}):null]})}))},yi=function(e){var t=Object(b.b)();return Object(a.jsx)(fi.e.TimeTableCell,Object(f.a)({onClick:function(){t(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{startDate:String(e.startDate)}}))}},e))},Si=n(57),Ci=n(58),Ii=n(93),Ni=n(92),wi=function(e){Object(Ii.a)(n,e);var t=Object(Ni.a)(n);function n(e){var a;return Object(Si.a)(this,n),(a=t.call(this,e)).ref=d.a.createRef(),a}return Object(Ci.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.setAppointmentVisible,a=e.onAppointmentMetaChange,r=e.notificationState,c=e.setNotificationState;if(r){var i=r.appointment;Array.isArray(i)?i[0].ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null)):i.ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null))}}},{key:"render",value:function(){var e=this.props,t=e.data,n=(e.onClick,e.classes,e.setAppointmentVisible),r=e.onAppointmentMetaChange,c=(e.location,Object(vn.a)(e,["data","onClick","classes","setAppointmentVisible","onAppointmentMetaChange","location"]));return Object(a.jsx)(fi.c.Appointment,Object(f.a)(Object(f.a)({ref:this.ref,onClick:function(e){var a=e.target;n(!0),r({target:a.parentElement.parentElement,data:t})}},c),{},{children:Object(a.jsx)("div",{ref:this.ref,children:c.children})}))}}]),n}(d.a.Component),Ai=Object(O.a)((function(e){return{root:{height:"100%",borderRadius:"10px",overflow:"hidden"},button:{color:e.palette.background.default,padding:0},appointmentWrapper:{display:"flex",flexWrap:"wrap"}}})),ki=function(e){var t=e.data,n=Ai(),r=Object(p.h)(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(r.state),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(!1),O=Object(h.a)(m,2),f=O[0],x=O[1],g=Object(l.useState)({target:null,data:{}}),v=Object(h.a)(g,2),y=v[0],S=v[1],C=function(e){var t=e.data,n=e.target;x(!1),S({data:t,target:n})},I=Object(Oi.k)(gi,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s}})),N=Object(Oi.k)(vi,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s,onAppointmentMetaChanged:C}})),w=Object(Oi.k)(wi,(function(){return{classes:n,setAppointmentVisible:s,onAppointmentMetaChange:C,notificationState:j,setNotificationState:b}}));return Object(a.jsx)(Qr.a,{className:n.root,children:Object(a.jsxs)(fi.f,{height:"auto",data:t,className:n.root,children:[Object(a.jsx)(pi.q,{}),Object(a.jsx)(fi.e,{timeTableCellComponent:yi}),Object(a.jsx)(fi.g,{}),Object(a.jsx)(fi.d,{}),Object(a.jsx)(fi.c,{appointmentComponent:w}),Object(a.jsx)(fi.b,{headerComponent:I,contentComponent:N,visible:o,onVisibilityChange:function(e){return s(e)},appointmentMeta:y,onAppointmentMetaChange:C}),Object(a.jsx)(fi.a,{})]})})},Di=function(){var e=Object(b.c)((function(e){return e.clients})).appointments.map((function(e){return{id:e.ID,startDate:new Date(e.date),endDate:un()(new Date(e.date)).add(2,"hours").toDate(),title:"".concat(e.client.clientName," - ").concat(e.client.pet.petName," : ").concat(e.type),client:e.client,appointment:e}}));return Object(a.jsx)(ki,{data:e})},Pi=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Fi=function(){var e=Pi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})).isAppointmentsLoading;Object(l.useEffect)((function(){t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(at()),new WebSocket("".concat(Y.WS_BASE_URL,"/clients/").concat(a.branchName,"/appointments?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(rt(n.data))}}catch(c){t(nt(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(oc.a,{className:e.root,children:n?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(E.a,{})}):Object(a.jsx)(Di,{})})},Li=Object(O.a)((function(e){return{root:Object(It.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Ti=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=e.setSelectedClient,c=Li(),i=Object(b.c)((function(e){return e.clients})),o=i.isClientsLoading,s=i.clients;return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)("div",{children:n?Object(a.jsx)(Yt.a,{loading:o,options:s,getOptionLabel:function(e){return e.clientName},renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Client Name",variant:"outlined",helperText:"Enter client name here.",InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[o?Object(a.jsx)(E.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&r(t)}}):null}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(zt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},Ei=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:e.spacing(1)},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),Ri=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.selectedClient,c=e.setSelectedClient,i=Object(l.useState)({}),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(1),j=Object(h.a)(u,2),m=j[0],p=j[1],O=un()(Date.now()).format("MM-DD-YYYY"),x=Object(b.c)((function(e){return e.inventorySearch})),g=x.result,v=x.isLoading,y=Ei(),S=Object(b.b)();if(Object(l.useEffect)((function(){S(pt())}),[S]),!t)return null;var C=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(s.inStock)&&p(t)},I=function(){c({}),d({}),p(1)},N=function(){S(Ot(r.ID,s.ID,m)),I(),S(rn()),n(!1)},w=function(){I(),S(rn()),n(!1)},A=Object(ln.debounce)((function(e){S(""===e?rn():cn(e))}),800),k=function(e){A(e.target.value)};return Object(a.jsxs)(Dt.a,{className:y.root,children:[Object(a.jsx)(Pt.a,{children:O}),Object(a.jsx)(Pt.a,{children:r.clientName}),Object(a.jsx)(Pt.a,{children:0===Object.keys(r).length?"Select a client first":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Yt.a,{loading:v,options:g.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Product Name",size:"small",onChange:k,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[v?Object(a.jsx)(E.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&d(t)}}),s.name]})}),function(){var e=s.price*m,t=e-(s.isIncentiveFixed?Number(s.incentiveAmount).toFixed(2):Number(e*(s.incentiveRate/100)).toFixed(2));return 0===Object.keys(s).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Pt.a,{children:["\u20b1",Number(s.price).toFixed(2)]}),Object(a.jsx)(Pt.a,{className:y.quantityCell,children:Object(a.jsx)(xt.a,{size:"small",variant:"outlined",type:"number",value:m,margin:"dense",onChange:C})}),Object(a.jsxs)(Pt.a,{children:["\u20b1",Number(e).toFixed(2)]}),Object(a.jsx)(Pt.a,{children:"".concat(Number(s.incentiveRate).toFixed(2),"%")}),Object(a.jsx)(Pt.a,{children:s.isIncentiveFixed?"\u20b1".concat(Number(s.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(s.incentiveRate/100)).toFixed(2))}),Object(a.jsxs)(Pt.a,{children:["\u20b1",Number(t).toFixed(2)]}),Object(a.jsx)(Pt.a,{children:s.category}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)("div",{className:y.buttonRows,children:[Object(a.jsx)(fe.a,{className:y.submitButton,variant:"outlined",onClick:N,children:Object(a.jsx)(on.a,{})}),Object(a.jsx)(fe.a,{className:y.cancelButton,variant:"outlined",onClick:w,children:Object(a.jsx)(sn.a,{})})]})})]})}()]})},Mi=Object(O.a)((function(e){return{root:Object(It.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Bt.a[400],border:"2px solid red",borderColor:Bt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),_i=function(e){var t=e.data,n=e.columns,r=Mi(),c=Object(b.b)(),i=Object(l.useState)(0),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(10),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(l.useState)(!1),x=Object(h.a)(O,2),g=x[0],v=x[1],y=Object(l.useState)({}),S=Object(h.a)(y,2),C=S[0],I=S[1],N=Object(Nt.useTable)({data:t,columns:n},Nt.useSortBy),A=N.getTableProps,k=N.headerGroups,D=N.prepareRow,P=N.rows;return Object(a.jsxs)(Qr.a,{className:r.root,children:[Object(a.jsx)(Ti,{toggleAddItemSaleRow:v,showAddItemSaleRow:g,setSelectedClient:I,selectedClient:C}),Object(a.jsx)(wt.a,{children:Object(a.jsxs)(At.a,Object(f.a)(Object(f.a)({},A()),{},{stickyHeader:!0,children:[Object(a.jsx)(kt.a,{children:k.map((function(e){return Object(a.jsxs)(Dt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Pt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Et.a,{fontSize:"small"}):Object(a.jsx)(Mt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Pt.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:r.container,children:[Object(a.jsx)(Ri,{showAddItemSaleRow:g,toggleAddItemSaleRow:v,selectedClient:C,setSelectedClient:I}),P.slice(s*m,s*m+m).map((function(e,t){return D(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Pt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:e.render("Cell")}))},"col".concat(t))})),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(fe.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(_t.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:m,count:t.length,page:s,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})},Bi=function(e){var t=e.itemSales,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:un()(e.CreatedAt).format("L"),col2:e.client.clientName,col3:e.item.name,col4:"\u20b1".concat(Number(e.item.price).toFixed(2)),col5:e.quantity,col6:"\u20b1".concat(Number(e.sales).toFixed(2)),col7:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col8:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col9:"\u20b1".concat(Number(e.netSales).toFixed(2)),col10:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Client",accessor:"col2"},{Header:"Product",accessor:"col3"},{Header:"Price",accessor:"col4"},{Header:"Qty",accessor:"col5"},{Header:"Sales",accessor:"col6"},{Header:"Rate",accessor:"col7"},{Header:"Incentives",accessor:"col8"},{Header:"Net Sales",accessor:"col9"},{Header:"Category",accessor:"col10"}]}),[]),itemSales:t};return Object(a.jsx)(_i,Object(f.a)({},n))},Hi=Object(O.a)((function(e){return{root:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"150px",alignItems:"center",padding:"1em",backgroundColor:"#1D1D1D","&::before":{content:'" "',position:"absolute",backgroundColor:e.palette.primary.main,height:"8px",width:"50%",top:"-3px",borderRadius:"20px"}}}})),zi=function(e){var t=e.title,n=e.value,r=Hi();return Object(a.jsxs)(oc.a,{className:r.root,elevation:0,children:[Object(a.jsx)(ye.a,{style:{fontWeight:"bold"},align:"center",children:t}),Object(a.jsx)(ye.a,{children:"P".concat(Number(n).toFixed(2))})]})},Vi=Object(O.a)((function(e){return{root:Object(It.a)({marginBottom:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),picker:{height:"100% !important"}}})),Wi=function(e){var t=e.onSalesDateChanged,n=e.onSalesDateCategChanged,r=Vi(),c=un()(Date.now()).format("MM-DD-YYYY"),i={daily:["date"],monthly:["month","year"],yearly:["year"]},o=Object(l.useState)("daily"),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(c),b=Object(h.a)(j,2),m=b[0],p=b[1];return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsxs)(Cn.a,{variant:"outlined",value:d,onChange:function(e){return t=e.target.value,u(t),void n({salesDate:m,salesDateCateg:t});var t},children:[Object(a.jsx)(In.a,{value:"overall",children:"All"}),Object(a.jsx)(In.a,{value:"yearly",children:"Yearly"}),Object(a.jsx)(In.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(In.a,{value:"daily",children:"Daily"})]}),"overall"===d?null:Object(a.jsx)(wn.a,{value:m,views:i[d],allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},onChange:function(e){!function(e){var n=e.format("MM-DD-YYYY").toString();p(n),t({salesDate:n,salesDateCateg:d})}(e)}})]})},Yi=Object(O.a)((function(e){return{root:Object(It.a)({display:"grid",width:"100%",gridGap:"1.5em",paddingBottom:"1em"},e.breakpoints.up("sm"),{gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr 1fr"})}})),Gi=function(e){var t=e.dailySales,n=e.metadata,r=Yi(),c=Object(l.useState)(0),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(0),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(0),p=Object(h.a)(m,2),O=p[0],f=p[1],x=Object(l.useState)(0),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(l.useState)(0),C=Object(h.a)(S,2),I=C[0],N=C[1],w=Object(l.useState)(""),A=Object(h.a)(w,2),k=A[0],D=A[1],P=Object(l.useCallback)((function(){var e=0;Object.keys(t).forEach((function(n){"Blood Test"===n?b(t[n].netSales):"Grooming"===n?f(t[n].netSales):"Vet Sales"===n?y(t[n].netSales):"Store Sales"===n?N(t[n].netSales):e+=t[n].netSales})),s(e-0)}),[s,t]),F=Object(l.useCallback)((function(){var e=String(n.salesDateCateg[0]).toUpperCase()+String(n.salesDateCateg).substring(1,n.salesDateCateg.length);D(e)}),[D,n]);return Object(l.useEffect)((function(){P(),F()}),[P,F]),Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(zi,{title:"".concat(k," Sales"),value:o}),Object(a.jsx)(zi,{title:"".concat(k," Sales - Blood Test"),value:j}),Object(a.jsx)(zi,{title:"".concat(k," Sales - Grooming"),value:O}),Object(a.jsx)(zi,{title:"".concat(k," Sales - Store Sales"),value:I}),Object(a.jsx)(zi,{title:"".concat(k," Sales - Vet Sales"),value:v}),Object(a.jsx)(zi,{title:"".concat(k," Net Sales "),value:o+j+O+I+v})]})},qi=Object(O.a)((function(e){return{root:Object(It.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Ui=function(){var e=qi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.isPaymentsLoading,c=n.clientPayments,i=n.error;Object(l.useEffect)((function(){var e=un()(Date.now()).format("MM-DD-YYYY");t(ft({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Wi,{onSalesDateCategChanged:function(e){t(ft(e))},onSalesDateChanged:function(e){t(ft(e))}}),0===Object.keys(c).length||r?i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(E.a,{color:"secondary"})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Gi,{metadata:c.metadata,dailySales:c.dailySales}),Object(a.jsx)(Bi,{itemSales:c.itemSales?c.itemSales:[]})]})]})},Ji=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/all-clients"),component:mi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/appointments"),component:Fi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/payments"),component:Ui})]})},Ki=n(217),Qi=n.n(Ki),Xi=Object(O.a)((function(){return{root:{display:"flex",width:"100%",paddingTop:"1em",alignItems:"center",justifyContent:"space-between"}}})),$i=function(e){var t=e.gotoPage,n=e.nextPage,r=e.previousPage,c=e.canNextPage,i=e.canPreviousPage,o=e.pageCount,s=e.pageSize,l=e.pageIndex,d=e.itemsCount,u=Xi();return Object(a.jsxs)("div",{className:u.root,children:[function(){var e=s*(l+1)>=d?d:s*(l+1);return Object(a.jsx)(ye.a,{children:"Showing ".concat(e," out of ").concat(d," items")})}(),Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(0)},disabled:!i,children:"FIRST"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return r()},disabled:!i,children:"PREV"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return n()},disabled:!c,children:"NEXT"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(o-1)},disabled:!c,children:"LAST"})]})]})},Zi=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItem:"center"},container:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItem:"center",marginBottom:"1em"},itemCount:{display:"flex",alignItems:"center"}}})),eo=function(e){var t=e.setPageSize,n=e.pageSize,r=e.handleSearchItemChanged,c=Zi(),i=Object(b.b)();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsx)("div",{}),Object(a.jsx)(fe.a,{className:c.addItemButton,variant:"outlined",endIcon:Object(a.jsx)(zt.a,{}),onClick:function(e){i(w({modalType:"ADD_ITEM_MODAL",modalProps:{}}))},children:"Add Item"})]}),Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsxs)("div",{className:c.itemCount,children:[Object(a.jsx)(ye.a,{children:"Show \xa0"}),Object(a.jsx)(Cn.a,{value:n,onChange:function(e){t(e.target.value)},children:[10,20,30,40,50].map((function(e){return Object(a.jsx)(In.a,{value:e,children:e},e)}))}),Object(a.jsx)(ye.a,{children:"\xa0 entries"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(xt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(gt.a,{children:Object(a.jsx)(si.a,{color:"primary"})})},onChange:function(e){r(e.target.value)}})})]})]})},to=Object(O.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#1d1d1d",padding:"1.5em",overflowX:"auto"},showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Bt.a[400],border:"2px solid red",borderColor:Bt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"}}})),no=function(e){var t=e.data,n=e.columns,r=e.items,c=to(),i=Object(b.b)(),o=Object(Nt.useTable)({data:t,columns:n,initialState:{pageIndex:0,pageSize:10}},Nt.useFilters,Nt.useSortBy,Nt.usePagination),s=o.getTableProps,l=o.headerGroups,d=o.prepareRow,u=o.rows,j=o.page,m=o.canPreviousPage,p=o.canNextPage,O=o.pageCount,h=o.gotoPage,x=o.nextPage,g=o.previousPage,v=o.setPageSize,y=o.setFilter,S=o.state,C=S.pageIndex,I=S.pageSize,N=function(e){if("col5"===e.column.id)return Object(a.jsxs)(ye.a,{children:["\u20b1",e.render("Cell")]});if("col7"===e.column.id){var t=e.row.values.col6/100*e.row.values.col5;return Object(a.jsxs)(ye.a,{children:["\u20b1",e.render("Cell")," (".concat(t.toFixed(2),")")]})}return"col6"===e.column.id?Object(a.jsxs)(ye.a,{children:[e.render("Cell"),"%"]}):Object(a.jsx)(ye.a,{children:e.render("Cell")})};return Object(a.jsxs)(Qr.a,{className:c.root,children:[Object(a.jsx)(eo,{pageSize:I,setPageSize:v,handleSearchItemChanged:function(e){y("col1",e)}}),Object(a.jsxs)(At.a,Object(f.a)(Object(f.a)({},s()),{},{children:[Object(a.jsx)(kt.a,{children:l.map((function(e){return Object(a.jsxs)(Dt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Pt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Et.a,{fontSize:"small"}):Object(a.jsx)(Mt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Pt.a,{})]},e.id)}))}),Object(a.jsx)(Ft.a,{children:j.map((function(e,t){return d(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Pt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps([{className:e.column.className},(n=e,"Out of Stock"===n.value?{className:c.outOfStock}:"In Stock"===n.value?{className:c.inStock}:"Discounted"===n.value?{className:c.itemDiscounted}:{className:""})])),{},{children:N(e)}))},"col".concat(t));var n})),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(fe.a,{fullWidth:!0,endIcon:Object(a.jsx)(Qi.a,{}),variant:"contained",onClick:function(){var t;t=e.index,i(w({modalType:"MANAGE_ITEM_MODAL",modalProps:{item:r[t],itemIndex:t}}))},children:"Manage Item"})},e.id)]}),e.id)})}))})]})),Object(a.jsx)($i,{canPreviousPage:m,canNextPage:p,previousPage:g,nextPage:x,gotoPage:h,pageCount:O,pageSize:I,pageIndex:C,itemsCount:u.length})]})},ao=function(e){var t=e.items,n={data:Object(l.useMemo)((function(){return t.map((function(e){var t="",n=e.discount>0?e.price*(e.discount/100):0;return t=e.discount>0&&e.inStock>0?"Discounted":0===e.discount&&e.inStock>0?"In Stock":"Out of Stock",{col1:e.name,col2:e.category,col3:e.inStock,col4:t,col5:Number(e.price).toFixed(2),col6:e.discount,col7:(e.price-n).toFixed(2)}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Name",accessor:"col1"},{Header:"Category",accessor:"col2"},{Header:"Stock",accessor:"col3"},{Header:"Status",accessor:"col4"},{Header:"Original Price",accessor:"col5"},{Header:"Discount",accessor:"col6"},{Header:"Total Price",accessor:"col7"}]}),[]),items:t};return Object(a.jsx)(no,Object(f.a)({},n))},ro=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),co=function(){var e=ro(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.inventoryItems})),r=n.isLoading,c=n.items,i=n.error,o=Object(b.c)((function(e){return e.inventorySearch})),s=o.isLoading,d=o.result;Object(l.useEffect)((function(){t(rn()),t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Wn()),new WebSocket("".concat(Y.WS_BASE_URL,"/items/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Yn(n.data))}}catch(i){t(Gn(i.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(Qr.a,{elevation:0,className:e.root,children:r||s?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(E.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(ao,{items:d.length>0?d:c})})},io=Object(O.a)((function(e){return{root:Object(It.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),oo=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=io();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(zt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},so=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),lo=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=Object(l.useState)({}),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(l.useState)(1),d=Object(h.a)(s,2),u=d[0],j=d[1],m=un()(Date.now()).format("MM-DD-YYYY"),p=Object(b.c)((function(e){return e.inventorySearch})),O=p.result,x=p.isLoading,g=so(),v=Object(b.b)();if(!t)return null;var y=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(i.inStock)&&j(t)},S=function(){o({}),j(1)},C=function(){v(Va(i.ID,u)),S(),v(rn()),n(!1)},I=function(){S(),v(rn()),n(!1)},N=Object(ln.debounce)((function(e){v(""===e?rn():cn(e))}),800),w=function(e){N(e.target.value)};return Object(a.jsxs)(Dt.a,{className:g.root,children:[Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:m})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(Yt.a,{loading:x,options:O.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(xt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:w,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[x?Object(a.jsx)(E.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&o(t)}})}),function(){var e=i.price*u,t=e-(i.isIncentiveFixed?Number(i.incentiveAmount).toFixed(2):Number(e*(i.incentiveRate/100)).toFixed(2));return 0===Object.keys(i).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(ye.a,{children:["\u20b1",Number(i.price).toFixed(2)]})}),Object(a.jsx)(Pt.a,{className:g.quantityCell,children:Object(a.jsx)(xt.a,{size:"small",variant:"outlined",type:"number",value:u,onChange:y,fullWidth:!0})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(ye.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:"".concat(Number(i.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:i.isIncentiveFixed?"\u20b1".concat(Number(i.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(i.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)(ye.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(ye.a,{children:i.category})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)("div",{className:g.buttonRows,children:[Object(a.jsx)(fe.a,{className:g.submitButton,variant:"outlined",onClick:C,children:Object(a.jsx)(on.a,{})}),Object(a.jsx)(fe.a,{className:g.cancelButton,variant:"outlined",onClick:I,children:Object(a.jsx)(sn.a,{})})]})})]})}()]})},uo=Object(O.a)((function(e){return{root:Object(It.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Bt.a[400],border:"2px solid red",borderColor:Bt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),jo=function(e){var t=e.data,n=e.columns,r=uo(),c=Object(b.b)(),i=Object(l.useState)(0),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(10),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(l.useState)(!1),x=Object(h.a)(O,2),g=x[0],v=x[1],y=Object(Nt.useTable)({data:t,columns:n},Nt.useSortBy),S=y.getTableProps,C=y.headerGroups,I=y.prepareRow,N=y.rows,A=function(e){return Object(a.jsx)(ye.a,{children:e.render("Cell")})};return Object(a.jsxs)(Qr.a,{className:r.root,children:[Object(a.jsx)(oo,{toggleAddItemSaleRow:v,showAddItemSaleRow:g}),Object(a.jsx)(wt.a,{children:Object(a.jsxs)(At.a,Object(f.a)(Object(f.a)({},S()),{},{stickyHeader:!0,children:[Object(a.jsx)(kt.a,{children:C.map((function(e){return Object(a.jsxs)(Dt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Pt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Et.a,{fontSize:"small"}):Object(a.jsx)(Mt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Pt.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:r.container,children:[Object(a.jsx)(lo,{showAddItemSaleRow:g,toggleAddItemSaleRow:v}),N.slice(s*m,s*m+m).map((function(e,t){return I(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Pt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:A(e)}))},"col".concat(t))})),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(fe.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(_t.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:m,count:t.length,page:s,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})},bo=function(e){var t=e.itemSales,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:un()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),itemSales:t};return Object(a.jsx)(jo,Object(f.a)({},n))},mo=Object(O.a)((function(e){return{root:Object(It.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),po=function(){var e=mo(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.inventorySales})),r=n.isLoading,c=n.itemSales,i=n.dailySales,o=n.metadata,s=n.error;Object(l.useEffect)((function(){var e=un()(Date.now()).format("MM-DD-YYYY");t(za({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Wi,{onSalesDateCategChanged:function(e){t(za(e))},onSalesDateChanged:function(e){t(za(e))}}),r?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(E.a,{color:"secondary"})}):s?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Gi,{metadata:o,dailySales:i}),Object(a.jsx)(bo,{itemSales:c})]})]})},Oo=function(e){var t=e.match;Object(vn.a)(e,["match"]);return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/items"),component:co}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/sales"),component:po})]})},fo={LOADING_MODAL:M,ERROR_MODAL:T,SUCCESS_MODAL:_},ho=function(){var e=Object(b.c)((function(e){return e.infoModals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=fo[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},xo=Object(O.a)((function(e){return{root:Object(It.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),go=function(e){var t=e.toggleAddItemCategoryRow,n=e.showAddItemCategoryRow,r=xo();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(zt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Category")})})]})},vo=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),yo=function(e){var t=e.showAddItemCategoryRow,n=e.toggleAddItemCategoryRow,r=Object(b.c)((function(e){return e.itemCategories})).categories,c=Object(ht.b)({defaultValues:{name:""}}),i=c.reset,o=c.handleSubmit,s=c.register,l=c.errors,d=vo(),u=Object(b.b)();if(!t)return null;return Object(a.jsxs)(Dt.a,{className:d.root,children:[Object(a.jsx)(Pt.a,{children:Object(a.jsx)("form",{id:"addItemCategoryForm",onSubmit:o((function(e){var t;r.find((function(t){return String(t.name).toLowerCase()===String(e.name).toLowerCase()}))?u(F({modalType:"ERROR_MODAL",modalProps:{message:"Existing Category",isInfoModal:!0}})):u((t=e,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(pa()),n(F({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,ia(t);case 5:a=e.sent,n(F({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Added!",duration:3e3}})),n(Oa(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(F({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(ma(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),i(),n(!1)})),children:Object(a.jsx)(xt.a,{fullWidth:!0,name:"name",label:"Category Name",inputRef:s({required:!0}),error:!!l.name,helperText:l.name?"Invalid Input":""})})}),Object(a.jsx)(Pt.a,{children:Object(a.jsxs)("div",{className:d.buttonRows,children:[Object(a.jsx)(fe.a,{variant:"outlined",color:"primary",className:d.submitButton,form:"addItemCategoryForm",type:"submit",children:Object(a.jsx)(on.a,{})}),Object(a.jsx)(fe.a,{variant:"outlined",className:d.cancelButton,onClick:function(){i(),n(!1)},children:Object(a.jsx)(sn.a,{})})]})})]})},So=Object(O.a)((function(e){return{root:Object(It.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Bt.a[400],border:"2px solid red",borderColor:Bt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),Co=function(e){var t=e.data,n=e.columns,r=e.categories,c=So(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Nt.useTable)({data:t,columns:n},Nt.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,w=S.rows,A=function(e){return Object(a.jsx)(ye.a,{children:e.render("Cell")})},k=function(e){var t,n=r[e];i((t=n.ID,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(ha()),n(F({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,oa(t);case 5:a=e.sent,n(F({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Deleted!",duration:3e3}})),n(xa(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(F({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(fa(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(Qr.a,{className:c.root,children:[Object(a.jsx)(go,{toggleAddItemCategoryRow:y,showAddItemCategoryRow:v}),Object(a.jsx)(wt.a,{children:Object(a.jsxs)(At.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(kt.a,{children:I.map((function(e){return Object(a.jsxs)(Dt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Pt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Et.a,{fontSize:"small"}):Object(a.jsx)(Mt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Pt.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:c.container,children:[Object(a.jsx)(yo,{showAddItemCategoryRow:v,toggleAddItemCategoryRow:y}),w.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Dt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Pt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:A(e)}))},"col".concat(t))})),Object(a.jsx)(Pt.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){k(e.index)},children:Object(a.jsx)(_t.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},Io=function(e){var t=e.categories,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:e.name}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Category",accessor:"col1"}]}),[]),categories:t};return Object(a.jsx)(Co,Object(f.a)({},n))},No=Object(O.a)((function(e){return{root:Object(It.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),wo=function(){var e=No(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.itemCategories})),r=n.isLoading,c=n.categories,i=n.error;Object(l.useEffect)((function(){t(ga())}),[t]);return Object(a.jsx)("div",{className:e.root,children:r?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(E.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(Io,{categories:c})})},Ao=function(e){var t=e.match;return Object(a.jsx)(p.d,{children:Object(a.jsx)(p.b,{path:"".concat(t.url,"/item-categories"),component:wo})})},ko=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",padding:0,margin:0},toolbar:e.mixins.toolbar,toastContainer:{zIndex:"1000000"}}})),Do=function(){var e=ko(),t=Object(b.b)();Object(l.useEffect)((function(){localStorage.getItem("token")&&t(function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),ee(n),e.prev=2,t(ie()),e.next=6,ae(n);case 6:a=e.sent,t(oe(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(se(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(m.a,{children:[Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/auth/login",component:ic}),Object(a.jsx)(Kr,{path:"/home",component:ti}),Object(a.jsx)(Kr,{path:"/clients",component:Ji}),Object(a.jsx)(Kr,{path:"/inventory",component:Oo}),Object(a.jsx)(Kr,{path:"/admin",component:Ao}),Object(a.jsx)(p.a,{from:"/",to:"/home/dashboard"})]}),Object(a.jsx)(Ya,{}),Object(a.jsx)(ho,{})]})})},Po=n(101),Fo=Object(Po.c)({inventoryItems:ra,inventorySales:Da,inventorySearch:Zt,homeSalesStats:dc,modals:I,infoModals:D,auth:pe,drawer:$a,clients:mt,notifications:pr,itemCategories:la});var Lo=Object(S.a)({reducer:Fo});j.a.render(Object(a.jsx)(r.a,{injectFirst:!0,children:Object(a.jsx)(c.a,{theme:U,children:Object(a.jsxs)(o.b,{dateAdapter:s.a,children:[Object(a.jsx)(i.a,{}),Object(a.jsx)(b.a,{store:Lo,children:Object(a.jsx)(Do,{})})]})})}),document.getElementById("root"))}},[[571,1,2]]]);
//# sourceMappingURL=main.b80927d5.chunk.js.map