(this["webpackJsonppetshield-veterinary-clinic-website"]=this["webpackJsonppetshield-veterinary-clinic-website"]||[]).push([[0],{571:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(690),c=n(710),i=n(705),o=n(583),s=n(691),l=n(0),d=n.n(l),u=n(54),j=n.n(u),b=n(16),m=n(82),p=n(52),O=n(641),f=n(11),h=n(9),x=n(632),g=n(638),v=n(639),y=n(640),S=n(47),C=Object(S.b)({name:"modals",initialState:{modalType:null,modalProps:{}},reducers:{showModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideModal:function(e,t){e.modalType="",e.modalProps={}}}}),I=C.reducer,N=C.actions,w=N.showModal,A=N.hideModal,D=Object(S.b)({name:"infoModal",initialState:{modalType:null,modalProps:{}},reducers:{showInfoModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideInfoModal:function(e,t){e.modalType="",e.modalProps={}}}}),k=D.reducer,P=D.actions,T=P.showInfoModal,E=P.hideInfoModal,F=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=e.isInfoModal,i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(b.b)();return Object(a.jsxs)(x.a,{open:s,onClose:function(){d(!t)},TransitionProps:{onExited:function(){u(c?E():A())},onEnter:function(){setTimeout((function(){d(!t)}),r||2e3)}},children:[Object(a.jsx)(g.a,{children:"Error!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},L=n(642),R=Object(O.a)((function(e){return{loadingIndicator:{display:"flex",justifyContent:"center",alignItems:"center,",padding:e.spacing(2)}}})),M=function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=R(),s=Object(b.b)();return Object(a.jsx)(x.a,{open:c,onClose:function(){i(!t)},TransitionProps:{onExited:function(){s(A())}},children:Object(a.jsx)(v.a,{className:o.loadingIndicator,children:Object(a.jsx)(L.a,{color:"secondary"})})})},_=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){d(A())},onEnter:function(){setTimeout((function(){s(!t)}),r||800)}},children:[Object(a.jsx)(g.a,{children:"Success!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},B=n(14),H=n.n(B),z=n(21),V=n(336),W=n.n(V),G={API_BASE_URL:"https://petshield-veterinary-api-prod.herokuapp.com",WS_BASE_URL:"wss://petshield-veterinary-api-prod.herokuapp.com",WS_TIMEOUT:25e3},Y=n(706),q=n(370),U=Object(Y.a)(Object(q.a)({palette:{mode:"dark",primary:{main:"#1e88e5"},secondary:{main:"#26a69a"}},components:{MuiMenu:{styleOverrides:{padding:"1em"}},MuiCard:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiPaper:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiTableCell:{styleOverrides:{root:{textAlign:"center"}}}}}),{disableAlign:!0}),K=240,J=["Deworming","5 in 1","6 in 1","8 in 1","Kennel Cough","ProHeart","4 in 1","Anti-Rabies","Canglob P","Canglob D"],Q=["1 Weeks","2 Weeks","1 Year"],X=["3 Days","7 Days","14 Days","30 Days"],$=["Check-Up","Long Term Medication","Post Surgery","Screening"],Z=W.a.create({baseURL:G.API_BASE_URL,headers:{"Content-Type":"application/json"}}),ee=function(e){e?Z.defaults.headers.common={Authorization:"Bearer ".concat(e)}:delete Z.defaults.headers.common.Authorization},te=Z,ne=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/auth/login",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/users/token");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=Object(S.b)({name:"auth",initialState:{user:{},token:null,isLoading:!1,error:null},reducers:{loginStart:function(e,t){e.isLoading=!0},loginSuccess:function(e,t){e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.authToken,ee(t.payload.authToken),localStorage.setItem("token",t.payload.authToken)},loginFailure:function(e,t){e.isLoading=!1,e.error=t.payload},logoutStart:function(e,t){e.isLoading=!0},logoutSuccess:function(e,t){e.user={},e.token=null,e.isLoading=!1},logoutFailure:function(e,t){e.isLoading=!1,e.error=t.payload},checkAuthStart:function(e,t){e.isLoading=!0},checkAuthSuccess:function(e,t){e.user=t.payload,e.isLoading=!1},checkAuthFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ce=re.actions,ie=ce.checkAuthStart,oe=ce.checkAuthSuccess,se=ce.checkAuthFailure,le=ce.loginStart,de=ce.loginSuccess,ue=ce.loginFailure,je=ce.logoutFailure,be=ce.logoutStart,me=ce.logoutSuccess,pe=re.reducer,Oe=n(643),fe=n(707),he=function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.handleNegativePressed,i=e.handlePositivePressed,o=Object(l.useState)(t),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(b.b)();return Object(a.jsxs)(x.a,{open:d,onClose:function(){u(!t)},TransitionProps:{onExited:function(){j(A())}},children:[Object(a.jsx)(g.a,{children:n}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:r})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"text",onClick:c,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"text",onClick:i,children:"Confirm"})]})]})},xe=n(337),ge=Object(xe.a)(),ve=function(e){var t=e.isVisible,n=e.title,r=e.message,c=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){c(A())},handlePositivePressed:function(){c(function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();try{t(be()),t(me())}catch(n){t(je(n))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ge.replace("/auth/login"),c(A())}})},ye=Object(O.a)((function(e){return{root:{},header:{display:"grid",gridTemplate:" 1fr / 1fr 1fr 1fr 1fr 1fr",placeItems:"center",fontWeight:"bold"},content:{display:"flex",flexDirection:"column",gap:"1em"},item:{display:"grid",gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr"},column:{textAlign:"center"}}})),Se=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:"1em"},header:{display:"grid",gridTemplate:" 1fr / 1fr 1fr 1fr 1fr 1fr",placeItems:"center",fontWeight:"bold",fontSize:"0.9rem"},headerTitle:{fontSize:"1.3rem",fontWeight:"bold",textAlign:"center"},footer:{display:"flex",justifyContent:"flex-end",gap:"1em"},content:{display:"flex",flexDirection:"column",gap:"1em"},item:{display:"grid",gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr"},column:{textAlign:"center"}}})),Ce=n(134),Ie=n(35),Ne=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(n),t);case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.patch("/clients/".concat(t.ID),t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(t,"/payments/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),De=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/clients/".concat(t,"/payments"));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,e.next=3,te.get("/clients/".concat(n,"/appointments"));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appointmentId,a=t.branchName,e.next=3,te.delete("/clients/".concat(a,"/appointments/").concat(n));case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,a=t.appointment,e.next=3,te.post("/clients/".concat(n,"/appointments"),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,a=t.appointment,e.next=3,te.patch("/clients/".concat(n,"/appointments/").concat(a.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e,t){e.error=t.payload},Le=Object(S.b)({name:"clientsSlice",initialState:{clients:{},paymentHistory:[],appointments:[],clientAppointments:[],clientPayments:{},isClientsLoading:!1,isPaymentsLoading:!1,isAppointmentsLoading:!1,isClientSearchingLoading:!1,error:null},reducers:{fetchClientsStart:function(e){e.isClientsLoading=!0},fetchClientsSuccess:function(e,t){e.isClientsLoading=!1;var n={};t.payload.forEach((function(e){n[e.ID]=e})),e.clients=n},fetchClientsError:Fe,addClientStart:function(e){e.isClientsLoading=!0},addClientSuccess:function(e){e.isClientsLoading=!1,e.error=null},addClientError:Fe,updateClientStart:function(e){e.error=null},updateClientSuccess:function(e,t){e.clients[t.payload.ID]=t.payload,e.error=null},updateClientsError:Fe,addClientPaymentStart:function(){},addClientPaymentSuccess:function(e,t){e.paymentHistory=[t.payload].concat(Object(Ie.a)(e.paymentHistory)),e.error=!1},addClientPaymentError:Fe,fetchClientPaymentHistoryStart:function(e){e.isPaymentsLoading=!0},fetchClientPaymentHistorySuccess:function(e,t){e.isPaymentsLoading=!1,e.paymentHistory=t.payload,e.error=!1},fetchClientPaymentHistoryError:Fe,fetchAllClientPaymentsStart:function(e){e.isPaymentsLoading=!0},fetchAllClientPaymentsSuccess:function(e,t){e.isPaymentsLoading=!1,e.clientPayments=t.payload,e.error=null},fetchAllClientPaymentsError:Fe,addAppointmentStart:function(e){e.error=null},addAppointmentSuccess:function(e,t){},addAppointmentError:Fe,updateAppointmentStart:function(e){},updateAppointmentSuccess:function(e,t){e.appointments=Object(Ie.a)(t.payload),e.error=null},updateAppointmentError:Fe,removeAppointmentStart:function(){},removeAppointmentSuccess:function(e,t){e.appointments=t.payload},removeAppointmentError:Fe,fetchAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.appointments=t.payload,e.error=null},fetchAppointmentsError:Fe,fetchClientAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchClientAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.clientAppointments=t.payload,e.error=null},fetchClientAppointmentsError:Fe}}),Re=Le.actions,Me=Re.fetchClientsSuccess,_e=Re.fetchClientsError,Be=Re.fetchClientsStart,He=Re.addClientStart,ze=Re.addClientError,Ve=Re.addClientSuccess,We=Re.updateClientStart,Ge=Re.updateClientSuccess,Ye=Re.updateClientError,qe=Re.addClientPaymentStart,Ue=Re.addClientPaymentSuccess,Ke=Re.addClientPaymentError,Je=Re.fetchClientPaymentHistoryStart,Qe=Re.fetchClientPaymentHistorySuccess,Xe=Re.fetchClientPaymentHistoryError,$e=Re.fetchAllClientPaymentsStart,Ze=Re.fetchAllClientPaymentsSuccess,et=Re.fetchAllClientPaymentsError,tt=Re.addAppointmentStart,nt=Re.addAppointmentSuccess,at=Re.addAppointmentError,rt=Re.fetchAppointmentsError,ct=Re.fetchAppointmentsStart,it=Re.fetchAppointmentsSuccess,ot=Re.fetchClientAppointmentsError,st=Re.fetchClientAppointmentsStart,lt=Re.fetchClientAppointmentsSuccess,dt=Re.updateAppointmentError,ut=Re.updateAppointmentStart,jt=Re.updateAppointmentSuccess,bt=Re.removeAppointmentError,mt=Re.removeAppointmentSuccess,pt=Re.removeAppointmentStart,Ot=Le.reducer,ft=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Be()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Me(n.data))}}catch(c){t(_e(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ht=function(e,t,n){return function(){var a=Object(z.a)(H.a.mark((function a(r,c){var i,o;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=c().clients.clientPayments.metadata,a.prev=1,r(qe()),r(T({modalType:"LOADING_MODAL",modalProps:{}})),a.next=6,Ae(e,t,n,i.salesDate,i.salesDateCateg);case 6:o=a.sent,r(E()),r(Ue(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r(Ke(a.t0.message));case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()},xt=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a($e()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(c.branchName,"/all-payments?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(Ze(t.data))}}catch(o){a(et(o.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},gt=n(49),vt=n(644),yt=n(647),St=n(338),Ct=n(263),It=function(e){var t=e.classes,n=e.onSubmit,r=Object(gt.b)(),c=r.handleSubmit,i=r.register,o=r.errors;return Object(a.jsxs)("form",{className:t.form,id:"addClientForm",onSubmit:c(n),children:[Object(a.jsx)(vt.a,{className:t.field,variant:"outlined",label:"Full Name",name:"clientName",inputRef:i({required:!0}),error:!!o.clientName}),Object(a.jsx)(vt.a,{className:t.field,variant:"outlined",label:"Address",name:"address",inputRef:i({required:!0}),error:!!o.address}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(vt.a,{className:t.field,variant:"outlined",label:"Email",name:"email",type:"email",InputProps:{startAdornment:Object(a.jsx)(yt.a,{position:"start",children:Object(a.jsx)(Ct.a,{})})},inputRef:i({})}),Object(a.jsx)(vt.a,{className:t.field,variant:"outlined",label:"Contact Number",name:"contactNumber",InputProps:{startAdornment:Object(a.jsx)(yt.a,{position:"start",children:Object(a.jsx)(St.a,{})})},inputRef:i({pattern:/((^(\+)(\d){12}$)|(^\d{11}$))/}),error:!!o.contactNumber})]}),Object(a.jsx)("br",{}),Object(a.jsx)(vt.a,{className:t.field,variant:"outlined",label:"Pet Name",name:"petName",InputProps:{startAdornment:Object(a.jsx)(yt.a,{position:"start",children:Object(a.jsx)(Ct.b,{})})},inputRef:i({required:!0}),error:!!o.petName}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(vt.a,{className:t.field,variant:"outlined",label:"Pet Species",name:"petSpecies",inputRef:i({required:!0}),error:!!o.petSpecies}),Object(a.jsx)(vt.a,{className:t.field,variant:"outlined",label:"Pet Breed",name:"petBreed",inputRef:i({required:!0}),error:!!o.petBreed})]})]})},Nt=Object(O.a)((function(e){return{root:{},form:{display:"flex",flexDirection:"column"},field:{marginBottom:e.spacing(2)},fieldGroup:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(2)}}})),wt=n(15),At=n(67),Dt=n(652),kt=n(653),Pt=n(654),Tt=n(651),Et=n(648),Ft=n(655),Lt=n(699),Rt=n(107),Mt=n.n(Rt),_t=n(108),Bt=n.n(_t),Ht=n(656),zt=n(226),Vt=n(106),Wt=n.n(Vt),Gt=Object(O.a)((function(e){return{root:Object(wt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Yt=function(e){var t=e.toggleAddItemSaleRow,n=Gt();return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Wt.a,{}),onClick:function(){t(!0)},children:"Add Transaction"})})]})},qt=n(698),Ut=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/items/search/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive)}),e.next=3,te.post("/items/".concat(n),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentiveAmount:Number(t.incentiveAmount),incentiveRate:Number(t.incentiveRate),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/items/item/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$t=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/item-sales/".concat(t,"/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r){var c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/item-sales/".concat(t,"/").concat(n,"?salesDate=").concat(a,"&salesDateCateg=").concat(r));case 2:if(!(c=e.sent).data.data){e.next=7;break}return e.abrupt("return",c.data.data);case 7:throw Error(c.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),en=Object(S.b)({name:"inventorySearchResultSlice",initialState:{isLoading:!1,result:[],error:null},reducers:{searchItemsStart:function(e){e.isLoading=!0},searchItemsSuccess:function(e,t){e.isLoading=!1,e.result=t.payload,e.error=null},searchItemsFailure:function(e,t){e.isLoading=!1,e.error=t.payload},clearItemsSearch:function(e,t){e.result=[],e.isLoading=!1,e.error=null}}}),tn=en.reducer,nn=en.actions,an=nn.searchItemsFailure,rn=nn.searchItemsStart,cn=nn.searchItemsSuccess,on=nn.clearItemsSearch,sn=function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(rn()),t.next=5,Ut(e,r.branchName);case 5:c=t.sent,n(cn(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(an(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()},ln=n(649),dn=n(650),un=n(152),jn=n(13),bn=n.n(jn),mn=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),pn=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.client,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=bn()(Date.now()).format("MM-DD-YYYY"),O=Object(b.c)((function(e){return e.inventorySearch})),x=O.result,g=O.isLoading,v=mn(),y=Object(b.b)();if(!t)return null;var S=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},C=function(){s({}),m(1)},I=function(){y(ht(r.ID,o.ID,j)),C(),y(on()),n(!1)},N=function(){C(),y(on()),n(!1)},w=Object(un.debounce)((function(e){y(""===e?on():sn(e))}),800),A=function(e){w(e.target.value)};return Object(a.jsxs)(Tt.a,{className:v.root,children:[Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:p})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(qt.a,{loading:g,options:x.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:A,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[g?Object(a.jsx)(L.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Et.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(Et.a,{className:v.quantityCell,children:Object(a.jsx)(vt.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:S,fullWidth:!0})}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:o.salesCategory})}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)("div",{className:v.buttonRows,children:[Object(a.jsx)(fe.a,{className:v.submitButton,variant:"outlined",onClick:I,children:Object(a.jsx)(ln.a,{})}),Object(a.jsx)(fe.a,{className:v.cancelButton,variant:"outlined",onClick:N,children:Object(a.jsx)(dn.a,{})})]})})]})}()]})},On=Object(O.a)((function(e){return{root:Object(wt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:zt.a[400],border:"2px solid red",borderColor:zt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),fn=function(e){var t=e.data,n=e.columns,r=e.client,c=On(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(At.useTable)({data:t,columns:n},At.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,A=S.rows,D=function(e){return Object(a.jsx)(Ce.a,{children:e.render("Cell")})};return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(Yt,{toggleAddItemSaleRow:y}),Object(a.jsx)(Dt.a,{children:Object(a.jsxs)(kt.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Pt.a,{children:I.map((function(e){return Object(a.jsxs)(Tt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Et.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Mt.a,{fontSize:"small"}):Object(a.jsx)(Bt.a,{fontSize:"small"}):null]})}))})),Object(a.jsx)(Et.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:c.container,children:[Object(a.jsx)(pn,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,client:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Tt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Et.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:D(e)}))},"col".concat(t))})),Object(a.jsx)(Et.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Ht.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},hn=function(e){var t=e.paymentHistory,n=e.client,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:bn()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),client:n};return Object(a.jsx)(fn,Object(f.a)({},r))},xn=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}})),gn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"400px",alignItems:"center",padding:e.spacing(2)}}})),vn=n(661),yn=n(700),Sn=n(91),Cn=n(578),In=n(587),Nn=n(585),wn=n(657),An=n(580),Dn=n(694),kn=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),Pn=function(e){var t=e.onSubmit,n=e.startDate,r=e.isVaccine,c=e.clientIndex,i=kn(),o=Object(b.c)((function(e){return e.clients})),s=o.clients,d=o.isClientsLoading,u=c?Object(f.a)(Object(f.a)({},s[c]),{},{clientName:"".concat(s[c].clientName," - ").concat(s[c].pet.petName)}):null,j=Object(l.useMemo)((function(){return Object.keys(s).map((function(e){var t=s[e],n="".concat(t.clientName," - ").concat(t.pet.petName);return Object(f.a)(Object(f.a)({},t),{},{clientName:n})}))}),[s]),m=Object(gt.b)(),p=m.handleSubmit,O=m.errors,h=m.control;return Object(a.jsxs)("form",{className:i.root,id:"addAppointmentForm",onSubmit:p(t),children:[Object(a.jsx)(gt.a,{name:"client",control:h,defaultValue:c?u:null,rules:{required:!0},render:function(e){var t=e.onChange,n=Object(Sn.a)(e,["onChange"]);return Object(a.jsx)(qt.a,Object(f.a)({size:"small",options:j,loading:d,getOptionLabel:function(e){return e.clientName},getOptionSelected:function(e,t){return e.clientName===t.clientName},renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Client Name",fullWidth:!0,error:!!O.client,helperText:O.client?"Enter a client":""}))},onChange:function(e,n){t(n)}},n))}}),Object(a.jsx)(gt.a,{id:"appointment-date",name:"date",control:h,defaultValue:bn()(n).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(Dn.a,Object(f.a)({allowSameDateSelection:!0,renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date"}))}},e))}}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(gt.a,{name:"type",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(Sn.a)(e,["onChange"]);return Object(a.jsxs)(Cn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(In.a,{id:"appointment-type",children:"".concat(r?"Vaccine":"Follow Up"," Type")}),Object(a.jsx)(Nn.a,Object(f.a)(Object(f.a)({labelId:"appointment-type",onChange:function(e){return t(e.target.value)}},n),{},{children:r?J.map((function(e){return Object(a.jsx)(wn.a,{value:e,children:e},e)})):$.map((function(e){return Object(a.jsx)(wn.a,{value:e,children:e},e)}))})),Object(a.jsx)(An.a,{error:!!O.type,children:O.type?"Please enter a type":""})]})}}),Object(a.jsx)(gt.a,{name:"reoccurance",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(Sn.a)(e,["onChange"]);return Object(a.jsxs)(Cn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(In.a,{id:"appointment-reoccurance",children:"Next Visit"}),Object(a.jsx)(Nn.a,Object(f.a)(Object(f.a)({labelId:"appointment-reoccurance",onChange:function(e){return t(e.target.value)}},n),{},{children:r?Q.map((function(e){return Object(a.jsx)(wn.a,{value:e,children:e},e)})):X.map((function(e){return Object(a.jsx)(wn.a,{value:e,children:e},e)}))})),Object(a.jsx)(An.a,{error:!!O.reoccurance,children:O.reoccurance?"Please enter a type":""})]})}})]}),Object(a.jsx)(gt.a,{name:"veterinarianNotes",control:h,defaultValue:"",rules:{},render:function(e){return Object(a.jsx)(vt.a,Object(f.a)({label:"Notes",multiline:!0,size:"small",rows:5},e))}})]})},Tn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"100%",alignItems:"flex-start",padding:e.spacing(2),flexDirection:"column"}}})),En=n(369),Fn=n(339),Ln=n(692),Rn=n(184),Mn=n.n(Rn),_n=n(30),Bn=n.n(_n),Hn=Object(O.a)((function(e){return{root:{},loadingIndicator:{width:"300px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center,"},hasAppointment:{backgroundColor:"".concat(e.palette.primary.main," !important"),color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}},selected:{backgroundColor:"#424242 !important",color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}}}})),zn=function(e){var t,n=e.date,r=e.classes,c=(e._selectedDates,e.selectedDate),i=e.PickersDayComponentProps,o=e.appointments,s=Mn()(n).tz("Asia/Manila"),l=void 0!==o.find((function(e){return Mn()(e.date).tz("Asia/Manila").isSame(s,"date")})),d=Mn()(c).isSame(n,"date");return Object(a.jsx)(Fn.a,Object(f.a)({className:Bn()((t={},Object(wt.a)(t,r.hasAppointment,l),Object(wt.a)(t,r.selected,d),t))},i))},Vn=function(e,t){e.isLoading=!1,e.error=t.payload},Wn=Object(S.b)({name:"inventoryItems",initialState:{items:[],itemSales:[],isLoading:!1,error:null},reducers:{fetchItemsStart:function(e){e.isLoading=!0},fetchItemsSuccess:function(e,t){e.isLoading=!1,e.items=t.payload,e.error=null},fetchItemsFailure:Vn,addItemStart:function(e,t){},addItemSuccess:function(e,t){},addItemFailure:Vn,modifyItemStart:function(){},modifyItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},modifyItemFailure:Vn,discountItemStart:function(){},discountItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},discountItemFailure:Vn,deleteItemStart:function(){},deleteItemSuccess:function(e,t){e.items=e.items.filter((function(e){return e.ID!==t.payload}))},deleteItemFailure:Vn}}),Gn=Wn.actions,Yn=Gn.fetchItemsStart,qn=Gn.fetchItemsSuccess,Un=Gn.fetchItemsFailure,Kn=Gn.addItemStart,Jn=Gn.addItemSuccess,Qn=Gn.addItemFailure,Xn=Gn.modifyItemStart,$n=Gn.modifyItemSuccess,Zn=Gn.modifyItemFailure,ea=Gn.discountItemStart,ta=Gn.discountItemFailure,na=Gn.discountItemSuccess,aa=Gn.deleteItemStart,ra=Gn.deleteItemSuccess,ca=Gn.deleteItemFailure,ia=Wn.reducer,oa=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/admin/item-categories");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sa=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/admin/item-categories",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),la=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/admin/item-categories/".concat(t));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),da=Object(S.b)({name:"itemCategorySlice",initialState:{categories:[],isLoading:!1,error:null},reducers:{fetchItemCategoriesStart:function(e){e.isLoading=!0,e.error=null},fetchItemCategoriesSuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},fetchItemCategoriesFailure:function(e){e.isLoading=!1,e.error=null},addItemCategoryStart:function(e){e.error=null},addItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},addItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload},deleteItemCategoryStart:function(e){e.error=null},deleteItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},deleteItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ua=da.reducer,ja=da.actions,ba=ja.fetchItemCategoriesFailure,ma=ja.fetchItemCategoriesStart,pa=ja.fetchItemCategoriesSuccess,Oa=ja.addItemCategoryFailure,fa=ja.addItemCategoryStart,ha=ja.addItemCategorySuccess,xa=ja.deleteItemCategoryFailure,ga=ja.deleteItemCategoryStart,va=ja.deleteItemCategorySuccess,ya=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ma()),e.next=4,oa();case 4:n=e.sent,t(pa(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(ba(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Sa=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),Ca=function(e){var t=e.onSubmit,n=e.classes,r=e.isIncentiveFixed,c=e.setIncentiveFixed,i=e.dispatch,o=Object(b.c)((function(e){return e.itemCategories})),s=o.isLoading,l=o.categories,d=Object(gt.b)({defaultValues:{remarks:"",category:"Store Sales",incentiveRate:0,incentiveAmount:0}}),u=d.register,j=d.handleSubmit,m=d.errors,p=d.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"addItemForm",onSubmit:j(t),children:[Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:u({required:!0}),error:!!m.name}),Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:u({required:!0,min:0}),error:!!m.inStock}),Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(Ce.a,{children:"\u20b1"})},inputRef:u({required:!0,min:0}),error:!!m.price}),Object(a.jsx)(gt.a,{control:p,name:"category",as:Object(a.jsxs)(Nn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){i(ya())},endAdornment:s?Object(a.jsx)(yt.a,{children:Object(a.jsx)(L.a,{})}):null,children:[Object(a.jsx)(wn.a,{value:""}),l.map((function(e){return Object(a.jsx)(wn.a,{value:e.name,children:e.name},e.ID)}))]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(vn.a,{className:n.addItemFormField,control:Object(a.jsx)(yn.a,{checked:r,onChange:function(){c(!r)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(vt.a,{disabled:r,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(Ce.a,{children:"%"})},inputRef:u({required:!0,max:100,min:0}),error:!!m.incentiveRate}),Object(a.jsx)(vt.a,{disabled:!r,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:u({required:!0,min:0}),error:!!m.incentiveAmount})]})]}),Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:u})]})},Ia=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1em"},deleteBtn:{borderColor:"red",color:"red"}}})),Na=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),wa=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=e.isIncentiveFixed,i=e.setIncentiveFixed,o=e.dispatch,s=Object(b.c)((function(e){return e.itemCategories})),l=s.isLoading,d=s.categories,u=Object(gt.b)({defaultValues:{remarks:null!==r.remarks?r.remarks:"",category:null!==r.category?r.category:"",price:null!==r.price?r.price:0,name:null!==r.name?r.name:"",incentiveRate:null!==r.incentiveRate?r.incentiveRate:0,incentiveAmount:null!==r.incentiveAmount?r.incentiveAmount:0,inStock:null!==r.inStock?r.inStock:0}}),j=u.register,m=u.handleSubmit,p=u.errors,O=u.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"modifyItemForm",onSubmit:m(t),children:[Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:j({required:!0}),error:!!p.name}),Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",type:"number",inputRef:j({required:!0,min:0}),error:!!p.inStock,helperText:p.inStock?"Invalid Value":""}),Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(Ce.a,{children:"\u20b1"})},inputRef:j({required:!0,min:0}),error:!!p.price}),Object(a.jsx)(gt.a,{control:O,name:"category",as:Object(a.jsx)(Nn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){o(ya())},endAdornment:l?Object(a.jsx)(yt.a,{children:Object(a.jsx)(L.a,{})}):null,children:d.map((function(e){return Object(a.jsx)(wn.a,{value:e.name,children:e.name},e.ID)}))})}),Object(a.jsx)(vn.a,{className:n.addItemFormField,control:Object(a.jsx)(yn.a,{checked:c,onChange:function(){i(!c)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(vt.a,{disabled:c,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(Ce.a,{children:"%"})},inputRef:j({required:!0,max:100,min:0}),error:!!p.incentiveRate}),Object(a.jsx)(vt.a,{disabled:!c,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:j({required:!0,min:0}),error:!!p.incentiveAmount})]}),Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:j})]})},Aa=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em"}}})),Da=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=Object(gt.b)({defaultValues:{discount:null!==r.discount?r.discount:0}}),i=c.register,o=c.handleSubmit,s=c.errors;return Object(a.jsx)("form",{noValidate:!0,className:n.addItemForm,id:"discountItemForm",onSubmit:o(t),children:Object(a.jsx)(vt.a,{className:n.addItemFormField,variant:"outlined",label:"Discount Amount",name:"discount",size:"small",type:"number",helperText:s.discount?"Please input a value between 0.01 and 100":"",InputProps:{endAdornment:Object(a.jsx)(Ce.a,{children:Object(a.jsx)("strong",{children:"%"})})},inputRef:i({required:!0,min:0,max:100}),autoFocus:!0,error:!!s.discount})})},ka=function(e,t){e.isLoading=!1,e.error=t.payload},Pa=Object(S.b)({name:"inventorySales",initialState:{isLoading:!1,itemSales:[],dailySales:0,metadata:{salesDateCateg:"daily"},error:null},reducers:{fetchItemSalesStart:function(e){e.isLoading=!0},fetchItemSalesSuccess:function(e,t){e.isLoading=!1,e.itemSales=t.payload.itemSales,e.dailySales=t.payload.dailySales,e.metadata=t.payload.metadata,e.error=null},fetchItemSalesError:ka,addItemSaleStart:function(){},addItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},addItemSaleFailure:ka,deleteItemSaleStart:function(){},deleteItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},deleteItemSaleFailure:ka}}),Ta=Pa.reducer,Ea=Pa.actions,Fa=Ea.fetchItemSalesError,La=Ea.fetchItemSalesStart,Ra=Ea.fetchItemSalesSuccess,Ma=Ea.addItemSaleFailure,_a=Ea.addItemSaleStart,Ba=Ea.addItemSaleSuccess,Ha=Ea.deleteItemSaleFailure,za=Ea.deleteItemSaleStart,Va=Ea.deleteItemSaleSuccess,Wa=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(La()),new WebSocket("".concat(G.WS_BASE_URL,"/item-sales/").concat(c.branchName,"?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(Ra(t.data))}}catch(o){a(Fa(o))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ga=function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i,o;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r().auth.user,i=r().inventorySales.metadata,a(_a()),a(A()),a(w({modalType:"LOADING_MODAL"})),n.next=8,$t(c.branchName,e,t,i.salesDate,i.salesDateCateg);case 8:o=n.sent,a(Ba(o)),a(A()),a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction Complete!",duration:3e3}})),a(on()),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),a(Ma(n.t0)),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}}));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},Ya={ADD_ITEM_MODAL:function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=Object(l.useState)(!1),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Sa(),m=Object(b.b)(),p=function(){i(!t)};return Object(a.jsxs)(x.a,{open:c,onClose:p,TransitionProps:{onExited:function(){m(A())}},children:[Object(a.jsx)(g.a,{children:"Add Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Ca,{onSubmit:function(e){var n,a=Object(f.a)({},e);a.isIncentiveFixed=d,d?a.incentiveRate=0:a.incentiveAmount=0,m((n=a,function(){var e=Object(z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,t(Kn()),t(w({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Kt(n,r.branchName);case 6:t(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Added!",duration:3e3}})),t(Jn()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),t(Qn(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}())),i(!t)},dispatch:m,classes:j,isIncentiveFixed:d,setIncentiveFixed:u})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:p,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addItemForm",type:"submit",children:"Add Item"})]})]})},ADD_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemDetails,i=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){i(Ga(c.itemId,c.quantity))}})},DELETE_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemIndex,i=Object(b.b)(),o=Object(b.c)((function(e){return e.inventorySales})).itemSales;return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){var e;i((e=o[c].ID,function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c,i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().auth.user,c=a().inventorySales.metadata,n(za()),n(A()),n(w({modalType:"LOADING_MODAL"})),t.next=8,Zt(r.branchName,e,c.salesDate,c.salesDateCateg);case 8:i=t.sent,n(Va(i)),n(A()),n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction deleted successfully!",duration:3e3}})),n(on()),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),n(Ha(t.t0)),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}}));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()))}})},MANAGE_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Ia(),u=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){u(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Manage Item"}),Object(a.jsxs)(v.a,{className:d.content,children:[Object(a.jsx)(fe.a,{fullWidth:!0,variant:"contained",onClick:function(){s(!t),u(w({modalType:"MODIFY_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Modify Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{fullWidth:!0,variant:"outlined",onClick:function(){s(!t),u(w({modalType:"DISCOUNT_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Discount Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{className:d.deleteBtn,fullWidth:!0,variant:"outlined",onClick:function(e){s(!t),u(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(aa()),n(w({modalType:"LOADING_MODAL",modalProps:{}})),t.next=6,Qt(e,r.branchName);case 6:n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Deleted!",duration:3e3}})),n(ra(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}})),n(ca());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(n.ID))},children:"Delete Item"})]})]})},MODIFY_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(n.isIncentiveFixed),u=Object(h.a)(d,2),j=u[0],m=u[1],p=Na(),O=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){O(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Modify Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(wa,{dispatch:O,onSubmit:function(e){var a=Object(f.a)(Object(f.a)({},n),e);a.isIncentiveFixed=j,j?a.incentiveRate=0:a.incentiveAmount=0,O(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(Xn()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,Jt(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Modified!",duration:3e3}})),a($n({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(Zn());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,r)),s(!t)},classes:p,itemDetails:n,isIncentiveFixed:j,setIncentiveFixed:m})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"modifyItemForm",type:"submit",children:"Modify Item"})]})]})},DISCOUNT_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Aa(),u=Object(b.b)(),j=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:j,TransitionProps:{onExited:function(){u(A())}},children:[Object(a.jsx)(g.a,{children:"Discount Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Da,{onSubmit:function(e){var a=e.discount;s(!t),u(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(ea()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,Xt(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Discounted!",duration:3e3}})),a(na({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(ta());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(Object(f.a)(Object(f.a)({},n),{},{discount:a}),r))},classes:d,itemDetails:n})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:j,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"discountItemForm",type:"submit",children:"Discount Item"})]})]})},LOADING_MODAL:M,ERROR_MODAL:F,SUCCESS_MODAL:_,LOGOUT_MODAL:ve,ADD_CLIENT_MODAL:function(e){var t=e.isVisible,n=Nt(),r=Object(l.useState)(t),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.b)(),d=function(){o(!t)};return Object(a.jsxs)(x.a,{open:i,onClose:d,TransitionProps:{onExited:function(){s(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(Ce.a,{align:"center",variant:"h5",children:"Add Client"})}),Object(a.jsx)(v.a,{children:Object(a.jsx)(It,{classes:n,onSubmit:function(e){var t,n=Object(f.a)(Object(f.a)({},e),{},{pet:{petName:e.petName,species:e.petSpecies,petBreed:e.petBreed}});s((t=n,function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(He()),n(T({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Ne(t,r.branchName);case 6:c=e.sent,n(Ve(c)),n(E()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(ze(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}())),s(A())}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:d,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addClientForm",type:"submit",children:"Submit"})]})]})},ADD_APPOINTMENT_MODAL:function(e){var t=e.isVisible,n=e.startDate,r=e.clientIndex,c=Tn(),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(!0),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)();Object(l.useEffect)((function(){r||O(ft())}),[O,r]);var y=function(){d(!t)};return Object(a.jsxs)(x.a,{open:s,onClose:y,TransitionProps:{onExited:function(){O(A())}},className:c.root,fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Schedule Appointment"}),Object(a.jsxs)(v.a,{className:c.content,children:[Object(a.jsx)(vn.a,{label:"For Vaccine",control:Object(a.jsx)(yn.a,{checked:m,onChange:function(e){return p(e.target.checked)}})}),Object(a.jsx)(Pn,{onSubmit:function(e){var n=bn()(e.date).toISOString();O(function(e){var t=e.clientId,n=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(tt()),a(T({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,Te({clientId:t,appointment:n});case 5:r=e.sent,a(E()),a(nt(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a(at(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:e.client.ID,appointment:Object(f.a)(Object(f.a)({},e),{},{date:n})})),d(!t)},startDate:n,isVaccine:m,clientIndex:r})]}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addAppointmentForm",variant:"outlined",children:"Submit"})]})]})},CLIENT_TRANSACTIONS_MODAL:function(e){var t=e.isVisible,n=e.index,r=xn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})),u=d.clients,j=d.paymentHistory,m=d.isPaymentsLoading,p=u[n],O=Object(b.b)();Object(l.useEffect)((function(){var e;O((e=p.ID,function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Je()),t.next=4,De(e);case 4:a=t.sent,n(Qe(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Xe(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[O,p]);var f=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:f,TransitionProps:{onExited:function(){O(A())}},fullScreen:!0,children:[Object(a.jsx)(g.a,{children:"Payment History"}),Object(a.jsx)(v.a,{className:r.content,children:m?Object(a.jsx)(L.a,{}):Object(a.jsx)(hn,{paymentHistory:j,client:p})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"outlined",onClick:f,children:"DONE"})})]})},CLIENT_APPOINTMENTS_MODAL:function(e){var t=e.isVisible,n=e.clientIndex,r=Hn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),s=i[0],d=i[1],u=Object(l.useState)(new Date),j=Object(h.a)(u,2),m=j[0],O=j[1],f=Object(p.g)(),y=Object(b.c)((function(e){return e.clients})),S=y.isAppointmentsLoading,C=y.clientAppointments,I=y.clients[n],N=Object(b.b)(),w=function(){d(!t)},D=function(e){O(e);var n=C.find((function(t){return Mn()(t.date).isSame(e,"date")}));n&&(d(!t),f.push("/clients/appointments",{appointment:n}))};Object(l.useEffect)((function(){N(function(e){var t=e.clientId;return function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(st()),e.next=4,ke({clientId:t});case 4:a=e.sent,n(lt(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(ot(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:I.ID}))}),[N,I]);return Object(a.jsxs)(x.a,{open:s,onClose:w,TransitionProps:{onExited:function(){N(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"Appointments"}),Object(a.jsx)(v.a,{children:S?Object(a.jsx)("div",{className:r.loadingIndicator,children:Object(a.jsx)(L.a,{})}):Object(a.jsx)(o.b,{dateAdapter:Ln.a,children:Object(a.jsx)(En.a,{date:m,onChange:D,disableHighlightToday:!0,allowSameDateSelection:!0,renderDay:function(e,t,n){return Object(a.jsx)(zn,{classes:r,date:e,selectedDate:m,_selectedDates:t,PickersDayComponentProps:n,appointments:C})},allowKeyboardControl:!1})})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{onClick:w,children:"DONE"})})]})},CLIENT_VETERINARIAN_NOTE_MODAL:function(e){var t=e.isVisible,n=e.index,r=gn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})).clients,u=Object(l.useMemo)((function(){return d[n]}),[n,d]),j=Object(l.useState)(u.veterinarianNote?u.veterinarianNote:""),m=Object(h.a)(j,2),p=m[0],O=m[1],v=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){v(A())}},className:r.root,children:[Object(a.jsx)(g.a,{children:"Add Veterinarian Note"}),Object(a.jsx)("div",{className:r.content,children:Object(a.jsx)(vt.a,{fullWidth:!0,label:"Note",multiline:!0,rows:10,value:p,onChange:function(e){return O(e.target.value)}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){var e=Object(f.a)(Object(f.a)({},u),{},{veterinarianNote:p});v(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(We()),n(T({modalType:"LOADING_MODAL",modalProps:{}})),t.next=5,we(e);case 5:a=t.sent,n(Ge(a)),n(E()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(Ye(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e)),s(!t)},children:"Submit"})]})]})},SALES_BREAKDOWN_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.dailySales,c=(e.duration,ye()),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)({}),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)(),y=function(){d(!t)},S=Object(l.useCallback)((function(){var e={};console.log(r),r.items.forEach((function(t){var n=e[t.item.name];e[t.item.name]=n?Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:n.netSales+t.netSales,sales:n.sales+t.sales,incentives:n.incentives+t.incentives,count:n.count+1}):Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:t.netSales,sales:t.sales,incentives:t.incentives,count:1})})),p(e)}),[r]);Object(l.useEffect)((function(){S()}),[S]);return Object(a.jsxs)(x.a,{open:s,onClose:y,fullWidth:!0,TransitionProps:{onExited:function(){O(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"".concat(n," Breakdown")}),Object(a.jsxs)(v.a,{className:c.root,children:[Object(a.jsxs)("div",{className:c.header,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:"Quantity"}),Object(a.jsx)("div",{children:"Incentives"}),Object(a.jsx)("div",{children:"Sales"}),Object(a.jsx)("div",{children:"Net Sales"})]}),Object(a.jsx)("div",{className:c.content,children:m?Object.keys(m).map((function(e){var t=m[e];return Object(a.jsxs)("div",{className:c.item,children:[Object(a.jsx)("div",{children:e}),Object(a.jsx)("div",{className:c.column,children:t.count}),Object(a.jsxs)("div",{className:c.column,children:["P",t.incentives]}),Object(a.jsxs)("div",{className:c.column,children:["P",t.sales]}),Object(a.jsxs)("div",{className:c.column,children:["P",t.netSales]})]},e)})):null})]}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"text",onClick:y,children:"Done"})})]})},NET_SALES_BREAKDOWN_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.dailySales,c=(e.duration,Se()),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)({}),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)(),y=function(){d(!t)},S=Object(l.useCallback)((function(){var e={},t={};Object.keys(r).forEach((function(n){r[n].items.forEach((function(t){var n=e[t.item.name];e[t.item.name]=n?Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:n.netSales+t.netSales,sales:n.sales+t.sales,incentives:n.incentives+t.incentives,count:n.count+1}):Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:t.netSales,sales:t.sales,incentives:t.incentives,count:1})})),t[n]={items:e,sales:r[n].netSales,incentives:r[n].incentives}})),p(t)}),[r]);Object(l.useEffect)((function(){S()}),[S]);return Object(a.jsxs)(x.a,{open:s,onClose:y,fullWidth:!0,TransitionProps:{onExited:function(){O(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"".concat(n," Breakdown")}),Object(a.jsx)(v.a,{className:c.root,children:m?Object.keys(m).map((function(e){var t=m[e];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:c.headerTitle,children:e}),Object(a.jsxs)("div",{className:c.header,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:"Quantity"}),Object(a.jsx)("div",{children:"Incentives"}),Object(a.jsx)("div",{children:"Sales"}),Object(a.jsx)("div",{children:"Net Sales"})]}),Object(a.jsx)("div",{className:c.content,children:Object.keys(t.items).map((function(e){var n=t.items[e];return Object(a.jsxs)("div",{className:c.item,children:[Object(a.jsx)("div",{children:e}),Object(a.jsx)("div",{className:c.column,children:n.count}),Object(a.jsxs)("div",{className:c.column,children:["P",n.incentives]}),Object(a.jsxs)("div",{className:c.column,children:["P",n.sales]}),Object(a.jsxs)("div",{className:c.column,children:["P",n.netSales]})]},e)}))}),Object(a.jsxs)("div",{className:c.footer,children:[Object(a.jsxs)("div",{children:["Total Incentives: P",t.incentives]}),Object(a.jsxs)("div",{children:["Total Sales: P",t.sales]})]})]})})):null}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"text",onClick:y,children:"Done"})})]})}},qa=function(){var e=Object(b.c)((function(e){return e.modals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=Ya[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},Ua=n(371),Ka=n(664),Ja=n(658),Qa=n(581),Xa=n(665),$a=n(666),Za=Object(S.b)({name:"drawer",initialState:{isOpen:!1},reducers:{toggleDrawer:function(e){e.isOpen=!e.isOpen}}}),er=Za.reducer,tr=Za.actions.toggleDrawer,nr=n(696),ar=n(663),rr=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,e.next=3,te.delete("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cr=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.notificationId,e.next=3,te.patch("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=Object(S.b)({name:"notificationsSlice",initialState:{isLoading:!1,notifications:[],error:null},reducers:{fetchNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},fetchNotificationsSuccess:function(e,t){var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.isLoading=!1,e.error=null},fetchNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},clearNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},clearNotificationsSuccess:function(e,t){e.notifications={},e.isLoading=!1,e.error=null},clearNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},updateNotificationStart:function(){},updateNotificationSuccess:function(e,t){e.isLoading=!1;var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.error=null},updateNotificationError:function(e,t){e.error=t.payload,e.isLoading=!1}}}),or=ir.actions,sr=or.fetchNotificationsError,lr=or.fetchNotificationsStart,dr=or.fetchNotificationsSuccess,ur=or.updateNotificationError,jr=or.updateNotificationStart,br=or.updateNotificationSuccess,mr=or.clearNotificationsError,pr=or.clearNotificationsStart,Or=or.clearNotificationsSuccess,fr=ir.reducer,hr=n(646),xr=n(582),gr=n(662),vr=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:e.spacing(1)},title:{fontWeight:"bold",fontSize:"1.2rem"},message:{fontSize:"1rem"},seen:{opacity:"50%"},date:{color:"#FFFFFFB3",fontSize:"0.8rem"}}})),yr=function(e){var t=e.notif,n=e.index,r=e.onNotificationPressed,c=vr(),i=Object(l.useState)(t.seen),o=Object(h.a)(i,2),s=o[0],d=o[1],u=JSON.parse(t.payload);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(xr.a,{button:!0,onClick:function(){d(!0),r(t,n)},className:s?Bn()([c.root,c.seen]):c.root,children:[Object(a.jsx)(Ce.a,{className:c.title,children:u.client.clientName}),Object(a.jsx)(Ce.a,{className:c.message,children:t.message}),Object(a.jsx)(Ce.a,{className:c.date,children:bn()(t.CreatedAt).format("MMMM DD, YYYY")})]},t.ID),Object(a.jsx)(gr.a,{})]})},Sr=Object(O.a)((function(e){return{root:{width:"400px",display:"flex",maxHeight:"500px",flexDirection:"column",justifyContent:"center",gap:e.spacing(1)}}})),Cr=function(e){var t=e.notifications,n=e.onNotificationPressed,r=e.onClearNotificationsPressed,c=Sr();return Object(a.jsx)(hr.a,{className:c.root,children:0!==Object.keys(t).length?Object(a.jsxs)(a.Fragment,{children:[Object.keys(t).map((function(e,r){var c=t[e];return Object(a.jsx)(yr,{notif:c,index:r,onNotificationPressed:n})})),Object(a.jsx)(fe.a,{variant:"text",color:"error",onClick:r,startIcon:Object(a.jsx)(Ht.a,{color:"error"}),children:"Clear Notifications"})]}):Object(a.jsx)(Ce.a,{align:"center",children:"No Notifications"})})},Ir=Object(O.a)((function(e){return{loadingIndicator:{width:"400px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"}}})),Nr=function(){var e=Object(b.c)((function(e){return e.notifications})),t=e.notifications,n=e.isLoading,r=Object(l.useState)(null),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(p.g)(),d=Ir(),u=Object(b.b)();Object(l.useEffect)((function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(lr()),new WebSocket("".concat(G.WS_BASE_URL,"/notifications/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(dr(n.data))}}catch(c){t(sr(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[u]);var j=Boolean(i),m=function(e,t){var n=JSON.parse(e.payload);s.push("/clients/appointments",{appointment:n}),u(function(e){var t=e.notificationId;return e.index,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(jr()),e.next=4,cr({notificationId:t});case 4:a=e.sent,n(br(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(ur(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({notificationId:e.ID,index:t})),o(null)},O=function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().auth.user,e.prev=1,t(pr()),e.next=5,rr({branchName:a.branchName});case 5:t(Or()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(mr(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}())};return Object(a.jsxs)("div",{children:[Object(a.jsx)(Qa.a,{onClick:function(e){o(e.currentTarget)},children:Object(a.jsx)(nr.a,{badgeContent:Object.keys(t).map((function(e){return t[e]})).filter((function(e){return!e.seen})).length,children:Object(a.jsx)(ar.a,{})})}),Object(a.jsx)(Ua.a,{anchorEl:i,keepMounted:!0,open:j,onClose:function(){o(null)},children:n?Object(a.jsx)("div",{className:d.loadingIndicator,children:Object(a.jsx)(L.a,{})}):Object(a.jsx)(Cr,{notifications:t,onNotificationPressed:m,onClearNotificationsPressed:O})})]})},wr=Object(O.a)((function(e){var t;return{appBar:(t={},Object(wt.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(K,"px)"),marginLeft:K}),Object(wt.a)(t,"width","100%"),Object(wt.a)(t,"backgroundColor","#272727"),Object(wt.a)(t,"flexGrow",1),t),menuButton:Object(wt.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none "}),grow:{flexGrow:1}}})),Ar={dashboard:"Dashboard","pet-queues":"Pet Queues","all-clients":"All Clients",payments:"Payments",appointments:"Appointments","appointment-form":"Appointment Form","item-categories":"Item Categories",items:"All Items",sales:"All Sales"},Dr=function(){var e=Object(l.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(l.useState)(""),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(p.h)(),u=Boolean(n),j=Object(b.b)(),m=wr();Object(l.useEffect)((function(){var e=d.pathname.split("/"),t=Ar[e[e.length-1]];s(t)}),[d,o,s]);var O=function(){r(null)},f=function(){O(),j(w({modalType:"LOGOUT_MODAL",modalProps:{title:"Logout",message:"Are you sure you want to logout from the session?"}}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ka.a,{position:"fixed",className:m.appBar,children:Object(a.jsxs)(Ja.a,{children:[Object(a.jsx)(Qa.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){j(tr())},className:m.menuButton,children:Object(a.jsx)(Xa.a,{})}),Object(a.jsx)(Ce.a,{children:"Petshield Veterinary Clinic - "+o}),Object(a.jsx)("div",{className:m.grow}),Object(a.jsx)(Nr,{}),Object(a.jsx)(Qa.a,{edge:"end",onClick:function(e){r(e.target)},children:Object(a.jsx)($a.a,{style:{fontSize:"2rem"}})})]})}),Object(a.jsx)(Ua.a,{anchorEl:n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:O,children:Object(a.jsx)(wn.a,{onClick:f,children:"Logout"})})]})},kr=n(669),Pr=n(670),Tr=n(673),Er=n(701),Fr=n(709),Lr=n(667),Rr=n(668),Mr=n(671),_r=n(672),Br=n.p+"static/media/house.7d774967.svg",Hr=n.p+"static/media/all_clients.2a3b6270.svg",zr=n.p+"static/media/all_items.e153111f.svg",Vr=n.p+"static/media/appointments.f3506a0a.svg",Wr=n.p+"static/media/clients.b5a069e7.svg",Gr=n.p+"static/media/dashboard.99dfeff1.svg",Yr=n.p+"static/media/inventory.c084951b.svg",qr=n.p+"static/media/item_transactions.a4256305.svg",Ur=(n.p,n.p+"static/media/payments.8026a3af.svg"),Kr=n(144),Jr=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,drawer:Object(wt.a)({},e.breakpoints.up("sm"),{width:K,flexShrink:0}),drawerPaper:{width:K,backgroundColor:"#343434"},nested:{paddingLeft:"".concat(e.spacing(4))},drawerIcon:{width:"34px",height:"34px",fill:"".concat(e.palette.primary.main," !important")}}})),Qr=function(){var e=Jr(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.drawer})).isOpen,r=Object(l.useState)({home:!1,clients:!1,inventory:!1,admin:!1}),c=Object(h.a)(r,2),i=c[0],o=c[1],s=[{label:"Home",type:"home",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{home:!i.home}))},icon:Br,subItems:[{label:"Dashboard",icon:Gr,path:"/home/dashboard"}]},{label:"Clients",type:"clients",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{clients:!i.clients}))},icon:Wr,subItems:[{label:"All Clients",icon:Hr,path:"/clients/all-clients"},{label:"Payments",icon:Ur,path:"/clients/payments"},{label:"Appointments",icon:Vr,path:"/clients/appointments"}]},{label:"Inventory",type:"inventory",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{inventory:!i.inventory}))},icon:Yr,subItems:[{label:"All Items",icon:zr,path:"/inventory/items"},{label:"Item Transactions",icon:qr,path:"/inventory/sales"}]},{label:"Admin",type:"admin",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{admin:!i.admin}))},mIcon:Lr.a,subItems:[{label:"Item Category",mIcon:Rr.a,path:"/admin/item-categories"}]}],u=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)(gr.a,{}),Object(a.jsx)(hr.a,{children:s.map((function(t){return Object(a.jsxs)(d.a.Fragment,{children:[Object(a.jsxs)(xr.a,{button:!0,onClick:t.handleOnClick,children:[Object(a.jsx)(kr.a,{children:t.icon?Object(a.jsx)(Kr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(Pr.a,{primary:t.label}),i[t.type]?Object(a.jsx)(Mr.a,{}):Object(a.jsx)(_r.a,{})]},t.label),Object(a.jsx)(Tr.a,{in:i[t.type],timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(hr.a,{component:"div",children:t.subItems.map((function(t){return Object(a.jsxs)(xr.a,{button:!0,component:m.b,to:t.path,className:e.nested,children:[Object(a.jsx)(kr.a,{children:t.icon?Object(a.jsx)(Kr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(Pr.a,{primary:t.label})]},t.label)}))})})]},t.label)}))})]}),j=function(){t(tr())};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Er.a,{smUp:!0,implementation:"css",children:Object(a.jsx)(Fr.a,{className:e.drawer,variant:"temporary",anchor:"left",open:n,onClose:j,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:u})}),Object(a.jsx)(Er.a,{smDown:!0,implementation:"css",children:Object(a.jsx)(Fr.a,{className:e.drawer,classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:u})})]})},Xr=function(e){var t=e.component,n=Object(Sn.a)(e,["component"]),r=Object(b.c)((function(e){return e.auth})).user;return 0!==Object.keys(r).length?Object(a.jsx)(p.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Dr,{}),Object(a.jsx)(Qr,{}),Object(a.jsx)(t,Object(f.a)({},e))]})}})):Object(a.jsx)(p.a,{to:{pathname:"/auth/login"}})},$r=n(232),Zr=n(345),ec=n.n(Zr),tc=n(346),nc=n.n(tc),ac=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"100%"},textField:{paddingBottom:"1em"}}})),rc=function(e){var t=e.onSubmit,n=ac(),r=Object(l.useState)(!1),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(gt.b)(),d=s.register,u=s.errors,j=s.handleSubmit;return Object(a.jsxs)("form",{id:"loginForm",className:n.root,onSubmit:j(t),children:[Object(a.jsx)(vt.a,{className:n.textField,variant:"outlined",label:"Username",name:"username",size:"small",helperText:u.username?"This field is required!":"",inputRef:d({required:!0}),error:!!u.username}),Object(a.jsx)(vt.a,{className:n.textField,variant:"outlined",label:"Password",name:"password",size:"small",helperText:u.password?"This field is required!":"",type:i?"text":"password",inputRef:d({required:!0}),InputProps:{endAdornment:Object(a.jsx)(yt.a,{children:Object(a.jsx)(Qa.a,{onClick:function(){o(!i)},children:i?Object(a.jsx)(ec.a,{color:"secondary"}):Object(a.jsx)(nc.a,{color:"secondary"})})})},error:!!u.password})]})},cc=n.p+"static/media/login_background.102072f5.png",ic=n.p+"static/media/logo.68ea1519.png",oc=Object(O.a)((function(e){return{root:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},background:{height:"100vh",width:"100%",position:"absolute",top:"0",left:"0",backgroundImage:"url(".concat(cc,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"blur(4px)"},container:{display:"grid",width:"100%",height:"100%",maxHeight:"500px",maxWidth:"500px",gridTemplate:"1fr 1fr 1fr/ 1fr",placeContent:"center",padding:"1em",zIndex:2},loading:{display:"grid",width:"100%",height:"100%",placeContent:"center"},centerItem:{display:"grid",placeSelf:"center"},logo:{position:"fixed",top:"0",margin:"1em auto",width:"80px",height:"80px",zIndex:2}}})),sc=function(){var e=oc(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.auth})),r=n.user,c=n.isLoading,i=function(e){var n;t((n=e,function(){var e=Object(z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(le()),e.next=4,ne(n);case 4:a=e.sent,t(de(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(ue(e.t0.message)),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message}}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)($r.a,{className:e.root,elevation:0,children:[Object(a.jsx)("img",{className:e.logo,src:ic,alt:"logo"}),Object(a.jsx)("div",{className:e.background}),c?Object(a.jsx)("div",{className:e.loading,children:Object(a.jsx)(L.a,{color:"primary"})}):0===Object.keys(r).length?Object(a.jsxs)($r.a,{variant:"outlined",className:e.container,children:[Object(a.jsx)(Ce.a,{className:e.centerItem,align:"center",variant:"h5",children:"Petshield Veterinary Clinic"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(rc,{onSubmit:i}),Object(a.jsx)(fe.a,{color:"primary",form:"loginForm",type:"submit",variant:"contained",fullWidth:!0,children:"Login"})]})]}):Object(a.jsx)(p.a,{to:"/home/dashboard"})]})},lc=n(674),dc=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/stats/".concat(t,"/item-sales?salesDate=").concat(n,"&salesDateCateg=").concat(a));case 2:if(!(r=e.sent).data.data){e.next=7;break}return e.abrupt("return",r.data.data);case 7:throw Error(r.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),uc=Object(S.b)({name:"homeSalesStats",initialState:{isLoading:!1,stats:{},error:null},reducers:{fetchItemSalesStatsStart:function(e){e.isLoading=!0},fetchItemSalesStatsSuccess:function(e,t){e.isLoading=!1,e.stats=t.payload},fetchItemSalesStatsFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),jc=uc.reducer,bc=uc.actions,mc=bc.fetchItemSalesStatsFailure,pc=bc.fetchItemSalesStatsStart,Oc=bc.fetchItemSalesStatsSuccess,fc=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"}}})),hc=function(e){var t=e.setSalesDateCateg,n=e.salesDateCateg,r=e.salesDate,c=e.setSalesDate,i=fc(),o=Object(b.b)();return Object(l.useEffect)((function(){o(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(pc()),n.next=5,dc(c.branchName,e,t);case 5:i=n.sent,a(Oc(i)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a(mc(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,n))}),[o,r,n]),Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsxs)(Nn.a,{value:n,onChange:function(e){var n=e.target.value;t(n)},variant:"outlined",children:[Object(a.jsx)(wn.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(wn.a,{value:"yearly",children:"Yearly"})]}),Object(a.jsx)(Dn.a,{value:r,allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},views:{monthly:["month","year"],yearly:["year"]}[n],onChange:function(e){c(bn()(e).format("MM-DD-YYYY"))}})]})},xc=n(697),gc=n(675),vc=n(679),yc=n(357),Sc=n(358),Cc=n(231),Ic=n(183),Nc=n(372),wc=n(703),Ac=n(373),Dc=Object(O.a)((function(e){return{root:{padding:e.spacing(2)}}})),kc=function(e){var t=e.payload,n=e.active,r=Dc();if(n&&t){var c=t[0].payload.name,i=t[0].payload.sales;return Object(a.jsxs)(lc.a,{className:r.root,children:[Object(a.jsx)(Ce.a,{variant:"h6",align:"center",children:c}),Object(a.jsx)("br",{}),function(){if(0!==Object.keys(i).length){var e=Object.keys(i).filter((function(e){return"Net Sales"!==e})).map((function(e){return Object(a.jsx)(Ce.a,{children:"".concat(e,": ").concat(i[e])},e)}));return Object(a.jsxs)(a.Fragment,{children:[e,Object(a.jsx)(Ce.a,{children:"Net Sales: ".concat(void 0!==i["Net Sales"]?i["Net Sales"]:0)})]})}return Object(a.jsx)(Ce.a,{children:"No Sales"})}()]})}return null},Pc=Object(O.a)((function(e){return{root:Object(wt.a)({width:"100%",display:"flex",justifyContent:"space-evenly",flexDirection:"column",gridGap:"1em"},e.breakpoints.up("sm"),{flexDirection:"row"}),tooltip:{backgroundColor:"red"}}})),Tc=function(){var e=Pc(),t=Object(b.c)((function(e){return e.homeSalesStats})),n=t.isLoading,r=t.stats,c=Object(l.useState)([]),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)([]),u=Object(h.a)(d,2),j=u[0],m=u[1];Object(l.useEffect)((function(){var e={Grooming:"#8884D8","Vet Sales":"#8CDEDC","Store Sales":"#B2ECE1","Blood Test":"#D295BF",default:"#DE9151"};0!==Object.keys(r).length&&function(){for(var t=r.data.map((function(e){return{name:e.category,sales:e.value,netSales:void 0!==e.value["Net Sales"]?e.value["Net Sales"]:0}})),n={},a=function(e){0!==Object.keys(r.data[e].value).length&&Object.keys(r.data[e].value).filter((function(e){return"Net Sales"!==e})).forEach((function(t){n[t]||(n[t]=0),n[t]+=r.data[e].value[t]}))},c=0;c<r.data.length;c++)a(c);var i=Object.keys(n).map((function(t){return{name:t,value:n[t],fill:void 0!==e[t]?e[t]:e.default}}));m(i),s(t)}()}),[r,n,m,s]);return Object(a.jsx)("div",{className:e.root,children:n?Object(a.jsx)(L.a,{}):0!==o.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xc.a,{width:"100%",height:400,children:Object(a.jsxs)(gc.a,{data:o,children:[Object(a.jsx)(vc.a,{strokeDasharray:"3 3"}),Object(a.jsx)(yc.a,{dataKey:"name",type:"category"}),Object(a.jsx)(Sc.a,{type:"number",dataKey:"netSales",name:"Net Sales"}),Object(a.jsx)(Cc.a,{content:Object(a.jsx)(kc,{})}),Object(a.jsx)(Ic.a,{}),Object(a.jsx)(Nc.a,{type:"monotone",dataKey:"netSales"})]})}),Object(a.jsx)(xc.a,{width:"100%",height:400,children:Object(a.jsxs)(wc.a,{children:[Object(a.jsx)(Cc.a,{}),Object(a.jsx)(Ic.a,{}),Object(a.jsx)(Ac.a,{data:j,dataKey:"value"})]})})]}):null})},Ec=Object(O.a)((function(e){return{root:Object(wt.a)({padding:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"}),title:{margin:"".concat(e.spacing(2)," 0")}}})),Fc=function(){var e=bn()(Date.now()).format("MM-DD-YYYY"),t=Object(l.useState)("monthly"),n=Object(h.a)(t,2),r=n[0],c=n[1],i=Object(l.useState)(e),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Ec();return Object(a.jsxs)(lc.a,{className:u.root,children:[Object(a.jsx)(hc,{salesDate:s,setSalesDate:d,salesDateCateg:r,setSalesDateCateg:c}),Object(a.jsx)(Ce.a,{variant:"h5",align:"center",className:u.title,children:"".concat(r.toUpperCase()," Sales")}),Object(a.jsx)("div",{children:Object(a.jsx)(Tc,{})})]})},Lc=Object(O.a)((function(e){return{root:Object(wt.a)({padding:e.spacing(3),height:"100%",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"})}})),Rc=function(){var e=Lc();return Object(a.jsx)($r.a,{className:e.root,children:Object(a.jsx)(Fc,{})})},Mc=n(684),_c=n.p+"static/media/consultations.524fbfbc.svg",Bc=n(704),Hc=n(274),zc=n(680),Vc=n(681),Wc=n(682),Gc=n(683),Yc=n.p+"static/media/rx_icon.edf0143d.png",qc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},owner:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),Uc=function(){var e=qc();return Object(a.jsxs)($r.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Bc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(Ce.a,{className:e.owner,children:"Owner: Paolo"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(Hc.a,{className:e.consultationButton,children:Object(a.jsx)(zc.a,{})}),Object(a.jsx)(Hc.a,{className:e.consultationButton,children:Object(a.jsx)(Vc.a,{})}),Object(a.jsx)(Hc.a,{className:e.consultationButton,children:Object(a.jsx)(Wc.a,{})}),Object(a.jsx)(Hc.a,{className:Bn()(e.consultationButton,e.finish),children:Object(a.jsx)(ln.a,{})}),Object(a.jsx)(Hc.a,{className:e.consultationButton,children:Object(a.jsx)(Gc.a,{})}),Object(a.jsx)(Hc.a,{className:Bn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Yc,alt:"rx"})})]})]})},Kc=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},consultationList:{marginTop:"1em"}}})),Jc=function(){var e=Kc();return Object(a.jsx)(lc.a,{className:e.root,children:Object(a.jsxs)(Mc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h5",children:"Consultations"}),Object(a.jsxs)(Ce.a,{className:e.subTitle,variant:"body1",children:["Pets to consult:"," "]})]}),Object(a.jsx)(Kr.a,{src:_c,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(gr.a,{}),Object(a.jsx)(hr.a,{className:e.consultationList,children:Object(a.jsx)(Uc,{})})]})})},Qc=n.p+"static/media/admitted.d82cca45.svg",Xc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),$c=function(){var e=Xc();return Object(a.jsxs)($r.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Bc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(Ce.a,{className:e.subTitle,children:"Owner: Paolo"}),Object(a.jsx)(Ce.a,{className:e.subTitle,children:"Days admitted: 0"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(Hc.a,{className:e.consultationButton,children:Object(a.jsx)(Wc.a,{})}),Object(a.jsx)(Hc.a,{className:e.consultationButton,children:Object(a.jsx)(Vc.a,{})}),Object(a.jsx)(Hc.a,{className:e.consultationButton,children:Object(a.jsx)(zc.a,{})}),Object(a.jsx)(Hc.a,{className:Bn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Yc,alt:"rx"})})]})]})},Zc=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},admittancesList:{marginTop:"1em"}}})),ei=function(){var e=Zc();return Object(a.jsx)(lc.a,{className:e.root,children:Object(a.jsxs)(Mc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h5",children:"Admitted"}),Object(a.jsx)(Ce.a,{className:e.subTitle,variant:"body1",children:"Pets admitted:"})]}),Object(a.jsx)(Kr.a,{src:Qc,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(gr.a,{}),Object(a.jsx)(hr.a,{className:e.admittancesList,children:Object(a.jsx)($c,{})})]})})},ti=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},container:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(3)}}})),ni=function(){var e=ti();return Object(a.jsx)($r.a,{className:e.root,children:Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(Jc,{}),Object(a.jsx)(ei,{})]})})},ai=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/dashboard"),component:Rc}),Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/pet-queues"),component:ni}),Object(a.jsx)(p.a,{to:"".concat(t.url,"/dashboard")})]})},ri=n(685),ci=n(686),ii=Object(O.a)((function(e){return{root:{marginBottom:e.spacing(2)},container:{display:"flex",justifyContent:"space-between",borderRadius:"10px",backgroundColor:"#2f2f2f"},infoContainer:{display:"flex",padding:e.spacing(1)},buttonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{zIndex:"10",padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}},clientMoreDetails:{display:"flex",flexDirection:"column",padding:e.spacing(2)}}})),oi=function(e){var t=e.client,n=e.index,r=ii(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)($r.a,{className:r.root,children:[Object(a.jsxs)(xr.a,{button:!0,className:r.container,onClick:function(){s(!o)},children:[Object(a.jsxs)("div",{className:r.infoContainer,children:[Object(a.jsx)(Bc.a,{className:r.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h6",children:"Pet Name: ".concat(t.pet.petName)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Owner: ".concat(t.clientName)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Pet Species: ".concat(t.pet.species)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Pet Breed: ".concat(t.pet.petBreed)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Last Visit: ".concat(bn()(t.lastVisit).format("MM-DD-YYYY HH-MM-SS A"))}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Next Visit: ".concat(bn()(t.nextVisit).format("MM-DD-YYYY HH-MM-SS A"))})]})]}),Object(a.jsxs)("div",{className:r.buttonsContainer,children:[Object(a.jsx)(Hc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_TRANSACTIONS_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(ri.a,{})}),Object(a.jsx)(Hc.a,{className:r.consultationButton,children:Object(a.jsx)(Vc.a,{})}),Object(a.jsx)(Hc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_VETERINARIAN_NOTE_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(zc.a,{})}),Object(a.jsx)(Hc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_APPOINTMENTS_MODAL",modalProps:{clientIndex:n}}))},children:Object(a.jsx)(ci.a,{})}),Object(a.jsx)(Hc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{clientIndex:n,startDate:Date().toString()}}))},children:Object(a.jsx)(Gc.a,{})}),Object(a.jsx)(Hc.a,{className:Bn()(r.consultationButton,r.rxIcon),children:Object(a.jsx)("img",{src:Yc,alt:"rx"})})]})]}),Object(a.jsx)(Tr.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)("div",{className:r.clientMoreDetails,children:[Object(a.jsx)(Ce.a,{children:"Address: ".concat(t.address)}),Object(a.jsx)(Ce.a,{children:"Contact Number: ".concat(t.contactNumber)}),Object(a.jsx)(Ce.a,{children:"Email: ".concat(t.email)}),Object(a.jsx)(Ce.a,{children:"Veterinarian Note: ".concat(t.veterinarianNote)})]})})]})},si=Object(O.a)((function(e){return{root:{minHeight:"100%",overflowY:"auto",overflowX:"hidden",padding:"0 ".concat(e.spacing(2)),paddingBottom:e.spacing(5)}}})),li=function(e){var t=e.clients,n=si();return Object(a.jsx)(hr.a,{className:n.root,children:Object.keys(t).map((function(e){return Object(a.jsx)(oi,{client:t[e],index:e},t[e].ID)}))})},di=n(687),ui=n(688),ji=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)}}})),bi=function(e){var t=e.fuse,n=e.setClientResultsSearch,r=Object(b.b)(),c=ji();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(vt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(yt.a,{children:Object(a.jsx)(di.a,{color:"primary"})})},onChange:function(e){!function(e){if(""!==e){var a=t.search(e);n(a.map((function(e){return e.item})))}else n(null)}(e.target.value)}}),Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(ui.a,{}),onClick:function(){r(w({modalType:"ADD_CLIENT_MODAL"}))},children:"Add Client"})]})},mi=n(362),pi=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px",overflow:"hidden"},loadingIndicator:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{display:"flex",justifyContent:"flex-end"}}})),Oi=function(){var e=pi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.clients,c=n.isClientsLoading,i=Object(l.useState)(null),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useMemo)((function(){return{includeScore:!0,keys:["clientName"]}}),[]),j=Object(l.useMemo)((function(){return new mi.a(r,u)}),[r,u]);Object(l.useEffect)((function(){t(ft())}),[t]);return Object(a.jsx)($r.a,{className:e.root,children:c?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(L.a,{})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(bi,{setClientResultsSearch:d,fuse:j}),Object(a.jsx)(li,{clients:s||r})]})})},fi=n(59),hi=n(7),xi=n(79),gi=n(689),vi=Object(O.a)((function(e){return{icon:{color:e.palette.action.active},textCenter:{textAlign:"center"},commandButton:{backgroundColor:"rgba(255,255,255,0.65)"},header:{display:"flex",justifyContent:"space-between"},form:{display:"flex",marginTop:e.spacing(2),width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),yi=function(e){e.children;var t=e.appointmentData,n=e.setIsEditing,r=e.isEditing,c=e.setAppointmentVisible,i=Object(Sn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible"]),o=Object(b.b)(),s=vi();return Object(a.jsxs)(xi.b.Header,Object(f.a)(Object(f.a)({className:s.header},i),{},{appointmentData:t,children:[Object(a.jsx)(Qa.a,{onClick:function(){var e=t.appointment;o(function(e){var t=e.appointmentId;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(pt()),n(T({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Pe({appointmentId:t,branchName:r.branchName});case 6:c=e.sent,n(E()),n(mt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(bt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointmentId:e.ID})),c(!1)},children:Object(a.jsx)(Ht.a,{color:"error"})}),Object(a.jsx)(Qa.a,{onClick:function(){return n(!r)},children:Object(a.jsx)(gi.a,{color:r?"primary":"action"})})]}))},Si=function(e){e.children;var t=e.appointmentData,n=(e.setIsEditing,e.isEditing),r=e.setAppointmentVisible,c=(e.onAppointmentMetaChanged,Object(Sn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible","onAppointmentMetaChanged"])),i=vi(),o=Object(b.b)(),s=Object(gt.b)(),l=s.handleSubmit,d=s.control,u=t.appointment;return Object(a.jsx)(xi.b.Content,Object(f.a)(Object(f.a)({},c),{},{appointmentData:t,children:Object(a.jsxs)("form",{className:i.form,id:"updateAppointmentForm",onSubmit:l((function(e){var t=bn()(e.date).toISOString(),n=Object(f.a)(Object(f.a)({},u),{},{date:t,veterinarianNote:e.veterinarianNotes});r(!1),o(function(e){var t=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(ut()),n(T({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Ee({branchName:r.branchName,appointment:t});case 6:c=e.sent,n(E()),n(jt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(dt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointment:n}))})),children:[Object(a.jsx)(gt.a,{id:"appointment-date",name:"date",control:d,defaultValue:bn()(u.date).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(Dn.a,Object(f.a)({disabled:!n,renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date",readOnly:!n}))}},e))}}),Object(a.jsx)(gt.a,{name:"veterinarianNotes",control:d,defaultValue:u.veterinarianNote,rules:{},render:function(e){return Object(a.jsx)(vt.a,Object(f.a)({disabled:!n,label:"Notes",multiline:!0,size:"small",rows:5},e))}}),n?Object(a.jsx)(fe.a,{form:"updateAppointmentForm",children:"Update Appointment"}):null]})}))},Ci=function(e){var t=Object(b.b)();return Object(a.jsx)(xi.e.TimeTableCell,Object(f.a)({onClick:function(){t(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{startDate:String(e.startDate)}}))}},e))},Ii=n(57),Ni=n(58),wi=n(93),Ai=n(92),Di=function(e){Object(wi.a)(n,e);var t=Object(Ai.a)(n);function n(e){var a;return Object(Ii.a)(this,n),(a=t.call(this,e)).ref=d.a.createRef(),a}return Object(Ni.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.setAppointmentVisible,a=e.onAppointmentMetaChange,r=e.notificationState,c=e.setNotificationState;if(r){var i=r.appointment;Array.isArray(i)?i[0].ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null)):i.ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null))}}},{key:"render",value:function(){var e=this.props,t=e.data,n=(e.onClick,e.classes,e.setAppointmentVisible),r=e.onAppointmentMetaChange,c=(e.location,Object(Sn.a)(e,["data","onClick","classes","setAppointmentVisible","onAppointmentMetaChange","location"]));return Object(a.jsx)(xi.c.Appointment,Object(f.a)(Object(f.a)({ref:this.ref,onClick:function(e){var a=e.target;n(!0),r({target:a.parentElement.parentElement,data:t})}},c),{},{children:Object(a.jsx)("div",{ref:this.ref,children:c.children})}))}}]),n}(d.a.Component),ki=Object(O.a)((function(e){return{root:{height:"100%",borderRadius:"10px",overflow:"hidden"},button:{color:e.palette.background.default,padding:0},appointmentWrapper:{display:"flex",flexWrap:"wrap"}}})),Pi=function(e){var t=e.data,n=ki(),r=Object(p.h)(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(r.state),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(!1),O=Object(h.a)(m,2),f=O[0],x=O[1],g=Object(l.useState)({target:null,data:{}}),v=Object(h.a)(g,2),y=v[0],S=v[1],C=function(e){var t=e.data,n=e.target;x(!1),S({data:t,target:n})},I=Object(hi.k)(yi,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s}})),N=Object(hi.k)(Si,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s,onAppointmentMetaChanged:C}})),w=Object(hi.k)(Di,(function(){return{classes:n,setAppointmentVisible:s,onAppointmentMetaChange:C,notificationState:j,setNotificationState:b}}));return Object(a.jsx)($r.a,{className:n.root,children:Object(a.jsxs)(xi.f,{height:"auto",data:t,className:n.root,children:[Object(a.jsx)(fi.q,{}),Object(a.jsx)(xi.e,{timeTableCellComponent:Ci}),Object(a.jsx)(xi.g,{}),Object(a.jsx)(xi.d,{}),Object(a.jsx)(xi.c,{appointmentComponent:w}),Object(a.jsx)(xi.b,{headerComponent:I,contentComponent:N,visible:o,onVisibilityChange:function(e){return s(e)},appointmentMeta:y,onAppointmentMetaChange:C}),Object(a.jsx)(xi.a,{})]})})},Ti=function(){var e=Object(b.c)((function(e){return e.clients})).appointments.map((function(e){return{id:e.ID,startDate:new Date(e.date),endDate:bn()(new Date(e.date)).add(2,"hours").toDate(),title:"".concat(e.client.clientName," - ").concat(e.client.pet.petName," : ").concat(e.type),client:e.client,appointment:e}}));return Object(a.jsx)(Pi,{data:e})},Ei=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Fi=function(){var e=Ei(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})).isAppointmentsLoading;Object(l.useEffect)((function(){t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(ct()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(a.branchName,"/appointments?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(it(n.data))}}catch(c){t(rt(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(lc.a,{className:e.root,children:n?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(L.a,{})}):Object(a.jsx)(Ti,{})})},Li=Object(O.a)((function(e){return{root:Object(wt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Ri=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=e.setSelectedClient,c=Li(),i=Object(b.c)((function(e){return e.clients})),o=i.isClientsLoading,s=i.clients;return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)("div",{children:n?Object(a.jsx)(qt.a,{loading:o,options:s,getOptionLabel:function(e){return e.clientName},renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Client Name",variant:"outlined",helperText:"Enter client name here.",InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[o?Object(a.jsx)(L.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&r(t)}}):null}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Wt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},Mi=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:e.spacing(1)},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),_i=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.selectedClient,c=e.setSelectedClient,i=Object(l.useState)({}),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(1),j=Object(h.a)(u,2),m=j[0],p=j[1],O=bn()(Date.now()).format("MM-DD-YYYY"),x=Object(b.c)((function(e){return e.inventorySearch})),g=x.result,v=x.isLoading,y=Mi(),S=Object(b.b)();if(Object(l.useEffect)((function(){S(ft())}),[S]),!t)return null;var C=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(s.inStock)&&p(t)},I=function(){c({}),d({}),p(1)},N=function(){S(ht(r.ID,s.ID,m)),I(),S(on()),n(!1)},w=function(){I(),S(on()),n(!1)},A=Object(un.debounce)((function(e){S(""===e?on():sn(e))}),800),D=function(e){A(e.target.value)};return Object(a.jsxs)(Tt.a,{className:y.root,children:[Object(a.jsx)(Et.a,{children:O}),Object(a.jsx)(Et.a,{children:r.clientName}),Object(a.jsx)(Et.a,{children:0===Object.keys(r).length?"Select a client first":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(qt.a,{loading:v,options:g.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Product Name",size:"small",onChange:D,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[v?Object(a.jsx)(L.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&d(t)}}),s.name]})}),function(){var e=s.price*m,t=e-(s.isIncentiveFixed?Number(s.incentiveAmount).toFixed(2):Number(e*(s.incentiveRate/100)).toFixed(2));return 0===Object.keys(s).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Et.a,{children:["\u20b1",Number(s.price).toFixed(2)]}),Object(a.jsx)(Et.a,{className:y.quantityCell,children:Object(a.jsx)(vt.a,{size:"small",variant:"outlined",type:"number",value:m,margin:"dense",onChange:C})}),Object(a.jsxs)(Et.a,{children:["\u20b1",Number(e).toFixed(2)]}),Object(a.jsx)(Et.a,{children:"".concat(Number(s.incentiveRate).toFixed(2),"%")}),Object(a.jsx)(Et.a,{children:s.isIncentiveFixed?"\u20b1".concat(Number(s.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(s.incentiveRate/100)).toFixed(2))}),Object(a.jsxs)(Et.a,{children:["\u20b1",Number(t).toFixed(2)]}),Object(a.jsx)(Et.a,{children:s.category}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)("div",{className:y.buttonRows,children:[Object(a.jsx)(fe.a,{className:y.submitButton,variant:"outlined",onClick:N,children:Object(a.jsx)(ln.a,{})}),Object(a.jsx)(fe.a,{className:y.cancelButton,variant:"outlined",onClick:w,children:Object(a.jsx)(dn.a,{})})]})})]})}()]})},Bi=Object(O.a)((function(e){return{root:Object(wt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:zt.a[400],border:"2px solid red",borderColor:zt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),Hi=function(e){var t=e.data,n=e.columns,r=Bi(),c=Object(b.b)(),i=Object(l.useState)(0),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(10),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(l.useState)(!1),x=Object(h.a)(O,2),g=x[0],v=x[1],y=Object(l.useState)({}),S=Object(h.a)(y,2),C=S[0],I=S[1],N=Object(At.useTable)({data:t,columns:n},At.useSortBy),A=N.getTableProps,D=N.headerGroups,k=N.prepareRow,P=N.rows;return Object(a.jsxs)($r.a,{className:r.root,children:[Object(a.jsx)(Ri,{toggleAddItemSaleRow:v,showAddItemSaleRow:g,setSelectedClient:I,selectedClient:C}),Object(a.jsx)(Dt.a,{children:Object(a.jsxs)(kt.a,Object(f.a)(Object(f.a)({},A()),{},{stickyHeader:!0,children:[Object(a.jsx)(Pt.a,{children:D.map((function(e){return Object(a.jsxs)(Tt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Et.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Mt.a,{fontSize:"small"}):Object(a.jsx)(Bt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Et.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:r.container,children:[Object(a.jsx)(_i,{showAddItemSaleRow:g,toggleAddItemSaleRow:v,selectedClient:C,setSelectedClient:I}),P.slice(s*m,s*m+m).map((function(e,t){return k(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Tt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Et.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:e.render("Cell")}))},"col".concat(t))})),Object(a.jsx)(Et.a,{children:Object(a.jsx)(fe.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Ht.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:m,count:t.length,page:s,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})},zi=function(e){var t=e.itemSales,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:bn()(e.CreatedAt).format("L"),col2:e.client.clientName,col3:e.item.name,col4:"\u20b1".concat(Number(e.item.price).toFixed(2)),col5:e.quantity,col6:"\u20b1".concat(Number(e.sales).toFixed(2)),col7:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col8:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col9:"\u20b1".concat(Number(e.netSales).toFixed(2)),col10:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Client",accessor:"col2"},{Header:"Product",accessor:"col3"},{Header:"Price",accessor:"col4"},{Header:"Qty",accessor:"col5"},{Header:"Sales",accessor:"col6"},{Header:"Rate",accessor:"col7"},{Header:"Incentives",accessor:"col8"},{Header:"Net Sales",accessor:"col9"},{Header:"Category",accessor:"col10"}]}),[]),itemSales:t};return Object(a.jsx)(Hi,Object(f.a)({},n))},Vi=Object(O.a)((function(e){return{root:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"150px",alignItems:"center",padding:"1em",backgroundColor:"#1D1D1D",overflow:"hidden","&::before":{content:'" "',position:"absolute",backgroundColor:e.palette.primary.main,height:"8px",width:"50%",top:"-3px",borderRadius:"20px"}}}})),Wi=function(e){var t=e.title,n=e.value,r=e.dailySales,c=Vi(),i=Object(b.b)();return Object(a.jsxs)(Hc.a,{className:c.root,elevation:0,onClick:function(){r&&(String(t).includes("Net Sales")?i(w({modalType:"NET_SALES_BREAKDOWN_MODAL",modalProps:{title:t,dailySales:r}})):i(w({modalType:"SALES_BREAKDOWN_MODAL",modalProps:{title:t,dailySales:r}})))},children:[Object(a.jsx)(Ce.a,{style:{fontWeight:"bold"},align:"center",children:t}),Object(a.jsx)(Ce.a,{children:"P".concat(Number(n).toFixed(2))})]})},Gi=Object(O.a)((function(e){return{root:Object(wt.a)({marginBottom:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),picker:{height:"100% !important"}}})),Yi=function(e){var t=e.onSalesDateChanged,n=e.onSalesDateCategChanged,r=Gi(),c=bn()(Date.now()).format("MM-DD-YYYY"),i={daily:["date"],monthly:["month","year"],yearly:["year"]},o=Object(l.useState)("daily"),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(c),b=Object(h.a)(j,2),m=b[0],p=b[1];return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsxs)(Nn.a,{variant:"outlined",value:d,onChange:function(e){return t=e.target.value,u(t),void n({salesDate:m,salesDateCateg:t});var t},children:[Object(a.jsx)(wn.a,{value:"overall",children:"All"}),Object(a.jsx)(wn.a,{value:"yearly",children:"Yearly"}),Object(a.jsx)(wn.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(wn.a,{value:"daily",children:"Daily"})]}),"overall"===d?null:Object(a.jsx)(Dn.a,{value:m,views:i[d],allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},onChange:function(e){!function(e){var n=e.format("MM-DD-YYYY").toString();p(n),t({salesDate:n,salesDateCateg:d})}(e)}})]})},qi=Object(O.a)((function(e){return{root:Object(wt.a)({display:"grid",width:"100%",gridGap:"1.5em",paddingBottom:"1em"},e.breakpoints.up("sm"),{gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr 1fr"})}})),Ui=function(e){var t=e.dailySales,n=e.metadata,r=qi(),c=Object(l.useState)({dailySales:[],sales:0}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(0),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(0),p=Object(h.a)(m,2),O=p[0],f=p[1],x=Object(l.useState)(0),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(l.useState)(0),C=Object(h.a)(S,2),I=C[0],N=C[1],w=Object(l.useState)(0),A=Object(h.a)(w,2),D=A[0],k=A[1],P=Object(l.useState)(""),T=Object(h.a)(P,2),E=T[0],F=T[1],L=Object(l.useCallback)((function(){var e=0,n=0,a=[],r=[];Object.keys(t).forEach((function(c){"Blood Test"===c?(b(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Grooming"===c?(f(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Vet Sales"===c?(y(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Store Sales"===c?(r.push(t[c].items),n+=t[c].netSales,N(t[c].netSales)):(r.push(t[c].items),a.push(t[c].items),e+=t[c].netSales)})),s({sales:e,dailySales:a}),k(n+e)}),[s,k,t]),R=Object(l.useCallback)((function(){var e=String(n.salesDateCateg[0]).toUpperCase()+String(n.salesDateCateg).substring(1,n.salesDateCateg.length);F(e)}),[F,n]);return Object(l.useEffect)((function(){L(),R()}),[L,R]),Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(Wi,{title:"".concat(E," Sales"),value:o.sales}),Object(a.jsx)(Wi,{title:"".concat(E," Sales - Blood Test"),value:j,dailySales:t["Blood Test"]}),Object(a.jsx)(Wi,{title:"".concat(E," Sales - Grooming"),value:O,dailySales:t.Grooming}),Object(a.jsx)(Wi,{title:"".concat(E," Sales - Store Sales"),value:I,dailySales:t["Store Sales"]}),Object(a.jsx)(Wi,{title:"".concat(E," Sales - Vet Sales"),value:v,dailySales:t["Vet Sales"]}),Object(a.jsx)(Wi,{title:"".concat(E," Net Sales "),value:D,dailySales:t})]})},Ki=Object(O.a)((function(e){return{root:Object(wt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Ji=function(){var e=Ki(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.isPaymentsLoading,c=n.clientPayments,i=n.error;Object(l.useEffect)((function(){var e=bn()(Date.now()).format("MM-DD-YYYY");t(xt({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Yi,{onSalesDateCategChanged:function(e){t(xt(e))},onSalesDateChanged:function(e){t(xt(e))}}),0===Object.keys(c).length||r?i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(L.a,{color:"secondary"})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ui,{metadata:c.metadata,dailySales:c.dailySales}),Object(a.jsx)(zi,{itemSales:c.itemSales?c.itemSales:[]})]})]})},Qi=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/all-clients"),component:Oi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/appointments"),component:Fi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/payments"),component:Ji})]})},Xi=n(217),$i=n.n(Xi),Zi=Object(O.a)((function(){return{root:{display:"flex",width:"100%",paddingTop:"1em",alignItems:"center",justifyContent:"space-between"}}})),eo=function(e){var t=e.gotoPage,n=e.nextPage,r=e.previousPage,c=e.canNextPage,i=e.canPreviousPage,o=e.pageCount,s=e.pageSize,l=e.pageIndex,d=e.itemsCount,u=Zi();return Object(a.jsxs)("div",{className:u.root,children:[function(){var e=s*(l+1)>=d?d:s*(l+1);return Object(a.jsx)(Ce.a,{children:"Showing ".concat(e," out of ").concat(d," items")})}(),Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(0)},disabled:!i,children:"FIRST"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return r()},disabled:!i,children:"PREV"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return n()},disabled:!c,children:"NEXT"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(o-1)},disabled:!c,children:"LAST"})]})]})},to=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItem:"center"},container:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItem:"center",marginBottom:"1em"},itemCount:{display:"flex",alignItems:"center"}}})),no=function(e){var t=e.setPageSize,n=e.pageSize,r=e.handleSearchItemChanged,c=to(),i=Object(b.b)();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsx)("div",{}),Object(a.jsx)(fe.a,{className:c.addItemButton,variant:"outlined",endIcon:Object(a.jsx)(Wt.a,{}),onClick:function(e){i(w({modalType:"ADD_ITEM_MODAL",modalProps:{}}))},children:"Add Item"})]}),Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsxs)("div",{className:c.itemCount,children:[Object(a.jsx)(Ce.a,{children:"Show \xa0"}),Object(a.jsx)(Nn.a,{value:n,onChange:function(e){t(e.target.value)},children:[10,20,30,40,50].map((function(e){return Object(a.jsx)(wn.a,{value:e,children:e},e)}))}),Object(a.jsx)(Ce.a,{children:"\xa0 entries"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(vt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(yt.a,{children:Object(a.jsx)(di.a,{color:"primary"})})},onChange:function(e){r(e.target.value)}})})]})]})},ao=Object(O.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#1d1d1d",padding:"1.5em",overflowX:"auto"},showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:zt.a[400],border:"2px solid red",borderColor:zt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"}}})),ro=function(e){var t=e.data,n=e.columns,r=e.items,c=ao(),i=Object(b.b)(),o=Object(At.useTable)({data:t,columns:n,initialState:{pageIndex:0,pageSize:10}},At.useFilters,At.useSortBy,At.usePagination),s=o.getTableProps,l=o.headerGroups,d=o.prepareRow,u=o.rows,j=o.page,m=o.canPreviousPage,p=o.canNextPage,O=o.pageCount,h=o.gotoPage,x=o.nextPage,g=o.previousPage,v=o.setPageSize,y=o.setFilter,S=o.state,C=S.pageIndex,I=S.pageSize,N=function(e){if("col5"===e.column.id)return Object(a.jsxs)(Ce.a,{children:["\u20b1",e.render("Cell")]});if("col7"===e.column.id){var t=e.row.values.col6/100*e.row.values.col5;return Object(a.jsxs)(Ce.a,{children:["\u20b1",e.render("Cell")," (".concat(t.toFixed(2),")")]})}return"col6"===e.column.id?Object(a.jsxs)(Ce.a,{children:[e.render("Cell"),"%"]}):Object(a.jsx)(Ce.a,{children:e.render("Cell")})};return Object(a.jsxs)($r.a,{className:c.root,children:[Object(a.jsx)(no,{pageSize:I,setPageSize:v,handleSearchItemChanged:function(e){y("col1",e)}}),Object(a.jsxs)(kt.a,Object(f.a)(Object(f.a)({},s()),{},{children:[Object(a.jsx)(Pt.a,{children:l.map((function(e){return Object(a.jsxs)(Tt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Et.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Mt.a,{fontSize:"small"}):Object(a.jsx)(Bt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Et.a,{})]},e.id)}))}),Object(a.jsx)(Ft.a,{children:j.map((function(e,t){return d(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Tt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Et.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps([{className:e.column.className},(n=e,"Out of Stock"===n.value?{className:c.outOfStock}:"In Stock"===n.value?{className:c.inStock}:"Discounted"===n.value?{className:c.itemDiscounted}:{className:""})])),{},{children:N(e)}))},"col".concat(t));var n})),Object(a.jsx)(Et.a,{children:Object(a.jsx)(fe.a,{fullWidth:!0,endIcon:Object(a.jsx)($i.a,{}),variant:"contained",onClick:function(){var t;t=e.index,i(w({modalType:"MANAGE_ITEM_MODAL",modalProps:{item:r[t],itemIndex:t}}))},children:"Manage Item"})},e.id)]}),e.id)})}))})]})),Object(a.jsx)(eo,{canPreviousPage:m,canNextPage:p,previousPage:g,nextPage:x,gotoPage:h,pageCount:O,pageSize:I,pageIndex:C,itemsCount:u.length})]})},co=function(e){var t=e.items,n={data:Object(l.useMemo)((function(){return t.map((function(e){var t="",n=e.discount>0?e.price*(e.discount/100):0;return t=e.discount>0&&e.inStock>0?"Discounted":0===e.discount&&e.inStock>0?"In Stock":"Out of Stock",{col1:e.name,col2:e.category,col3:e.inStock,col4:t,col5:Number(e.price).toFixed(2),col6:e.discount,col7:(e.price-n).toFixed(2)}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Name",accessor:"col1"},{Header:"Category",accessor:"col2"},{Header:"Stock",accessor:"col3"},{Header:"Status",accessor:"col4"},{Header:"Original Price",accessor:"col5"},{Header:"Discount",accessor:"col6"},{Header:"Total Price",accessor:"col7"}]}),[]),items:t};return Object(a.jsx)(ro,Object(f.a)({},n))},io=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),oo=function(){var e=io(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.inventoryItems})),r=n.isLoading,c=n.items,i=n.error,o=Object(b.c)((function(e){return e.inventorySearch})),s=o.isLoading,d=o.result;Object(l.useEffect)((function(){t(on()),t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Yn()),new WebSocket("".concat(G.WS_BASE_URL,"/items/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(qn(n.data))}}catch(i){t(Un(i.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)($r.a,{elevation:0,className:e.root,children:r||s?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(L.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(co,{items:d.length>0?d:c})})},so=Object(O.a)((function(e){return{root:Object(wt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),lo=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=so();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Wt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},uo=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),jo=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.salesDate,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=Object(b.c)((function(e){return e.inventorySearch})),O=p.result,x=p.isLoading,g=uo(),v=Object(b.b)();if(!t)return null;var y=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},S=function(){s({}),m(1)},C=function(){v(Ga(o.ID,j)),S(),v(on()),n(!1)},I=function(){S(),v(on()),n(!1)},N=Object(un.debounce)((function(e){v(""===e?on():sn(e))}),800),w=function(e){N(e.target.value)};return Object(a.jsxs)(Tt.a,{className:g.root,children:[Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:r})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(qt.a,{loading:x,options:O.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(vt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:w,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[x?Object(a.jsx)(L.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Et.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(Et.a,{className:g.quantityCell,children:Object(a.jsx)(vt.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:y,fullWidth:!0})}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Et.a,{children:Object(a.jsx)(Ce.a,{children:o.category})}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)("div",{className:g.buttonRows,children:[Object(a.jsx)(fe.a,{className:g.submitButton,variant:"outlined",onClick:C,children:Object(a.jsx)(ln.a,{})}),Object(a.jsx)(fe.a,{className:g.cancelButton,variant:"outlined",onClick:I,children:Object(a.jsx)(dn.a,{})})]})})]})}()]})},bo=Object(O.a)((function(e){return{root:Object(wt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:zt.a[400],border:"2px solid red",borderColor:zt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),mo=function(e){var t=e.data,n=e.columns,r=e.salesDate,c=bo(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(At.useTable)({data:t,columns:n},At.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,A=S.rows,D=function(e){return Object(a.jsx)(Ce.a,{children:e.render("Cell")})};return Object(a.jsxs)($r.a,{className:c.root,children:[Object(a.jsx)(lo,{toggleAddItemSaleRow:y,showAddItemSaleRow:v}),Object(a.jsx)(Dt.a,{children:Object(a.jsxs)(kt.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Pt.a,{children:I.map((function(e){return Object(a.jsxs)(Tt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Et.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Mt.a,{fontSize:"small"}):Object(a.jsx)(Bt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Et.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:c.container,children:[Object(a.jsx)(jo,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,salesDate:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Tt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Et.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:D(e)}))},"col".concat(t))})),Object(a.jsx)(Et.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Ht.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},po=function(e){var t=e.itemSales,n=e.salesDate,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:bn()(e.CreatedAt).format("L"),col2:e.item?e.item.name:"",col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),salesDate:n};return Object(a.jsx)(mo,Object(f.a)({},r))},Oo=Object(O.a)((function(e){return{root:Object(wt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),fo=function(){var e=Oo(),t=Object(b.b)(),n=bn()(Date.now()).format("MM-DD-YYYY"),r=Object(l.useState)(n),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.c)((function(e){return e.inventorySales})),d=s.isLoading,u=s.itemSales,j=s.dailySales,m=s.metadata,p=s.error;Object(l.useEffect)((function(){t(Wa({salesDate:i,salesDateCateg:"daily"}))}),[t,i]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Yi,{onSalesDateCategChanged:function(e){t(Wa(e))},onSalesDateChanged:function(e){o(e.salesDate),t(Wa(e))}}),d?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(L.a,{color:"secondary"})}):p?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ui,{metadata:m,dailySales:j}),Object(a.jsx)(po,{itemSales:u,salesDate:i})]})]})},ho=function(e){var t=e.match;Object(Sn.a)(e,["match"]);return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/items"),component:oo}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/sales"),component:fo})]})},xo={LOADING_MODAL:M,ERROR_MODAL:F,SUCCESS_MODAL:_},go=function(){var e=Object(b.c)((function(e){return e.infoModals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=xo[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},vo=Object(O.a)((function(e){return{root:Object(wt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),yo=function(e){var t=e.toggleAddItemCategoryRow,n=e.showAddItemCategoryRow,r=vo();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Wt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Category")})})]})},So=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),Co=function(e){var t=e.showAddItemCategoryRow,n=e.toggleAddItemCategoryRow,r=Object(b.c)((function(e){return e.itemCategories})).categories,c=Object(gt.b)({defaultValues:{name:""}}),i=c.reset,o=c.handleSubmit,s=c.register,l=c.errors,d=So(),u=Object(b.b)();if(!t)return null;return Object(a.jsxs)(Tt.a,{className:d.root,children:[Object(a.jsx)(Et.a,{children:Object(a.jsx)("form",{id:"addItemCategoryForm",onSubmit:o((function(e){var t;r.find((function(t){return String(t.name).toLowerCase()===String(e.name).toLowerCase()}))?u(T({modalType:"ERROR_MODAL",modalProps:{message:"Existing Category",isInfoModal:!0}})):u((t=e,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(fa()),n(T({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,sa(t);case 5:a=e.sent,n(T({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Added!",duration:3e3}})),n(ha(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(T({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(Oa(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),i(),n(!1)})),children:Object(a.jsx)(vt.a,{fullWidth:!0,name:"name",label:"Category Name",inputRef:s({required:!0}),error:!!l.name,helperText:l.name?"Invalid Input":""})})}),Object(a.jsx)(Et.a,{children:Object(a.jsxs)("div",{className:d.buttonRows,children:[Object(a.jsx)(fe.a,{variant:"outlined",color:"primary",className:d.submitButton,form:"addItemCategoryForm",type:"submit",children:Object(a.jsx)(ln.a,{})}),Object(a.jsx)(fe.a,{variant:"outlined",className:d.cancelButton,onClick:function(){i(),n(!1)},children:Object(a.jsx)(dn.a,{})})]})})]})},Io=Object(O.a)((function(e){return{root:Object(wt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:zt.a[400],border:"2px solid red",borderColor:zt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),No=function(e){var t=e.data,n=e.columns,r=e.categories,c=Io(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(At.useTable)({data:t,columns:n},At.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,w=S.rows,A=function(e){return Object(a.jsx)(Ce.a,{children:e.render("Cell")})},D=function(e){var t,n=r[e];i((t=n.ID,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(ga()),n(T({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,la(t);case 5:a=e.sent,n(T({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Deleted!",duration:3e3}})),n(va(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(T({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(xa(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)($r.a,{className:c.root,children:[Object(a.jsx)(yo,{toggleAddItemCategoryRow:y,showAddItemCategoryRow:v}),Object(a.jsx)(Dt.a,{children:Object(a.jsxs)(kt.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Pt.a,{children:I.map((function(e){return Object(a.jsxs)(Tt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Et.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Mt.a,{fontSize:"small"}):Object(a.jsx)(Bt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Et.a,{})]})}))}),Object(a.jsxs)(Ft.a,{className:c.container,children:[Object(a.jsx)(Co,{showAddItemCategoryRow:v,toggleAddItemCategoryRow:y}),w.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Tt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Et.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:A(e)}))},"col".concat(t))})),Object(a.jsx)(Et.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){D(e.index)},children:Object(a.jsx)(Ht.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Lt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},wo=function(e){var t=e.categories,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:e.name}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Category",accessor:"col1"}]}),[]),categories:t};return Object(a.jsx)(No,Object(f.a)({},n))},Ao=Object(O.a)((function(e){return{root:Object(wt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Do=function(){var e=Ao(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.itemCategories})),r=n.isLoading,c=n.categories,i=n.error;Object(l.useEffect)((function(){t(ya())}),[t]);return Object(a.jsx)("div",{className:e.root,children:r?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(L.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(wo,{categories:c})})},ko=function(e){var t=e.match;return Object(a.jsx)(p.d,{children:Object(a.jsx)(p.b,{path:"".concat(t.url,"/item-categories"),component:Do})})},Po=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",padding:0,margin:0},toolbar:e.mixins.toolbar,toastContainer:{zIndex:"1000000"}}})),To=function(){var e=Po(),t=Object(b.b)();Object(l.useEffect)((function(){localStorage.getItem("token")&&t(function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),ee(n),e.prev=2,t(ie()),e.next=6,ae(n);case 6:a=e.sent,t(oe(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(se(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(m.a,{children:[Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/auth/login",component:sc}),Object(a.jsx)(Xr,{path:"/home",component:ai}),Object(a.jsx)(Xr,{path:"/clients",component:Qi}),Object(a.jsx)(Xr,{path:"/inventory",component:ho}),Object(a.jsx)(Xr,{path:"/admin",component:ko}),Object(a.jsx)(p.a,{from:"/",to:"/home/dashboard"})]}),Object(a.jsx)(qa,{}),Object(a.jsx)(go,{})]})})},Eo=n(101),Fo=Object(Eo.c)({inventoryItems:ia,inventorySales:Ta,inventorySearch:tn,homeSalesStats:jc,modals:I,infoModals:k,auth:pe,drawer:er,clients:Ot,notifications:fr,itemCategories:ua});var Lo=Object(S.a)({reducer:Fo});j.a.render(Object(a.jsx)(r.a,{injectFirst:!0,children:Object(a.jsx)(c.a,{theme:U,children:Object(a.jsxs)(o.b,{dateAdapter:s.a,children:[Object(a.jsx)(i.a,{}),Object(a.jsx)(b.a,{store:Lo,children:Object(a.jsx)(To,{})})]})})}),document.getElementById("root"))}},[[571,1,2]]]);
//# sourceMappingURL=main.9adace03.chunk.js.map