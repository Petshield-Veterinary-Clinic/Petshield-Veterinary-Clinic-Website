(this["webpackJsonppetshield-veterinary-clinic-website"]=this["webpackJsonppetshield-veterinary-clinic-website"]||[]).push([[0],{496:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(590),c=a(610),i=a(592),s=a(568),o=a(591),l=a(0),d=a.n(l),u=a(53),j=a.n(u),m=a(15),b=a(23),p=a(7),O=a(8),h=a(304),x=a(543),f=a(545),g=a(546),v=a(547),y=a(100),S=a(598),I=a(537),w=a(548),C=a(549),N=a(550),k={API_BASE_URL:"https://petshield-veterinary-api-dev.herokuapp.com",WS_BASE_URL:"wss://petshield-veterinary-api-dev.herokuapp.com",WS_TIMEOUT:25e3},D=a(606),F=a(302),A=Object(D.a)(Object(F.a)({palette:{mode:"dark",primary:{main:"#1e88e5"},secondary:{main:"#26a69a"}},components:{MuiMenu:{styleOverrides:{padding:"1em"}},MuiCard:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiPaper:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiTableCell:{styleOverrides:{root:{textAlign:"center"}}}}}),{disableAlign:!0}),P=240,T=a(44),L=Object(T.b)({name:"modals",initialState:{modalType:null,modalProps:{}},reducers:{showModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideModal:function(e,t){e.modalType="",e.modalProps={}}}}),R=L.reducer,E=L.actions,M=E.showModal,_=E.hideModal,B=Object(T.b)({name:"drawer",initialState:{isOpen:!1},reducers:{toggleDrawer:function(e){e.isOpen=!e.isOpen}}}),z=B.reducer,W=B.actions.toggleDrawer,H=Object(I.a)((function(e){var t;return{appBar:(t={},Object(O.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(P,"px)"),marginLeft:P}),Object(O.a)(t,"width","100%"),Object(O.a)(t,"backgroundColor","#272727"),Object(O.a)(t,"flexGrow",1),t),menuButton:Object(O.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none "}),grow:{flexGrow:1}}})),Y={dashboard:"Dashboard","pet-queues":"Pet Queues","all-clients":"All Clients",payments:"Payments",appointments:"Appointments","appointment-form":"Appointment Form",items:"All Items",sales:"All Sales"},G=function(){var e=Object(l.useState)(null),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(l.useState)(""),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Object(b.g)(),u=Boolean(a),j=Object(m.b)(),O=H();Object(l.useEffect)((function(){var e=d.pathname.split("/"),t=Y[e[e.length-1]];o(t)}),[d,s,o]);var I=function(){r(null)},k=function(){I(),j(M({modalType:"LOGOUT_MODAL",modalProps:{title:"Logout",message:"Are you sure you want to logout from the session?"}}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{position:"fixed",className:O.appBar,children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){j(W())},className:O.menuButton,children:Object(n.jsx)(w.a,{})}),Object(n.jsx)(y.a,{children:"Petshield Veterinary Clinic - "+s}),Object(n.jsx)("div",{className:O.grow}),Object(n.jsx)(v.a,{children:Object(n.jsx)(S.a,{badgeContent:1,color:"primary",children:Object(n.jsx)(C.a,{})})}),Object(n.jsx)(v.a,{edge:"end",onClick:function(e){r(e.target)},children:Object(n.jsx)(N.a,{style:{fontSize:"2rem"}})})]})}),Object(n.jsx)(h.a,{anchorEl:a,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:I,children:Object(n.jsx)(x.a,{onClick:k,children:"Logout"})})]})},V=a(20),q=a(551),U=a(542),K=a(498),J=a(552),Q=a(553),X=a(556),Z=a(602),$=a(607),ee=a(554),te=a(555),ae=a(134),ne=a.p+"static/media/house.7d774967.svg",re=a.p+"static/media/agreement_form.ca65a6e9.svg",ce=a.p+"static/media/all_clients.2a3b6270.svg",ie=a.p+"static/media/all_items.e153111f.svg",se=a.p+"static/media/appointments.f3506a0a.svg",oe=a.p+"static/media/clients.b5a069e7.svg",le=a.p+"static/media/dashboard.99dfeff1.svg",de=a.p+"static/media/inventory.c084951b.svg",ue=a.p+"static/media/item_transactions.a4256305.svg",je=a.p+"static/media/pet_queue.25ef2fa6.svg",me=a.p+"static/media/payments.8026a3af.svg",be=a(111),pe=Object(I.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,drawer:Object(O.a)({},e.breakpoints.up("sm"),{width:P,flexShrink:0}),drawerPaper:{width:P,backgroundColor:"#343434"},nested:{paddingLeft:"".concat(e.spacing(4))},drawerIcon:{width:"34px",height:"34px",fill:"".concat(e.palette.primary.main," !important")}}})),Oe=function(){var e=pe(),t=Object(m.b)(),a=Object(m.c)((function(e){return e.drawer})).isOpen,r=Object(l.useState)({home:!1,clients:!1,inventory:!1}),c=Object(p.a)(r,2),i=c[0],s=c[1],o=[{label:"Home",type:"home",handleOnClick:function(){return s(Object(V.a)(Object(V.a)({},i),{},{home:!i.home}))},icon:ne,subItems:[{label:"Dashboard",icon:le,path:"/content/home/dashboard"},{label:"Pet Queue",icon:je,path:"/content/home/pet-queues"}]},{label:"Clients",type:"clients",handleOnClick:function(){return s(Object(V.a)(Object(V.a)({},i),{},{clients:!i.clients}))},icon:oe,subItems:[{label:"All Clients",icon:ce,path:"/content/clients/all-clients"},{label:"Payments",icon:me,path:"/content/clients/payments"},{label:"Appointments",icon:se,path:"/content/clients/appointments"},{label:"Agreement Form",icon:re,path:"/content/clients/agreement-form"}]},{label:"Inventory",type:"inventory",handleOnClick:function(){return s(Object(V.a)(Object(V.a)({},i),{},{inventory:!i.inventory}))},icon:de,subItems:[{label:"All Items",icon:ie,path:"/content/inventory/items"},{label:"Item Transactions",icon:ue,path:"/content/inventory/sales"}]}],u=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsx)(q.a,{}),Object(n.jsx)(U.a,{children:o.map((function(t){return Object(n.jsxs)(d.a.Fragment,{children:[Object(n.jsxs)(K.a,{button:!0,onClick:t.handleOnClick,children:[Object(n.jsx)(J.a,{children:Object(n.jsx)(be.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label)}),Object(n.jsx)(Q.a,{primary:t.label}),i[t.type]?Object(n.jsx)(ee.a,{}):Object(n.jsx)(te.a,{})]},t.label),Object(n.jsx)(X.a,{in:i[t.type],timeout:"auto",unmountOnExit:!0,children:Object(n.jsx)(U.a,{component:"div",children:t.subItems.map((function(t){return Object(n.jsxs)(K.a,{button:!0,component:ae.a,to:t.path,className:e.nested,children:[Object(n.jsx)(J.a,{children:Object(n.jsx)(be.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label)}),Object(n.jsx)(Q.a,{primary:t.label})]},t.label)}))})})]},t.label)}))})]}),j=function(){t(W())};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{smUp:!0,implementation:"css",children:Object(n.jsx)($.a,{className:e.drawer,variant:"temporary",anchor:"left",open:a,onClose:j,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:u})}),Object(n.jsx)(Z.a,{smDown:!0,implementation:"css",children:Object(n.jsx)($.a,{className:e.drawer,classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:u})})]})},he=a(558),xe=a(559),fe=a(560),ge=a(561),ve=a(562),ye=Object(I.a)((function(e){return{loadingIndicator:{display:"flex",justifyContent:"center",alignItems:"center,"}}})),Se=a(12),Ie=a.n(Se),we=a(24),Ce=a(282),Ne=a.n(Ce),ke=Ne.a.create({baseURL:k.API_BASE_URL,headers:{"Content-Type":"application/json"}}),De=function(e){e?ke.defaults.headers.common={Authorization:"Bearer ".concat(e)}:delete ke.defaults.headers.common.Authorization},Fe=ke,Ae=function(){var e=Object(we.a)(Ie.a.mark((function e(t){var a;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.post("/auth/login",t);case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(we.a)(Ie.a.mark((function e(){var t;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.get("/users/token");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=Object(T.b)({name:"auth",initialState:{user:{},token:null,isLoading:!1,error:null},reducers:{loginStart:function(e,t){e.isLoading=!0},loginSuccess:function(e,t){e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.authToken,De(t.payload.authToken),localStorage.setItem("token",t.payload.authToken)},loginFailure:function(e,t){e.isLoading=!1,e.error=t.payload},logoutStart:function(e,t){e.isLoading=!0},logoutSuccess:function(e,t){e.user={},e.token=null,e.isLoading=!1},logoutFailure:function(e,t){e.isLoading=!1,e.error=t.payload},checkAuthStart:function(e,t){e.isLoading=!0},checkAuthSuccess:function(e,t){e.user=t.payload,e.isLoading=!1},checkAuthFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),Le=Te.actions,Re=Le.checkAuthStart,Ee=Le.checkAuthSuccess,Me=Le.checkAuthFailure,_e=Le.loginStart,Be=Le.loginSuccess,ze=Le.loginFailure,We=Le.logoutFailure,He=Le.logoutStart,Ye=Le.logoutSuccess,Ge=Te.reducer,Ve=a(563),qe=a(608),Ue=function(e){var t=e.isVisible,a=e.title,r=e.message,c=e.handleNegativePressed,i=e.handlePositivePressed,s=Object(l.useState)(t),o=Object(p.a)(s,2),d=o[0],u=o[1],j=Object(m.b)();return Object(n.jsxs)(he.a,{open:d,onClose:function(){u(!t)},TransitionProps:{onExited:function(){j(_())}},children:[Object(n.jsx)(xe.a,{children:a}),Object(n.jsx)(fe.a,{children:Object(n.jsx)(ge.a,{children:r})}),Object(n.jsxs)(Ve.a,{children:[Object(n.jsx)(qe.a,{variant:"text",onClick:c,children:"Cancel"}),Object(n.jsx)(qe.a,{variant:"text",onClick:i,children:"Confirm"})]})]})},Ke=a(56),Je=Object(Ke.a)(),Qe=function(e){var t=e.isVisible,a=e.title,r=e.message,c=Object(m.b)();return Object(n.jsx)(Ue,{isVisible:t,title:a,message:r,handleNegativePressed:function(){c(_())},handlePositivePressed:function(){c(function(){var e=Object(we.a)(Ie.a.mark((function e(t){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();try{t(He()),t(Ye())}catch(a){t(We(a))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Je.replace("/auth/login"),c(_())}})},Xe=a(599),Ze=a(566),$e=a(600),et=a(86),tt=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a){var n;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.get("/items/search/".concat(a,"/").concat(t));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),at=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a){var n,r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(V.a)(Object(V.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive)}),e.next=3,Fe.post("/items/".concat(a),n);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),nt=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a){var n,r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(V.a)(Object(V.a)({},t),{},{price:Number(t.price),incentiveAmount:Number(t.incentiveAmount),incentiveRate:Number(t.incentiveRate),discount:Number(t.discount)}),e.next=3,Fe.patch("/items/item/".concat(a,"/").concat(t.ID),n);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),rt=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a){var n;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.delete("/items/item/".concat(a,"/").concat(t));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ct=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a){var n,r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(V.a)(Object(V.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive),discount:Number(t.discount)}),e.next=3,Fe.patch("/items/item/".concat(a,"/").concat(t.ID),n);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),it=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a,n,r,c){var i;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.post("/item-sales/".concat(t,"/").concat(a,"/").concat(n,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),st=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a,n,r){var c;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.delete("/item-sales/".concat(t,"/").concat(a,"?salesDate=").concat(n,"&salesDateCateg=").concat(r));case 2:if(!(c=e.sent).data.data){e.next=7;break}return e.abrupt("return",c.data.data);case 7:throw Error(c.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ot=function(e,t){e.isLoading=!1,e.error=t.payload},lt=Object(T.b)({name:"inventoryItems",initialState:{items:[],itemSales:[],isLoading:!1,error:null},reducers:{fetchItemsStart:function(e){e.isLoading=!0},fetchItemsSuccess:function(e,t){e.isLoading=!1,e.items=t.payload,e.error=null},fetchItemsFailure:ot,addItemStart:function(e,t){},addItemSuccess:function(e,t){},addItemFailure:ot,modifyItemStart:function(){},modifyItemSuccess:function(e,t){e.items=e.items.map((function(e,a){return a===t.payload.itemIndex?t.payload.newItem:e}))},modifyItemFailure:ot,discountItemStart:function(){},discountItemSuccess:function(e,t){e.items=e.items.map((function(e,a){return a===t.payload.itemIndex?t.payload.newItem:e}))},discountItemFailure:ot,deleteItemStart:function(){},deleteItemSuccess:function(e,t){e.items=e.items.filter((function(e){return e.ID!==t.payload}))},deleteItemFailure:ot}}),dt=lt.actions,ut=dt.fetchItemsStart,jt=dt.fetchItemsSuccess,mt=dt.fetchItemsFailure,bt=dt.addItemStart,pt=dt.addItemSuccess,Ot=dt.addItemFailure,ht=dt.modifyItemStart,xt=dt.modifyItemSuccess,ft=dt.modifyItemFailure,gt=dt.discountItemStart,vt=dt.discountItemFailure,yt=dt.discountItemSuccess,St=dt.deleteItemStart,It=dt.deleteItemSuccess,wt=dt.deleteItemFailure,Ct=lt.reducer,Nt=Object(I.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),kt=function(e){var t=e.onSubmit,a=e.classes,r=e.isIncentiveFixed,c=e.setIncentiveFixed,i=Object(et.a)({defaultValues:{remarks:"",salesCategory:"",incentiveRate:0,incentiveAmount:0}}),s=i.register,o=i.handleSubmit,l=i.errors;return Object(n.jsxs)("form",{noValidate:!0,className:a.addItemForm,id:"addItemForm",onSubmit:o(t),children:[Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:s({required:!0}),error:!!l.name}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:s({required:!0,min:0}),error:!!l.inStock}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(n.jsx)(y.a,{children:"\u20b1"})},inputRef:s({required:!0,min:0}),error:!!l.price}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Sales Category",name:"salesCategory",size:"small",inputRef:s}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ze.a,{className:a.addItemFormField,control:Object(n.jsx)($e.a,{checked:r,onChange:function(){c(!r)}}),label:"Fixed Incentive Rate"}),Object(n.jsxs)("div",{className:a.incentiveFieldsWrapper,children:[Object(n.jsx)(Xe.a,{disabled:r,className:a.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(n.jsx)(y.a,{children:"%"})},inputRef:s({required:!0,max:100,min:0}),error:!!l.incentiveRate}),Object(n.jsx)(Xe.a,{disabled:!r,className:a.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:s({required:!0,min:0}),error:!!l.incentiveAmount})]})]}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:s})]})},Dt=Object(I.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1em"},deleteBtn:{borderColor:"red",color:"red"}}})),Ft=a(118),At=Object(I.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),Pt=function(e){var t=e.onSubmit,a=e.classes,r=e.itemDetails,c=e.isIncentiveFixed,i=e.setIncentiveFixed,s=Object(et.a)({defaultValues:{remarks:null!==r.remarks?r.remarks:"",salesCategory:null!==r.salesCategory?r.salesCategory:"",price:null!==r.price?r.price:0,name:null!==r.name?r.name:"",incentiveRate:null!==r.incentiveRate?r.incentiveRate:0,incentiveAmount:null!==r.incentiveAmount?r.incentiveAmount:0,inStock:null!==r.inStock?r.inStock:0}}),o=s.register,l=s.handleSubmit,d=s.errors;return Object(n.jsxs)("form",{noValidate:!0,className:a.addItemForm,id:"modifyItemForm",onSubmit:l(t),children:[Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:o({required:!0}),error:!!d.name}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:o({required:!0,min:0}),error:!!d.inStock}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(n.jsx)(y.a,{children:"\u20b1"})},inputRef:o({required:!0,min:0}),error:!!d.price}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Item Sales Category",name:"salesCategory",size:"small",inputRef:o}),Object(n.jsx)(Ze.a,{className:a.addItemFormField,control:Object(n.jsx)($e.a,{checked:c,onChange:function(){i(!c)}}),label:"Fixed Incentive Rate"}),Object(n.jsxs)("div",{className:a.incentiveFieldsWrapper,children:[Object(n.jsx)(Xe.a,{disabled:c,className:a.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(n.jsx)(y.a,{children:"%"})},inputRef:o({required:!0,max:100,min:0}),error:!!d.incentiveRate}),Object(n.jsx)(Xe.a,{disabled:!c,className:a.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:o({required:!0,min:0}),error:!!d.incentiveAmount})]}),Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:o})]})},Tt=Object(I.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em"}}})),Lt=function(e){var t=e.onSubmit,a=e.classes,r=e.itemDetails,c=Object(et.a)({defaultValues:{discount:null!==r.discount?r.discount:0}}),i=c.register,s=c.handleSubmit,o=c.errors;return Object(n.jsx)("form",{noValidate:!0,className:a.addItemForm,id:"discountItemForm",onSubmit:s(t),children:Object(n.jsx)(Xe.a,{className:a.addItemFormField,variant:"outlined",label:"Discount Amount",name:"discount",size:"small",type:"number",helperText:o.discount?"Please input a value between 0.01 and 100":"",InputProps:{endAdornment:Object(n.jsx)(y.a,{children:Object(n.jsx)("strong",{children:"%"})})},inputRef:i({required:!0,min:0,max:100}),autoFocus:!0,error:!!o.discount})})},Rt=Object(T.b)({name:"inventorySearchResultSlice",initialState:{isLoading:!1,result:[],error:null},reducers:{searchItemsStart:function(e){e.isLoading=!0},searchItemsSuccess:function(e,t){e.isLoading=!1,e.result=t.payload,e.error=null},searchItemsFailure:function(e,t){e.isLoading=!1,e.error=t.payload},clearItemsSearch:function(e,t){e.result=[],e.isLoading=!1,e.error=null}}}),Et=Rt.reducer,Mt=Rt.actions,_t=Mt.searchItemsFailure,Bt=Mt.searchItemsStart,zt=Mt.searchItemsSuccess,Wt=Mt.clearItemsSearch,Ht=function(e){return function(){var t=Object(we.a)(Ie.a.mark((function t(a,n){var r,c;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.user,t.prev=1,a(Bt()),t.next=5,tt(e,r.branchName);case 5:c=t.sent,a(zt(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(_t(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()},Yt=function(e,t){e.isLoading=!1,e.error=t.payload},Gt=Object(T.b)({name:"inventorySales",initialState:{isLoading:!1,itemSales:[],dailySales:0,metadata:{salesDateCateg:"daily"},error:null},reducers:{fetchItemSalesStart:function(e){e.isLoading=!0},fetchItemSalesSuccess:function(e,t){e.isLoading=!1,e.itemSales=t.payload.itemSales,e.dailySales=t.payload.dailySales,e.metadata=t.payload.metadata,e.error=null},fetchItemSalesError:Yt,addItemSaleStart:function(){},addItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},addItemSaleFailure:Yt,deleteItemSaleStart:function(){},deleteItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},deleteItemSaleFailure:Yt}}),Vt=Gt.reducer,qt=Gt.actions,Ut=qt.fetchItemSalesError,Kt=qt.fetchItemSalesStart,Jt=qt.fetchItemSalesSuccess,Qt=qt.addItemSaleFailure,Xt=qt.addItemSaleStart,Zt=qt.addItemSaleSuccess,$t=qt.deleteItemSaleFailure,ea=qt.deleteItemSaleStart,ta=qt.deleteItemSaleSuccess,aa=function(e){var t=e.salesDate,a=e.salesDateCateg;return function(){var e=Object(we.a)(Ie.a.mark((function e(n,r){var c,i;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{n(Kt()),new WebSocket("".concat(k.WS_BASE_URL,"/item-sales/").concat(c.branchName,"?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(a)).onmessage=function(e){var t=JSON.parse(e.data);n(Jt(t.data))}}catch(s){n(Ut(s))}case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},na=function(e,t){return function(){var a=Object(we.a)(Ie.a.mark((function a(n,r){var c,i,s;return Ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r().auth.user,i=r().inventorySales.metadata,n(Xt()),n(_()),n(M({modalType:"LOADING_MODAL"})),a.next=8,it(c.branchName,e,t,i.salesDate,i.salesDateCateg);case 8:s=a.sent,n(Zt(s)),n(_()),n(M({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction Complete!",duration:3e3}})),n(Wt()),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(0),n(Qt(a.t0)),n(M({modalType:"ERROR_MODAL",modalProps:{message:a.t0.message,duration:3e3}}));case 19:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e,t){return a.apply(this,arguments)}}()},ra={ADD_ITEM_MODAL:function(e){var t=e.isVisible,a=Object(l.useState)(t),r=Object(p.a)(a,2),c=r[0],i=r[1],s=Object(l.useState)(!1),o=Object(p.a)(s,2),d=o[0],u=o[1],j=Nt(),b=Object(m.b)(),O=function(){i(!t)};return Object(n.jsxs)(he.a,{open:c,onClose:O,TransitionProps:{onExited:function(){b(_())}},children:[Object(n.jsx)(xe.a,{children:"Add Item"}),Object(n.jsx)(fe.a,{children:Object(n.jsx)(kt,{onSubmit:function(e){var a,n=Object(V.a)({},e);n.isIncentiveFixed=d,d?n.incentiveRate=0:n.incentiveAmount=0,b((a=n,function(){var e=Object(we.a)(Ie.a.mark((function e(t,n){var r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().auth.user,e.prev=1,t(bt()),t(M({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,at(a,r.branchName);case 6:t(M({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Added!",duration:3e3}})),t(pt()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(M({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),t(Ot(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}())),i(!t)},classes:j,isIncentiveFixed:d,setIncentiveFixed:u})}),Object(n.jsxs)(Ve.a,{children:[Object(n.jsx)(qe.a,{onClick:O,children:"Cancel"}),Object(n.jsx)(qe.a,{form:"addItemForm",type:"submit",children:"Add Item"})]})]})},ADD_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,a=e.title,r=e.message,c=e.itemDetails,i=Object(m.b)();return Object(n.jsx)(Ue,{isVisible:t,title:a,message:r,handleNegativePressed:function(){i(_())},handlePositivePressed:function(){i(na(c.itemId,c.quantity))}})},DELETE_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,a=e.title,r=e.message,c=e.itemIndex,i=Object(m.b)(),s=Object(m.c)((function(e){return e.inventorySales})).itemSales;return Object(n.jsx)(Ue,{isVisible:t,title:a,message:r,handleNegativePressed:function(){i(_())},handlePositivePressed:function(){var e;i((e=s[c].ID,function(){var t=Object(we.a)(Ie.a.mark((function t(a,n){var r,c,i;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.user,c=n().inventorySales.metadata,a(ea()),a(_()),a(M({modalType:"LOADING_MODAL"})),t.next=8,st(r.branchName,e,c.salesDate,c.salesDateCateg);case 8:i=t.sent,a(ta(i)),a(_()),a(M({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction deleted successfully!",duration:3e3}})),a(Wt()),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),a($t(t.t0)),a(M({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}}));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,a){return t.apply(this,arguments)}}()))}})},MANAGE_ITEM_MODAL:function(e){var t=e.isVisible,a=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Dt(),u=Object(m.b)();return Object(n.jsxs)(he.a,{open:s,onClose:function(){o(!t)},TransitionProps:{onExited:function(){u(_())}},fullWidth:!0,children:[Object(n.jsx)(xe.a,{children:"Manage Item"}),Object(n.jsxs)(fe.a,{className:d.content,children:[Object(n.jsx)(qe.a,{fullWidth:!0,variant:"contained",onClick:function(){o(!t),u(M({modalType:"MODIFY_ITEM_MODAL",modalProps:{item:a,itemIndex:r}}))},children:"Modify Item"}),Object(n.jsx)("br",{}),Object(n.jsx)(qe.a,{fullWidth:!0,variant:"outlined",onClick:function(){o(!t),u(M({modalType:"DISCOUNT_ITEM_MODAL",modalProps:{item:a,itemIndex:r}}))},children:"Discount Item"}),Object(n.jsx)("br",{}),Object(n.jsx)(qe.a,{className:d.deleteBtn,fullWidth:!0,variant:"outlined",onClick:function(e){o(!t),console.log(a.ID),u(function(e){return function(){var t=Object(we.a)(Ie.a.mark((function t(a,n){var r;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.user,t.prev=1,a(St()),a(M({modalType:"LOADING_MODAL",modalProps:{}})),t.next=6,rt(e,r.branchName);case 6:a(M({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Deleted!",duration:3e3}})),a(It(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a(M({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}})),a(wt());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(a.ID))},children:"Delete Item"})]})]})},MODIFY_ITEM_MODAL:function(e){var t=e.isVisible,a=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Object(l.useState)(a.isIncentiveFixed),u=Object(p.a)(d,2),j=u[0],b=u[1],O=At(),h=Object(m.b)(),x=function(){o(!t)};return Object(n.jsxs)(he.a,{open:s,onClose:x,TransitionProps:{onExited:function(){h(_())}},fullWidth:!0,children:[Object(n.jsx)(xe.a,{children:"Modify Item"}),Object(n.jsx)(fe.a,{children:Object(n.jsx)(Pt,{onSubmit:function(e){var n=Object(V.a)(Object(V.a)({},a),e);n.isIncentiveFixed=j,j?n.incentiveRate=0:n.incentiveAmount=0,h(function(e,t){return function(){var a=Object(we.a)(Ie.a.mark((function a(n,r){var c,i;return Ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().auth.user,a.prev=1,n(ht()),n(M({modalType:"LOADING_MODAL",modalProps:{}})),a.next=6,nt(e,c.branchName);case 6:i=a.sent,n(M({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Modified!",duration:3e3}})),n(xt({newItem:i,itemIndex:t})),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n(M({modalType:"ERROR_MODAL",modalProps:{message:a.t0.message,duration:3e3}})),n(ft());case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(n,r)),o(!t)},classes:O,itemDetails:a,isIncentiveFixed:j,setIncentiveFixed:b})}),Object(n.jsxs)(Ve.a,{children:[Object(n.jsx)(qe.a,{onClick:x,children:"Cancel"}),Object(n.jsx)(qe.a,{form:"modifyItemForm",type:"submit",children:"Modify Item"})]})]})},DISCOUNT_ITEM_MODAL:function(e){var t=e.isVisible,a=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Tt(),u=Object(m.b)(),j=function(){o(!t)};return Object(n.jsxs)(he.a,{open:s,onClose:j,TransitionProps:{onExited:function(){u(_())}},children:[Object(n.jsx)(xe.a,{children:"Discount Item"}),Object(n.jsx)(fe.a,{children:Object(n.jsx)(Lt,{onSubmit:function(e){var n=e.discount;o(!t),u(function(e,t){return function(){var a=Object(we.a)(Ie.a.mark((function a(n,r){var c,i;return Ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().auth.user,a.prev=1,n(gt()),n(M({modalType:"LOADING_MODAL",modalProps:{}})),a.next=6,ct(e,c.branchName);case 6:i=a.sent,n(M({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Discounted!",duration:3e3}})),n(yt({newItem:i,itemIndex:t})),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n(M({modalType:"ERROR_MODAL",modalProps:{message:a.t0.message,duration:3e3}})),n(vt());case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(Object(V.a)(Object(V.a)({},a),{},{discount:n}),r))},classes:d,itemDetails:a})}),Object(n.jsxs)(Ve.a,{children:[Object(n.jsx)(qe.a,{onClick:j,children:"Cancel"}),Object(n.jsx)(qe.a,{form:"discountItemForm",type:"submit",children:"Discount Item"})]})]})},LOADING_MODAL:function(e){var t=e.isVisible,a=Object(l.useState)(t),r=Object(p.a)(a,2),c=r[0],i=r[1],s=ye(),o=Object(m.b)();return Object(n.jsxs)(he.a,{open:c,onClose:function(){i(!t)},TransitionProps:{onExited:function(){o(_())}},fullWidth:!1,children:[Object(n.jsx)(xe.a,{children:"Loading..."}),Object(n.jsx)(fe.a,{className:s.loadingIndicator,children:Object(n.jsx)(ve.a,{color:"secondary"})})]})},ERROR_MODAL:function(e){var t=e.isVisible,a=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Object(m.b)();return Object(n.jsxs)(he.a,{open:s,onClose:function(){o(!t)},onEnter:function(){setTimeout((function(){o(!t)}),r||2e3)},TransitionProps:{onExited:function(){d(_())}},children:[Object(n.jsx)(xe.a,{children:"Error!"}),Object(n.jsx)(fe.a,{children:Object(n.jsx)(ge.a,{children:a})})]})},SUCCESS_MODAL:function(e){var t=e.isVisible,a=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Object(m.b)();return Object(n.jsxs)(he.a,{open:s,onClose:function(){o(!t)},disableBackdropClick:!0,TransitionProps:{onExited:function(){d(_())},onEnter:function(){setTimeout((function(){o(!t)}),r||2e3)}},children:[Object(n.jsx)(xe.a,{children:"Success!"}),Object(n.jsx)(fe.a,{children:Object(n.jsx)(ge.a,{children:a})})]})},LOGOUT_MODAL:Qe},ca=function(){var e=Object(m.c)((function(e){return e.modals})),t=e.modalProps,a=e.modalType;if(!a)return null;var r=ra[a];return Object(n.jsx)(r,Object(V.a)({isVisible:""!==a},t))},ia=function(e){var t=Object(m.c)((function(e){return e.auth})).user;return 0!==Object.keys(t).length&&t.constructor===Object?Object(n.jsx)(b.b,{path:e.path,exact:e.exact,component:e.component}):Object(n.jsx)(b.a,{to:"/auth/login"})},sa=a(218),oa=a(567),la=a(283),da=a.n(la),ua=a(284),ja=a.n(ua),ma=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"100%"},textField:{paddingBottom:"1em"}}})),ba=function(e){var t=e.onSubmit,a=ma(),r=Object(l.useState)(!1),c=Object(p.a)(r,2),i=c[0],s=c[1],o=Object(et.a)(),d=o.register,u=o.errors,j=o.handleSubmit;return Object(n.jsxs)("form",{id:"loginForm",className:a.root,onSubmit:j(t),children:[Object(n.jsx)(Xe.a,{className:a.textField,variant:"outlined",label:"Username",name:"username",size:"small",helperText:u.username?"This field is required!":"",inputRef:d({required:!0}),error:!!u.username}),Object(n.jsx)(Xe.a,{className:a.textField,variant:"outlined",label:"Password",name:"password",size:"small",helperText:u.password?"This field is required!":"",type:i?"text":"password",inputRef:d({required:!0}),InputProps:{endAdornment:Object(n.jsx)(oa.a,{children:Object(n.jsx)(v.a,{onClick:function(){s(!i)},children:i?Object(n.jsx)(da.a,{color:"secondary"}):Object(n.jsx)(ja.a,{color:"secondary"})})})},error:!!u.password})]})},pa=a.p+"static/media/login_background.102072f5.png",Oa=a.p+"static/media/logo.68ea1519.png",ha=Object(I.a)((function(e){return{root:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},background:{height:"100vh",width:"100%",position:"absolute",top:"0",left:"0",backgroundImage:"url(".concat(pa,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"blur(4px)"},container:{display:"grid",width:"100%",height:"100%",maxHeight:"500px",maxWidth:"500px",gridTemplate:"1fr 1fr 1fr/ 1fr",placeContent:"center",padding:"1em",zIndex:2},loading:{display:"grid",width:"100%",height:"100%",placeContent:"center"},centerItem:{display:"grid",placeSelf:"center"},logo:{position:"fixed",top:"0",margin:"1em auto",width:"80px",height:"80px",zIndex:2}}})),xa=function(){var e=ha(),t=Object(m.b)(),a=Object(m.c)((function(e){return e.auth})),r=a.user,c=a.isLoading,i=(a.error,function(e){var a;t((a=e,function(){var e=Object(we.a)(Ie.a.mark((function e(t){var n;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_e()),e.next=4,Ae(a);case 4:n=e.sent,t(Be(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(ze(e.t0.message)),t(M({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message}}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))});return Object(n.jsxs)(sa.a,{className:e.root,elevation:0,children:[Object(n.jsx)("img",{className:e.logo,src:Oa}),Object(n.jsx)("div",{className:e.background}),c?Object(n.jsx)("div",{className:e.loading,children:Object(n.jsx)(ve.a,{color:"primary"})}):0===Object.keys(r).length?Object(n.jsxs)(sa.a,{variant:"outlined",className:e.container,children:[Object(n.jsx)(y.a,{className:e.centerItem,align:"center",variant:"h5",children:"Petshield Veterinary Clinic"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ba,{onSubmit:i}),Object(n.jsx)(qe.a,{color:"primary",form:"loginForm",type:"submit",variant:"contained",fullWidth:!0,children:"Login"})]})]}):Object(n.jsx)(b.a,{to:"/content/home/dashboard"})]})},fa=Object(I.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"}}})),ga=function(){var e=fa();return Object(n.jsx)(sa.a,{className:e.root})},va=Object(I.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"}}})),ya=function(){var e=va();return Object(n.jsx)(sa.a,{className:e.root})},Sa=Object(I.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"}}})),Ia=function(){var e=Sa();return Object(n.jsx)(sa.a,{className:e.root})},wa=Object(I.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"}}})),Ca=function(){var e=wa();return Object(n.jsx)(sa.a,{className:e.root})},Na=a(569),ka=a(603),Da=a(593),Fa=a(55),Aa=a.n(Fa),Pa=function(){var e=Object(we.a)(Ie.a.mark((function e(t,a,n){var r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.get("/stats/".concat(t,"/item-sales?salesDate=").concat(a,"&salesDateCateg=").concat(n));case 2:if(r=e.sent,console.log(r),!r.data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ta=Object(T.b)({name:"homeSalesStats",initialState:{isLoading:!1,stats:{},error:null},reducers:{fetchItemSalesStatsStart:function(e){e.isLoading=!0},fetchItemSalesStatsSuccess:function(e,t){e.isLoading=!1,e.stats=t.payload},fetchItemSalesStatsFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),La=Ta.reducer,Ra=Ta.actions,Ea=Ra.fetchItemSalesStatsFailure,Ma=Ra.fetchItemSalesStatsStart,_a=Ra.fetchItemSalesStatsSuccess,Ba=Object(I.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"}}})),za=function(e){var t=e.setSalesDateCateg,a=e.salesDateCateg,r=e.salesDate,c=e.setSalesDate,i=Ba(),s=Object(m.b)();return Object(l.useEffect)((function(){s(function(e,t){return function(){var a=Object(we.a)(Ie.a.mark((function a(n,r){var c,i;return Ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().auth.user,a.prev=1,n(Ma()),a.next=5,Pa(c.branchName,e,t);case 5:i=a.sent,n(_a(i)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n(Ea(a.t0));case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e,t){return a.apply(this,arguments)}}()}(r,a))}),[s,r,a]),Object(n.jsxs)("div",{className:i.root,children:[Object(n.jsxs)(ka.a,{value:a,onChange:function(e){var a=e.target.value;t(a)},variant:"outlined",children:[Object(n.jsx)(x.a,{value:"monthly",children:"Monthly"}),Object(n.jsx)(x.a,{value:"yearly",children:"Yearly"})]}),Object(n.jsx)(Da.a,{value:r,allowKeyboardControl:!1,renderInput:function(e){return Object(n.jsx)(Xe.a,Object(V.a)(Object(V.a)({},e),{},{helperText:"",variant:"outlined"}))},views:{monthly:["month","year"],yearly:["year"]}[a],onChange:function(e){c(Aa()(e).format("MM-DD-YYYY"))}})]})},Wa=a(601),Ha=a(570),Ya=a(574),Ga=a(295),Va=a(296),qa=a(186),Ua=a(148),Ka=a(306),Ja=a(604),Qa=a(307),Xa=Object(I.a)((function(e){return{root:{padding:e.spacing(2)}}})),Za=function(e){var t=e.payload,a=e.active,r=Xa();if(a&&t){var c=t[0].payload.name,i=t[0].payload.sales;return Object(n.jsxs)(Na.a,{className:r.root,children:[Object(n.jsx)(y.a,{variant:"h6",align:"center",children:c}),Object(n.jsx)("br",{}),function(){if(0!==Object.keys(i).length){var e=Object.keys(i).filter((function(e){return"Net Sales"!==e})).map((function(e){return Object(n.jsx)(y.a,{children:"".concat(e,": ").concat(i[e])},e)}));return Object(n.jsxs)(n.Fragment,{children:[e,Object(n.jsx)(y.a,{children:"Net Sales: ".concat(void 0!==i["Net Sales"]?i["Net Sales"]:0)})]})}return Object(n.jsx)(y.a,{children:"No Sales"})}()]})}return null},$a=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-evenly",gridGap:"1em"},tooltip:{backgroundColor:"red"}}})),en=function(){var e=$a(),t=Object(m.c)((function(e){return e.homeSalesStats})),a=t.isLoading,r=t.stats,c=Object(l.useState)([]),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Object(l.useState)([]),u=Object(p.a)(d,2),j=u[0],b=u[1];Object(l.useEffect)((function(){var e={Grooming:"#8884D8","VET Sales":"#8CDEDC","Store Sales":"#B2ECE1","Blood Test":"#D295BF",default:"#DE9151"};0!==Object.keys(r).length&&function(){for(var t=r.data.map((function(e){return{name:e.category,sales:e.value,netSales:void 0!==e.value["Net Sales"]?e.value["Net Sales"]:0}})),a={},n=function(e){0!==Object.keys(r.data[e].value).length&&Object.keys(r.data[e].value).filter((function(e){return"Net Sales"!==e})).forEach((function(t){a[t]||(a[t]=0),a[t]+=r.data[e].value[t]}))},c=0;c<r.data.length;c++)n(c);var i=Object.keys(a).map((function(t){return{name:t,value:a[t],fill:void 0!==e[t]?e[t]:e.default}}));b(i),o(t)}()}),[r,a,b,o]);return Object(n.jsx)("div",{className:e.root,children:a?Object(n.jsx)(ve.a,{}):0!==s.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Wa.a,{width:"100%",height:400,children:Object(n.jsxs)(Ha.a,{data:s,children:[Object(n.jsx)(Ya.a,{strokeDasharray:"3 3"}),Object(n.jsx)(Ga.a,{dataKey:"name",type:"category"}),Object(n.jsx)(Va.a,{type:"number",dataKey:"netSales",name:"Net Sales"}),Object(n.jsx)(qa.a,{content:Object(n.jsx)(Za,{})}),Object(n.jsx)(Ua.a,{}),Object(n.jsx)(Ka.a,{type:"monotone",dataKey:"netSales"})]})}),Object(n.jsx)(Wa.a,{width:"100%",height:400,children:Object(n.jsxs)(Ja.a,{children:[Object(n.jsx)(qa.a,{}),Object(n.jsx)(Ua.a,{}),Object(n.jsx)(Qa.a,{data:j,dataKey:"value"})]})})]}):null})},tn=Object(I.a)((function(e){return{root:Object(O.a)({padding:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"}),graphWrapper:{},title:{margin:"".concat(e.spacing(2)," 0")}}})),an=function(){var e=Aa()(Date.now()).format("MM-DD-YYYY"),t=Object(l.useState)("monthly"),a=Object(p.a)(t,2),r=a[0],c=a[1],i=Object(l.useState)(e),s=Object(p.a)(i,2),o=s[0],d=s[1],u=tn();return Object(n.jsxs)(Na.a,{className:u.root,children:[Object(n.jsx)(za,{salesDate:o,setSalesDate:d,salesDateCateg:r,setSalesDateCateg:c})," ",Object(n.jsx)(y.a,{variant:"h5",align:"center",className:u.title,children:"".concat(r.toUpperCase()," Sales")}),Object(n.jsx)("div",{className:u.graphWrapper,children:Object(n.jsx)(en,{})})]})},nn=Object(I.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"}}})),rn=function(){var e=nn();return Object(n.jsx)(sa.a,{className:e.root,children:Object(n.jsx)(an,{})})},cn=a(580),sn=a.p+"static/media/consultations.524fbfbc.svg",on=a(605),ln=a(313),dn=a(575),un=a(576),jn=a(577),mn=a(578),bn=a(579),pn=a.p+"static/media/rx_icon.edf0143d.png",On=a(21),hn=a.n(On),xn=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},owner:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),fn=function(){var e=xn();return Object(n.jsxs)(sa.a,{className:e.root,variant:"outlined",children:[Object(n.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(n.jsx)(on.a,{className:e.petAvatar}),Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{variant:"h6",children:"PetName"}),Object(n.jsx)(y.a,{className:e.owner,children:"Owner: Paolo"})]})]}),Object(n.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(n.jsx)(ln.a,{className:e.consultationButton,children:Object(n.jsx)(dn.a,{})}),Object(n.jsx)(ln.a,{className:e.consultationButton,children:Object(n.jsx)(un.a,{})}),Object(n.jsx)(ln.a,{className:e.consultationButton,children:Object(n.jsx)(jn.a,{})}),Object(n.jsx)(ln.a,{className:hn()(e.consultationButton,e.finish),children:Object(n.jsx)(mn.a,{})}),Object(n.jsx)(ln.a,{className:e.consultationButton,children:Object(n.jsx)(bn.a,{})}),Object(n.jsx)(ln.a,{className:hn()(e.consultationButton,e.rxIcon),children:Object(n.jsx)("img",{src:pn,alt:"rx"})})]})]})},gn=Object(I.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},consultationList:{marginTop:"1em"}}})),vn=function(){var e=gn();return Object(n.jsx)(Na.a,{className:e.root,children:Object(n.jsxs)(cn.a,{children:[Object(n.jsxs)("div",{className:e.title,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{variant:"h5",children:"Consultations"}),Object(n.jsxs)(y.a,{className:e.subTitle,variant:"body1",children:["Pets to consult:"," "]})]}),Object(n.jsx)(be.a,{src:sn,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(n.jsx)(q.a,{}),Object(n.jsx)(U.a,{className:e.consultationList,children:Object(n.jsx)(fn,{})})]})})},yn=a.p+"static/media/admitted.d82cca45.svg",Sn=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),In=function(){var e=Sn();return Object(n.jsxs)(sa.a,{className:e.root,variant:"outlined",children:[Object(n.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(n.jsx)(on.a,{className:e.petAvatar}),Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{variant:"h6",children:"PetName"}),Object(n.jsx)(y.a,{className:e.subTitle,children:"Owner: Paolo"}),Object(n.jsx)(y.a,{className:e.subTitle,children:"Days admitted: 0"})]})]}),Object(n.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(n.jsx)(ln.a,{className:e.consultationButton,children:Object(n.jsx)(jn.a,{})}),Object(n.jsx)(ln.a,{className:e.consultationButton,children:Object(n.jsx)(un.a,{})}),Object(n.jsx)(ln.a,{className:e.consultationButton,children:Object(n.jsx)(dn.a,{})}),Object(n.jsx)(ln.a,{className:hn()(e.consultationButton,e.rxIcon),children:Object(n.jsx)("img",{src:pn,alt:"rx"})})]})]})},wn=Object(I.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},admittancesList:{marginTop:"1em"}}})),Cn=function(){var e=wn();return Object(n.jsx)(Na.a,{className:e.root,children:Object(n.jsxs)(cn.a,{children:[Object(n.jsxs)("div",{className:e.title,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{variant:"h5",children:"Admitted"}),Object(n.jsx)(y.a,{className:e.subTitle,variant:"body1",children:"Pets admitted:"})]}),Object(n.jsx)(be.a,{src:yn,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(n.jsx)(q.a,{}),Object(n.jsx)(U.a,{className:e.admittancesList,children:Object(n.jsx)(In,{})})]})})},Nn=Object(I.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},container:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(3)}}})),kn=function(){var e=Nn();return Object(n.jsx)(sa.a,{className:e.root,children:Object(n.jsxs)("div",{className:e.container,children:[Object(n.jsx)(vn,{}),Object(n.jsx)(Cn,{})]})})},Dn=function(e){var t=e.match;return Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"".concat(t.url,"/dashboard"),component:rn}),Object(n.jsx)(b.b,{path:"".concat(t.url,"/pet-queues"),component:kn}),Object(n.jsx)(b.a,{to:"".concat(t.url,"/dashboard")})]})},Fn=function(e){var t=e.match;return Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"".concat(t.url,"/all-clients"),component:Ia}),Object(n.jsx)(b.b,{path:"".concat(t.url,"/agreement-form"),component:ya}),Object(n.jsx)(b.b,{path:"".concat(t.url,"/appointments"),component:ga}),Object(n.jsx)(b.b,{path:"".concat(t.url,"/payments"),component:Ca})]})},An=a(305),Pn=(a(300),Object(I.a)((function(e){return{root:{paddingBottom:"1em"}}})),a(99)),Tn=a(582),Ln=a(583),Rn=a(584),En=a(585),Mn=a(586),_n=a(301),Bn=a.n(_n),zn=a(178),Wn=a.n(zn),Hn=a(179),Yn=a.n(Hn),Gn=Object(I.a)((function(){return{root:{display:"flex",width:"100%",paddingTop:"1em",alignItems:"center",justifyContent:"space-between"}}})),Vn=function(e){var t=e.gotoPage,a=e.nextPage,r=e.previousPage,c=e.canNextPage,i=e.canPreviousPage,s=e.pageCount,o=e.pageSize,l=e.pageIndex,d=e.itemsCount,u=Gn();Object(m.b)();return Object(n.jsxs)("div",{className:u.root,children:[function(){var e=o*(l+1)>=d?d:o*(l+1);return Object(n.jsx)(y.a,{children:"Showing ".concat(e," out of ").concat(d," items")})}(),Object(n.jsxs)("div",{children:[Object(n.jsx)(qe.a,{variant:"outlined",onClick:function(){return t(0)},disabled:!i,children:"FIRST"}),Object(n.jsx)(qe.a,{variant:"outlined",onClick:function(){return r()},disabled:!i,children:"PREV"}),Object(n.jsx)(qe.a,{variant:"outlined",onClick:function(){return a()},disabled:!c,children:"NEXT"}),Object(n.jsx)(qe.a,{variant:"outlined",onClick:function(){return t(s-1)},disabled:!c,children:"LAST"})]})]})},qn=a(176),Un=a.n(qn),Kn=a(581),Jn=Object(I.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItem:"center"},container:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItem:"center",marginBottom:"1em"},itemCount:{display:"flex",alignItems:"center"}}})),Qn=function(e){var t=e.setPageSize,a=e.pageSize,r=e.handleSearchItemChanged,c=Jn(),i=Object(m.b)();return Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsxs)("div",{className:c.container,children:[Object(n.jsx)("div",{}),Object(n.jsx)(qe.a,{className:c.addItemButton,variant:"outlined",endIcon:Object(n.jsx)(Un.a,{}),onClick:function(e){i(M({modalType:"ADD_ITEM_MODAL",modalProps:{}}))},children:"Add Item"})]}),Object(n.jsxs)("div",{className:c.container,children:[Object(n.jsxs)("div",{className:c.itemCount,children:[Object(n.jsx)(y.a,{children:"Show \xa0"}),Object(n.jsx)(ka.a,{value:a,onChange:function(e){t(e.target.value)},children:[10,20,30,40,50].map((function(e){return Object(n.jsx)(x.a,{value:e,children:e},e)}))}),Object(n.jsx)(y.a,{children:"\xa0 entries"})]}),Object(n.jsx)("div",{children:Object(n.jsx)(Xe.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(n.jsx)(oa.a,{children:Object(n.jsx)(Kn.a,{color:"primary"})})},onChange:function(e){r(e.target.value)}})})]})]})},Xn=a(183),Zn=Object(I.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#1d1d1d",padding:"1.5em",overflowX:"auto"},showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Xn.a[400],border:"2px solid red",borderColor:Xn.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"}}})),$n=function(e){var t=e.data,a=e.columns,r=e.items,c=Zn(),i=Object(m.b)(),s=Object(Pn.useTable)({data:t,columns:a,initialState:{pageIndex:0,pageSize:10}},Pn.useFilters,Pn.useSortBy,Pn.usePagination),o=s.getTableProps,l=s.headerGroups,d=s.prepareRow,u=s.rows,j=s.page,b=s.canPreviousPage,p=s.canNextPage,O=s.pageCount,h=s.gotoPage,x=s.nextPage,f=s.previousPage,g=s.setPageSize,v=s.setFilter,S=s.state,I=S.pageIndex,w=S.pageSize,C=function(e){if("col6"===e.column.id||"col8"===e.column.id)return Object(n.jsxs)(y.a,{children:["\u20b1",e.render("Cell")]});if("col7"===e.column.id){var t=e.row.values.col7/100*e.row.values.col6;return Object(n.jsxs)(y.a,{children:[e.render("Cell"),"%"," (".concat(t.toFixed(2),")")]})}return Object(n.jsx)(y.a,{children:e.render("Cell")})};return Object(n.jsxs)(sa.a,{className:c.root,children:[Object(n.jsx)(Qn,{pageSize:w,setPageSize:g,handleSearchItemChanged:function(e){v("col2",e)}}),Object(n.jsxs)(Tn.a,Object(V.a)(Object(V.a)({},o()),{},{children:[Object(n.jsx)(Ln.a,{children:l.map((function(e){return Object(n.jsxs)(Rn.a,{children:[e.headers.map((function(e){return Object(n.jsx)(En.a,Object(V.a)(Object(V.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(n.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(n.jsx)(Wn.a,{fontSize:"small"}):Object(n.jsx)(Yn.a,{fontSize:"small"}):null]},e.id)}),e.id)})),Object(n.jsx)(En.a,{})]},e.id)}))}),Object(n.jsx)(Mn.a,{children:j.map((function(e,t){return d(e),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Rn.a,Object(V.a)(Object(V.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(n.jsx)(En.a,{children:Object(n.jsx)("div",Object(V.a)(Object(V.a)({},e.getCellProps([{className:e.column.className},(a=e,"Out of Stock"===a.value?{className:c.outOfStock}:"In Stock"===a.value?{className:c.inStock}:"Discounted"===a.value?{className:c.itemDiscounted}:{className:""})])),{},{children:C(e)}))},"col".concat(t));var a})),Object(n.jsx)(En.a,{children:Object(n.jsx)(qe.a,{fullWidth:!0,endIcon:Object(n.jsx)(Bn.a,{}),variant:"contained",onClick:function(){var t;t=e.index,i(M({modalType:"MANAGE_ITEM_MODAL",modalProps:{item:r[t],itemIndex:t}}))},children:"Manage Item"})},e.id)]}),e.id)})}))})]})),Object(n.jsx)(Vn,{canPreviousPage:b,canNextPage:p,previousPage:f,nextPage:x,gotoPage:h,pageCount:O,pageSize:w,pageIndex:I,itemsCount:u.length})]})},er=function(e){var t=e.items,a={data:Object(l.useMemo)((function(){return t.map((function(e){var t="",a=e.discount>0?e.price*(e.discount/100):0;return t=e.discount>0&&e.inStock>0?"Discounted":0===e.discount&&e.inStock>0?"In Stock":"Out of Stock",{col1:e.ID,col2:e.name,col3:e.salesCategory,col4:e.inStock,col5:t,col6:Number(e.price).toFixed(2),col7:e.discount,col8:(e.price-a).toFixed(2)}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"ID",accessor:"col1"},{Header:"Name",accessor:"col2"},{Header:"Category",accessor:"col3"},{Header:"Stock",accessor:"col4"},{Header:"Status",accessor:"col5"},{Header:"Original Price",accessor:"col6"},{Header:"Discount",accessor:"col7"},{Header:"Total Price",accessor:"col8"}]}),[]),items:t};return Object(n.jsx)($n,Object(V.a)({},a))},tr=Object(I.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),ar=function(){var e=tr(),t=Object(m.b)(),a=Object(m.c)((function(e){return e.inventoryItems})),r=a.isLoading,c=a.items,i=a.error,s=Object(m.c)((function(e){return e.inventorySearch})),o=s.isLoading,d=s.result;s.error;Object(l.useEffect)((function(){t(Wt()),t(function(){var e=Object(we.a)(Ie.a.mark((function e(t,a){var n,r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a().auth.user,r=localStorage.getItem("token");try{t(ut()),new WebSocket("".concat(k.WS_BASE_URL,"/items/").concat(n.branchName,"?jwt=").concat(r)).onmessage=function(e){var a=JSON.parse(e.data);t(jt(a.data))}}catch(i){t(mt(i.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[t]);return Object(n.jsx)(sa.a,{elevation:0,className:e.root,children:r||o?Object(n.jsx)("div",{className:e.loadingIndicator,children:Object(n.jsx)(ve.a,{color:"secondary"})}):i?Object(n.jsx)("div",{children:"An Error has occured!"}):Object(n.jsx)(er,{items:d.length>0?d:c})})},nr=a(588),rr=a(597),cr=a(589),ir=Object(I.a)((function(e){return{root:Object(O.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),sr=function(e){var t=e.toggleAddItemSaleRow,a=ir();return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:Object(n.jsx)(qe.a,{variant:"outlined",startIcon:Object(n.jsx)(Un.a,{}),onClick:function(){t(!0)},children:"Add Transaction"})})]})},or=a(596),lr=a(587),dr=Object(I.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),ur=function(e){var t=e.showAddItemSaleRow,a=e.toggleAddItemSaleRow,r=Object(l.useState)({}),c=Object(p.a)(r,2),i=c[0],s=c[1],o=Object(l.useState)(1),d=Object(p.a)(o,2),u=d[0],j=d[1],b=Aa()(Date.now()).format("MM-DD-YYYY"),O=Object(m.c)((function(e){return e.inventorySearch})),h=O.result,x=O.isLoading,f=(O.error,dr()),g=Object(m.b)();if(!t)return null;var v=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(i.inStock)&&j(t)},S=function(){s({}),j(1)},I=function(){g(na(i.ID,u)),S(),g(Wt()),a(!1)},w=function(){S(),g(Wt()),a(!1)},C=Object(Ft.debounce)((function(e){g(""===e?Wt():Ht(e))}),800),N=function(e){C(e.target.value)};return Object(n.jsxs)(Rn.a,{className:f.root,children:[Object(n.jsx)(En.a,{children:Object(n.jsx)(y.a,{children:b})}),Object(n.jsx)(En.a,{children:Object(n.jsx)(or.a,{loading:x,options:h.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(n.jsx)(Xe.a,Object(V.a)(Object(V.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:N,InputProps:Object(V.a)(Object(V.a)({},e.InputProps),{},{endAdornment:Object(n.jsxs)(n.Fragment,{children:[x?Object(n.jsx)(ve.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,a){"select-option"===a&&s(t)}})}),function(){var e=i.price*u,t=e-(i.isIncentiveFixed?Number(i.incentiveAmount).toFixed(2):Number(e*(i.incentiveRate/100)).toFixed(2));return 0===Object.keys(i).length?null:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(En.a,{children:Object(n.jsxs)(y.a,{children:["\u20b1",Number(i.price).toFixed(2)]})}),Object(n.jsx)(En.a,{className:f.quantityCell,children:Object(n.jsx)(Xe.a,{size:"small",variant:"outlined",type:"number",value:u,onChange:v,fullWidth:!0})}),Object(n.jsx)(En.a,{children:Object(n.jsxs)(y.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(n.jsx)(En.a,{children:Object(n.jsx)(y.a,{children:"".concat(Number(i.incentiveRate).toFixed(2),"%")})}),Object(n.jsx)(En.a,{children:Object(n.jsx)(y.a,{children:i.isIncentiveFixed?"\u20b1".concat(Number(i.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(i.incentiveRate/100)).toFixed(2))})}),Object(n.jsx)(En.a,{children:Object(n.jsxs)(y.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(n.jsx)(En.a,{children:Object(n.jsx)(y.a,{children:i.salesCategory})}),Object(n.jsx)(En.a,{children:Object(n.jsxs)("div",{className:f.buttonRows,children:[Object(n.jsx)(qe.a,{className:f.submitButton,variant:"outlined",onClick:I,children:Object(n.jsx)(mn.a,{})}),Object(n.jsx)(qe.a,{className:f.cancelButton,variant:"outlined",onClick:w,children:Object(n.jsx)(lr.a,{})})]})})]})}()]})},jr=Object(I.a)((function(e){return{root:Object(O.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Xn.a[400],border:"2px solid red",borderColor:Xn.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),mr=function(e){var t=e.data,a=e.columns,r=jr(),c=Object(m.b)(),i=Object(l.useState)(0),s=Object(p.a)(i,2),o=s[0],d=s[1],u=Object(l.useState)(10),j=Object(p.a)(u,2),b=j[0],O=j[1],h=Object(l.useState)(!1),x=Object(p.a)(h,2),f=x[0],g=x[1],v=Object(Pn.useTable)({data:t,columns:a},Pn.useSortBy),S=v.getTableProps,I=v.headerGroups,w=v.prepareRow,C=v.rows,N=function(e){return Object(n.jsx)(y.a,{children:e.render("Cell")})};return Object(n.jsxs)(sa.a,{className:r.root,children:[Object(n.jsx)(sr,{toggleAddItemSaleRow:g}),Object(n.jsx)(nr.a,{children:Object(n.jsxs)(Tn.a,Object(V.a)(Object(V.a)({},S()),{},{stickyHeader:!0,children:[Object(n.jsx)(Ln.a,{children:I.map((function(e){return Object(n.jsxs)(Rn.a,{children:[e.headers.map((function(e){return Object(n.jsx)(En.a,Object(V.a)(Object(V.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(n.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(n.jsx)(Wn.a,{fontSize:"small"}):Object(n.jsx)(Yn.a,{fontSize:"small"}):null]})}))})),Object(n.jsx)(En.a,{})]})}))}),Object(n.jsxs)(Mn.a,{className:r.container,children:[Object(n.jsx)(ur,{showAddItemSaleRow:f,toggleAddItemSaleRow:g}),C.slice(o*b,o*b+b).map((function(e,t){return w(e),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Rn.a,Object(V.a)(Object(V.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(n.jsx)(En.a,{children:Object(n.jsx)("div",Object(V.a)(Object(V.a)({},e.getCellProps()),{},{children:N(e)}))},"col".concat(t))})),Object(n.jsx)(En.a,{children:Object(n.jsx)(qe.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(M({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(n.jsx)(cr.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(n.jsx)(rr.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:b,count:t.length,page:o,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){O(+e.target.value),d(0)}})]})},br=function(e){var t=e.itemSales,a={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:Aa()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.salesCategory}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),itemSales:t};return Object(n.jsx)(mr,Object(V.a)({},a))},pr=Object(I.a)((function(e){return{root:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"150px",alignItems:"center",padding:"1em",backgroundColor:"#1D1D1D","&::before":{content:'" "',position:"absolute",backgroundColor:e.palette.primary.main,height:"8px",width:"50%",top:"-3px",borderRadius:"20px"}}}})),Or=function(e){var t=e.title,a=e.value,r=pr();return Object(n.jsxs)(Na.a,{className:r.root,elevation:0,children:[Object(n.jsx)(y.a,{style:{fontWeight:"bold"},align:"center",children:t}),Object(n.jsx)(y.a,{children:"P".concat(Number(a).toFixed(2))})]})},hr=Object(I.a)((function(e){return{root:Object(O.a)({display:"grid",width:"100%",gridGap:"1.5em",paddingBottom:"1em"},e.breakpoints.up("sm"),{gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr 1fr"})}})),xr=function(){var e=hr(),t=Object(m.c)((function(e){return e.inventorySales})),a=t.dailySales,r=t.metadata,c=Object(l.useState)(0),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Object(l.useState)(0),u=Object(p.a)(d,2),j=u[0],b=u[1],O=Object(l.useState)(0),h=Object(p.a)(O,2),x=h[0],f=h[1],g=Object(l.useState)(0),v=Object(p.a)(g,2),y=v[0],S=v[1],I=Object(l.useState)(0),w=Object(p.a)(I,2),C=w[0],N=w[1],k=Object(l.useState)(""),D=Object(p.a)(k,2),F=D[0],A=D[1],P=Object(l.useCallback)((function(){var e=0;Object.keys(a).forEach((function(t){"Blood Test"===t?b(a[t].netSales):"Grooming"===t?f(a[t].netSales):"VET Sales"===t?S(a[t].netSales):"Store Sales"===t?N(a[t].netSales):(console.log(a[t]),e+=a[t].netSales)})),o(e-0)}),[o,a]),T=Object(l.useCallback)((function(){var e=String(r.salesDateCateg[0]).toUpperCase()+String(r.salesDateCateg).substring(1,r.salesDateCateg.length);A(e)}),[A.metadata]);return Object(l.useEffect)((function(){P(),T()}),[P,T]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(Or,{title:"".concat(F," Sales"),value:s}),Object(n.jsx)(Or,{title:"".concat(F," Sales - Blood Test"),value:j}),Object(n.jsx)(Or,{title:"".concat(F," Sales - Grooming"),value:x}),Object(n.jsx)(Or,{title:"".concat(F," Sales - Store Sales"),value:C}),Object(n.jsx)(Or,{title:"".concat(F," Sales - VET Sales"),value:y}),Object(n.jsx)(Or,{title:"".concat(F," Net Sales "),value:s+j+x+C+y})]})},fr=Object(I.a)((function(e){return{root:Object(O.a)({marginBottom:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),picker:{height:"100% !important"}}})),gr=function(){var e=fr(),t=Object(m.b)(),a=Aa()(Date.now()).format("MM-DD-YYYY"),r={daily:["date"],monthly:["month","year"],yearly:["year"]},c=Object(l.useState)("daily"),i=Object(p.a)(c,2),s=i[0],o=i[1],d=Object(l.useState)(a),u=Object(p.a)(d,2),j=u[0],b=u[1];return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsxs)(ka.a,{variant:"outlined",value:s,onChange:function(e){return a=e.target.value,o(a),void t(aa({salesDate:j,salesDateCateg:a}));var a},children:[Object(n.jsx)(x.a,{value:"overall",children:"All"}),Object(n.jsx)(x.a,{value:"yearly",children:"Yearly"}),Object(n.jsx)(x.a,{value:"monthly",children:"Monthly"}),Object(n.jsx)(x.a,{value:"daily",children:"Daily"})]}),"overall"===s?null:Object(n.jsx)(Da.a,{value:j,views:r[s],allowKeyboardControl:!1,renderInput:function(e){return Object(n.jsx)(Xe.a,Object(V.a)(Object(V.a)({},e),{},{helperText:"",variant:"outlined"}))},onChange:function(e){!function(e){var a=e.format("MM-DD-YYYY").toString();b(a),t(aa({salesDate:a,salesDateCateg:s}))}(e)}})]})},vr=Object(I.a)((function(e){return{root:Object(O.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),yr=function(){var e=vr(),t=Object(m.b)(),a=Object(m.c)((function(e){return e.inventorySales})),r=a.isLoading,c=a.itemSales,i=a.error;Object(l.useEffect)((function(){var e=Aa()(Date.now()).format("MM-DD-YYYY");t(aa({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(gr,{}),r?Object(n.jsx)("div",{className:e.loadingIndicator,children:Object(n.jsx)(ve.a,{color:"secondary"})}):i?Object(n.jsx)("div",{children:"An Error has occured!"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(xr,{}),Object(n.jsx)(br,{itemSales:c})]})]})},Sr=function(e){var t=e.match;Object(An.a)(e,["match"]);return Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"".concat(t.url,"/items"),component:ar}),Object(n.jsx)(b.b,{path:"".concat(t.url,"/sales"),component:yr})]})},Ir=Object(I.a)((function(e){return{root:{display:"flex",height:"100%",padding:0,margin:0},toolbar:e.mixins.toolbar,toastContainer:{zIndex:"1000000"}}})),wr=function(){var e=Ir(),t=Object(m.b)();Object(l.useEffect)((function(){localStorage.getItem("token")&&t(function(){var e=Object(we.a)(Ie.a.mark((function e(t){var a,n;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),De(a),e.prev=2,t(Re()),e.next=6,Pe(a);case 6:n=e.sent,t(Ee(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(Me(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(b.c,{history:Je,children:Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{exact:!0,path:"/auth/login",component:xa}),Object(n.jsx)(b.b,{path:"/admin"}),Object(n.jsxs)(b.b,{path:"/content",children:[Object(n.jsx)(Oe,{}),Object(n.jsx)(G,{}),Object(n.jsxs)(b.d,{children:[Object(n.jsx)(ia,{path:"/content/home",component:Dn}),Object(n.jsx)(ia,{path:"/content/clients",component:Fn}),Object(n.jsx)(ia,{path:"/content/inventory",component:Sr}),Object(n.jsx)(ia,{exact:!0,path:"/content/clients/all-clients",component:Ia}),Object(n.jsx)(ia,{exact:!0,path:"/content/clients/agreement-form",component:ya}),Object(n.jsx)(ia,{exact:!0,path:"/content/clients/appointments",component:ga}),Object(n.jsx)(ia,{exact:!0,path:"/content/clients/payments",component:Ca}),Object(n.jsx)(b.a,{from:"/",to:"/content/home/dashboard"})]})]}),Object(n.jsx)(b.a,{from:"/",to:"/content/home/dashboard"})]})}),Object(n.jsx)(ca,{})]})},Cr=a(71),Nr=Object(Cr.c)({inventoryItems:Ct,inventorySales:Vt,inventorySearch:Et,homeSalesStats:La,modals:R,auth:Ge,drawer:z});var kr=Object(T.a)({reducer:Nr});j.a.render(Object(n.jsx)(r.a,{injectFirst:!0,children:Object(n.jsx)(c.a,{theme:A,children:Object(n.jsxs)(s.b,{dateAdapter:o.a,children:[Object(n.jsx)(i.a,{}),Object(n.jsx)(m.a,{store:kr,children:Object(n.jsx)(wr,{})})]})})}),document.getElementById("root"))}},[[496,1,2]]]);
//# sourceMappingURL=main.d6c8a9c8.chunk.js.map