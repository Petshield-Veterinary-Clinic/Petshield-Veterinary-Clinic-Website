(this["webpackJsonppetshield-veterinary-clinic-website"]=this["webpackJsonppetshield-veterinary-clinic-website"]||[]).push([[0],{570:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(689),c=n(709),i=n(704),o=n(582),s=n(690),l=n(0),d=n.n(l),u=n(54),j=n.n(u),b=n(16),m=n(80),p=n(52),O=n(640),f=n(12),h=n(9),x=n(631),g=n(637),v=n(638),y=n(639),S=n(47),C=Object(S.b)({name:"modals",initialState:{modalType:null,modalProps:{}},reducers:{showModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideModal:function(e,t){e.modalType="",e.modalProps={}}}}),I=C.reducer,N=C.actions,w=N.showModal,A=N.hideModal,D=Object(S.b)({name:"infoModal",initialState:{modalType:null,modalProps:{}},reducers:{showInfoModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideInfoModal:function(e,t){e.modalType="",e.modalProps={}}}}),k=D.reducer,P=D.actions,E=P.showInfoModal,T=P.hideInfoModal,L=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=e.isInfoModal,i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(b.b)();return Object(a.jsxs)(x.a,{open:s,onClose:function(){d(!t)},TransitionProps:{onExited:function(){u(c?T():A())},onEnter:function(){setTimeout((function(){d(!t)}),r||2e3)}},children:[Object(a.jsx)(g.a,{children:"Error!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},F=n(641),R=Object(O.a)((function(e){return{loadingIndicator:{display:"flex",justifyContent:"center",alignItems:"center,",padding:e.spacing(2)}}})),M=function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=R(),s=Object(b.b)();return Object(a.jsx)(x.a,{open:c,onClose:function(){i(!t)},TransitionProps:{onExited:function(){s(A())}},children:Object(a.jsx)(v.a,{className:o.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})})})},_=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){d(A())},onEnter:function(){setTimeout((function(){s(!t)}),r||800)}},children:[Object(a.jsx)(g.a,{children:"Success!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},B=n(14),H=n.n(B),z=n(21),W=n(336),V=n.n(W),G={API_BASE_URL:"https://petshield-veterinary-api-prod.herokuapp.com",WS_BASE_URL:"wss://petshield-veterinary-api-prod.herokuapp.com",WS_TIMEOUT:25e3},Y=n(705),q=n(369),U=Object(Y.a)(Object(q.a)({palette:{mode:"dark",primary:{main:"#1e88e5"},secondary:{main:"#26a69a"}},components:{MuiMenu:{styleOverrides:{padding:"1em"}},MuiCard:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiPaper:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiTableCell:{styleOverrides:{root:{textAlign:"center"}}}}}),{disableAlign:!0}),K=240,J=["Deworming","5 in 1","6 in 1","8 in 1","Kennel Cough","ProHeart","4 in 1","Anti-Rabies","Canglob P","Canglob D"],Q=["1 Weeks","2 Weeks","1 Year"],X=["3 Days","7 Days","14 Days","30 Days"],$=["Check-Up","Long Term Medication","Post Surgery","Screening"],Z=V.a.create({baseURL:G.API_BASE_URL,headers:{"Content-Type":"application/json"}}),ee=function(e){e?Z.defaults.headers.common={Authorization:"Bearer ".concat(e)}:delete Z.defaults.headers.common.Authorization},te=Z,ne=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/auth/login",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/users/token");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=Object(S.b)({name:"auth",initialState:{user:{},token:null,isLoading:!1,error:null},reducers:{loginStart:function(e,t){e.isLoading=!0},loginSuccess:function(e,t){e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.authToken,ee(t.payload.authToken),localStorage.setItem("token",t.payload.authToken)},loginFailure:function(e,t){e.isLoading=!1,e.error=t.payload},logoutStart:function(e,t){e.isLoading=!0},logoutSuccess:function(e,t){e.user={},e.token=null,e.isLoading=!1},logoutFailure:function(e,t){e.isLoading=!1,e.error=t.payload},checkAuthStart:function(e,t){e.isLoading=!0},checkAuthSuccess:function(e,t){e.user=t.payload,e.isLoading=!1},checkAuthFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ce=re.actions,ie=ce.checkAuthStart,oe=ce.checkAuthSuccess,se=ce.checkAuthFailure,le=ce.loginStart,de=ce.loginSuccess,ue=ce.loginFailure,je=ce.logoutFailure,be=ce.logoutStart,me=ce.logoutSuccess,pe=re.reducer,Oe=n(642),fe=n(706),he=function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.handleNegativePressed,i=e.handlePositivePressed,o=Object(l.useState)(t),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(b.b)();return Object(a.jsxs)(x.a,{open:d,onClose:function(){u(!t)},TransitionProps:{onExited:function(){j(A())}},children:[Object(a.jsx)(g.a,{children:n}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:r})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"text",onClick:c,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"text",onClick:i,children:"Confirm"})]})]})},xe=n(337),ge=Object(xe.a)(),ve=function(e){var t=e.isVisible,n=e.title,r=e.message,c=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){c(A())},handlePositivePressed:function(){c(function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();try{t(be()),t(me())}catch(n){t(je(n))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ge.replace("/auth/login"),c(A())}})},ye=function(e){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e)},Se=Object(O.a)((function(e){return{root:{},header:{display:"grid",gridTemplate:" 1fr / 1fr 1fr 1fr 1fr 1fr",placeItems:"center",fontWeight:"bold"},content:{display:"flex",flexDirection:"column",gap:"1em"},item:{display:"grid",gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr"},column:{textAlign:"center"}}})),Ce=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:"1.25em"},header:{display:"grid",gridTemplate:" 1fr / 1fr 1fr 1fr 1fr 1fr",placeItems:"center",fontWeight:"bold",fontSize:"0.9rem"},headerTitle:{fontSize:"1.4rem",fontWeight:"bold",textAlign:"center"},footer:{display:"flex",alignItems:"flex-end",flexDirection:"column",gap:"1em",fontSize:"0.9rem","& span":{fontWeight:"bold"}},content:{display:"flex",flexDirection:"column",gap:"1em"},item:{display:"grid",gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr"},column:{textAlign:"center"}}})),Ie=n(131),Ne=n(41),we=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(n),t);case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/clients/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.patch("/clients/".concat(t.ID),t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(t,"/payments/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/clients/".concat(t,"/payments"));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,e.next=3,te.get("/clients/".concat(n,"/appointments"));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appointmentId,a=t.branchName,e.next=3,te.delete("/clients/".concat(a,"/appointments/").concat(n));case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,a=t.appointment,e.next=3,te.post("/clients/".concat(n,"/appointments"),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,a=t.appointment,e.next=3,te.patch("/clients/".concat(n,"/appointments/").concat(a.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e,t){e.error=t.payload},Me=Object(S.b)({name:"clientsSlice",initialState:{clients:{},paymentHistory:[],appointments:[],clientAppointments:[],clientPayments:{},isClientsLoading:!1,isPaymentsLoading:!1,isAppointmentsLoading:!1,isClientSearchingLoading:!1,error:null},reducers:{fetchClientsStart:function(e){e.isClientsLoading=!0},fetchClientsSuccess:function(e,t){e.isClientsLoading=!1;var n={};t.payload.forEach((function(e){n[e.ID]=e})),e.clients=n},fetchClientsError:Re,searchClientsStart:function(e){e.isClientsLoading=!0,e.error=null},searchClientsSuccess:function(e,t){e.isClientsLoading=!1,e.clients=t.payload,e.error=null},searchClientsError:Re,addClientStart:function(e){e.isClientsLoading=!0},addClientSuccess:function(e){e.isClientsLoading=!1,e.error=null},addClientError:Re,updateClientStart:function(e){e.error=null},updateClientSuccess:function(e,t){e.clients[t.payload.ID]=t.payload,e.error=null},updateClientsError:Re,addClientPaymentStart:function(){},addClientPaymentSuccess:function(e,t){e.paymentHistory=[t.payload].concat(Object(Ne.a)(e.paymentHistory)),e.error=!1},addClientPaymentError:Re,fetchClientPaymentHistoryStart:function(e){e.isPaymentsLoading=!0},fetchClientPaymentHistorySuccess:function(e,t){e.isPaymentsLoading=!1,e.paymentHistory=t.payload,e.error=!1},fetchClientPaymentHistoryError:Re,fetchAllClientPaymentsStart:function(e){e.isPaymentsLoading=!0},fetchAllClientPaymentsSuccess:function(e,t){e.isPaymentsLoading=!1,e.clientPayments=t.payload,e.error=null},fetchAllClientPaymentsError:Re,addAppointmentStart:function(e){e.error=null},addAppointmentSuccess:function(e,t){},addAppointmentError:Re,updateAppointmentStart:function(e){},updateAppointmentSuccess:function(e,t){e.appointments=Object(Ne.a)(t.payload),e.error=null},updateAppointmentError:Re,removeAppointmentStart:function(){},removeAppointmentSuccess:function(e,t){e.appointments=t.payload},removeAppointmentError:Re,fetchAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.appointments=t.payload,e.error=null},fetchAppointmentsError:Re,fetchClientAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchClientAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.clientAppointments=t.payload,e.error=null},fetchClientAppointmentsError:Re}}),_e=Me.actions,Be=_e.searchClientsError,He=_e.searchClientsStart,ze=_e.searchClientsSuccess,We=_e.fetchClientsSuccess,Ve=_e.fetchClientsError,Ge=_e.fetchClientsStart,Ye=_e.addClientStart,qe=_e.addClientError,Ue=_e.addClientSuccess,Ke=_e.updateClientStart,Je=_e.updateClientSuccess,Qe=_e.updateClientError,Xe=_e.addClientPaymentStart,$e=_e.addClientPaymentSuccess,Ze=_e.addClientPaymentError,et=_e.fetchClientPaymentHistoryStart,tt=_e.fetchClientPaymentHistorySuccess,nt=_e.fetchClientPaymentHistoryError,at=_e.fetchAllClientPaymentsStart,rt=_e.fetchAllClientPaymentsSuccess,ct=_e.fetchAllClientPaymentsError,it=_e.addAppointmentStart,ot=_e.addAppointmentSuccess,st=_e.addAppointmentError,lt=_e.fetchAppointmentsError,dt=_e.fetchAppointmentsStart,ut=_e.fetchAppointmentsSuccess,jt=_e.fetchClientAppointmentsError,bt=_e.fetchClientAppointmentsStart,mt=_e.fetchClientAppointmentsSuccess,pt=_e.updateAppointmentError,Ot=_e.updateAppointmentStart,ft=_e.updateAppointmentSuccess,ht=_e.removeAppointmentError,xt=_e.removeAppointmentSuccess,gt=_e.removeAppointmentStart,vt=Me.reducer,yt=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Ge()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(We(n.data))}}catch(c){t(Ve(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},St=function(e,t,n){return function(){var a=Object(z.a)(H.a.mark((function a(r,c){var i,o;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=c().clients.clientPayments.metadata,a.prev=1,r(Xe()),r(E({modalType:"LOADING_MODAL",modalProps:{}})),a.next=6,ke(e,t,n,i.salesDate,i.salesDateCateg);case 6:o=a.sent,r(T()),r($e(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r(Ze(a.t0.message));case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()},Ct=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(at()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(c.branchName,"/all-payments?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(rt(t.data))}}catch(o){a(ct(o.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},It=n(49),Nt=n(643),wt=n(646),At=n(338),Dt=n(263),kt=function(e){var t=e.classes,n=e.onSubmit,r=Object(It.b)(),c=r.handleSubmit,i=r.register,o=r.errors;return Object(a.jsxs)("form",{className:t.form,id:"addClientForm",onSubmit:c(n),children:[Object(a.jsx)(Nt.a,{className:t.field,variant:"outlined",label:"Full Name",name:"clientName",inputRef:i({required:!0}),error:!!o.clientName}),Object(a.jsx)(Nt.a,{className:t.field,variant:"outlined",label:"Address",name:"address",inputRef:i({required:!0}),error:!!o.address}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(Nt.a,{className:t.field,variant:"outlined",label:"Email",name:"email",type:"email",InputProps:{startAdornment:Object(a.jsx)(wt.a,{position:"start",children:Object(a.jsx)(Dt.a,{})})},inputRef:i({})}),Object(a.jsx)(Nt.a,{className:t.field,variant:"outlined",label:"Contact Number",name:"contactNumber",InputProps:{startAdornment:Object(a.jsx)(wt.a,{position:"start",children:Object(a.jsx)(At.a,{})})},inputRef:i({pattern:/((^(\+)(\d){12}$)|(^\d{11}$))/}),error:!!o.contactNumber})]}),Object(a.jsx)("br",{}),Object(a.jsx)(Nt.a,{className:t.field,variant:"outlined",label:"Pet Name",name:"petName",InputProps:{startAdornment:Object(a.jsx)(wt.a,{position:"start",children:Object(a.jsx)(Dt.b,{})})},inputRef:i({required:!0}),error:!!o.petName}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(Nt.a,{className:t.field,variant:"outlined",label:"Pet Species",name:"petSpecies",inputRef:i({required:!0}),error:!!o.petSpecies}),Object(a.jsx)(Nt.a,{className:t.field,variant:"outlined",label:"Pet Breed",name:"petBreed",inputRef:i({required:!0}),error:!!o.petBreed})]})]})},Pt=Object(O.a)((function(e){return{root:{},form:{display:"flex",flexDirection:"column"},field:{marginBottom:e.spacing(2)},fieldGroup:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(2)}}})),Et=n(15),Tt=n(65),Lt=n(651),Ft=n(652),Rt=n(653),Mt=n(650),_t=n(647),Bt=n(654),Ht=n(698),zt=n(103),Wt=n.n(zt),Vt=n(104),Gt=n.n(Vt),Yt=n(655),qt=n(226),Ut=n(102),Kt=n.n(Ut),Jt=Object(O.a)((function(e){return{root:Object(Et.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Qt=function(e){var t=e.toggleAddItemSaleRow,n=Jt();return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Kt.a,{}),onClick:function(){t(!0)},children:"Add Transaction"})})]})},Xt=n(697),$t=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/items/search/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive)}),e.next=3,te.post("/items/".concat(n),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),en=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentiveAmount:Number(t.incentiveAmount),incentiveRate:Number(t.incentiveRate),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tn=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/items/item/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nn=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),an=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/item-sales/".concat(t,"/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),rn=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r){var c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/item-sales/".concat(t,"/").concat(n,"?salesDate=").concat(a,"&salesDateCateg=").concat(r));case 2:if(!(c=e.sent).data.data){e.next=7;break}return e.abrupt("return",c.data.data);case 7:throw Error(c.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),cn=Object(S.b)({name:"inventorySearchResultSlice",initialState:{isLoading:!1,result:[],error:null},reducers:{searchItemsStart:function(e){e.isLoading=!0},searchItemsSuccess:function(e,t){e.isLoading=!1,e.result=t.payload,e.error=null},searchItemsFailure:function(e,t){e.isLoading=!1,e.error=t.payload},clearItemsSearch:function(e,t){e.result=[],e.isLoading=!1,e.error=null}}}),on=cn.reducer,sn=cn.actions,ln=sn.searchItemsFailure,dn=sn.searchItemsStart,un=sn.searchItemsSuccess,jn=sn.clearItemsSearch,bn=function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(dn()),t.next=5,$t(e,r.branchName);case 5:c=t.sent,n(un(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(ln(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()},mn=n(648),pn=n(649),On=n(122),fn=n(13),hn=n.n(fn),xn=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),gn=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.client,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=hn()(Date.now()).format("MM-DD-YYYY"),O=Object(b.c)((function(e){return e.inventorySearch})),x=O.result,g=O.isLoading,v=xn(),y=Object(b.b)();if(!t)return null;var S=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},C=function(){s({}),m(1)},I=function(){y(St(r.ID,o.ID,j)),C(),y(jn()),n(!1)},N=function(){C(),y(jn()),n(!1)},w=Object(On.debounce)((function(e){y(""===e?jn():bn(e))}),800),A=function(e){w(e.target.value)};return Object(a.jsxs)(Mt.a,{className:v.root,children:[Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:p})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Xt.a,{loading:g,options:x.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:A,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[g?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_t.a,{children:Object(a.jsxs)(Ie.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(_t.a,{className:v.quantityCell,children:Object(a.jsx)(Nt.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:S,fullWidth:!0})}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)(Ie.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)(Ie.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:o.salesCategory})}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)("div",{className:v.buttonRows,children:[Object(a.jsx)(fe.a,{className:v.submitButton,variant:"outlined",onClick:I,children:Object(a.jsx)(mn.a,{})}),Object(a.jsx)(fe.a,{className:v.cancelButton,variant:"outlined",onClick:N,children:Object(a.jsx)(pn.a,{})})]})})]})}()]})},vn=Object(O.a)((function(e){return{root:Object(Et.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:qt.a[400],border:"2px solid red",borderColor:qt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),yn=function(e){var t=e.data,n=e.columns,r=e.client,c=vn(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Tt.useTable)({data:t,columns:n},Tt.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,A=S.rows,D=function(e){return Object(a.jsx)(Ie.a,{children:e.render("Cell")})};return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(Qt,{toggleAddItemSaleRow:y}),Object(a.jsx)(Lt.a,{children:Object(a.jsxs)(Ft.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Rt.a,{children:I.map((function(e){return Object(a.jsxs)(Mt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(_t.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Wt.a,{fontSize:"small"}):Object(a.jsx)(Gt.a,{fontSize:"small"}):null]})}))})),Object(a.jsx)(_t.a,{})]})}))}),Object(a.jsxs)(Bt.a,{className:c.container,children:[Object(a.jsx)(gn,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,client:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Mt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(_t.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:D(e)}))},"col".concat(t))})),Object(a.jsx)(_t.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Yt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Ht.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},Sn=function(e){var t=e.paymentHistory,n=e.client,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:hn()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),client:n};return Object(a.jsx)(yn,Object(f.a)({},r))},Cn=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}})),In=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"400px",alignItems:"center",padding:e.spacing(2)}}})),Nn=n(660),wn=n(699),An=n(89),Dn=n(577),kn=n(586),Pn=n(584),En=n(656),Tn=n(579),Ln=n(693),Fn=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),Rn=function(e){var t=e.onSubmit,n=e.startDate,r=e.isVaccine,c=e.clientIndex,i=Fn(),o=Object(b.c)((function(e){return e.clients})),s=o.clients,d=o.isClientsLoading,u=c?Object(f.a)(Object(f.a)({},s[c]),{},{clientName:"".concat(s[c].clientName," - ").concat(s[c].pet.petName)}):null,j=Object(l.useMemo)((function(){return Object.keys(s).map((function(e){var t=s[e],n="".concat(t.clientName," - ").concat(t.pet.petName);return Object(f.a)(Object(f.a)({},t),{},{clientName:n})}))}),[s]),m=Object(It.b)(),p=m.handleSubmit,O=m.errors,h=m.control;return Object(a.jsxs)("form",{className:i.root,id:"addAppointmentForm",onSubmit:p(t),children:[Object(a.jsx)(It.a,{name:"client",control:h,defaultValue:c?u:null,rules:{required:!0},render:function(e){var t=e.onChange,n=Object(An.a)(e,["onChange"]);return Object(a.jsx)(Xt.a,Object(f.a)({size:"small",options:j,loading:d,getOptionLabel:function(e){return e.clientName},getOptionSelected:function(e,t){return e.clientName===t.clientName},renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Client Name",fullWidth:!0,error:!!O.client,helperText:O.client?"Enter a client":""}))},onChange:function(e,n){t(n)}},n))}}),Object(a.jsx)(It.a,{id:"appointment-date",name:"date",control:h,defaultValue:hn()(n).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(Ln.a,Object(f.a)({allowSameDateSelection:!0,renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date"}))}},e))}}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(It.a,{name:"type",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(An.a)(e,["onChange"]);return Object(a.jsxs)(Dn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(kn.a,{id:"appointment-type",children:"".concat(r?"Vaccine":"Follow Up"," Type")}),Object(a.jsx)(Pn.a,Object(f.a)(Object(f.a)({labelId:"appointment-type",onChange:function(e){return t(e.target.value)}},n),{},{children:r?J.map((function(e){return Object(a.jsx)(En.a,{value:e,children:e},e)})):$.map((function(e){return Object(a.jsx)(En.a,{value:e,children:e},e)}))})),Object(a.jsx)(Tn.a,{error:!!O.type,children:O.type?"Please enter a type":""})]})}}),Object(a.jsx)(It.a,{name:"reoccurance",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(An.a)(e,["onChange"]);return Object(a.jsxs)(Dn.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(kn.a,{id:"appointment-reoccurance",children:"Next Visit"}),Object(a.jsx)(Pn.a,Object(f.a)(Object(f.a)({labelId:"appointment-reoccurance",onChange:function(e){return t(e.target.value)}},n),{},{children:r?Q.map((function(e){return Object(a.jsx)(En.a,{value:e,children:e},e)})):X.map((function(e){return Object(a.jsx)(En.a,{value:e,children:e},e)}))})),Object(a.jsx)(Tn.a,{error:!!O.reoccurance,children:O.reoccurance?"Please enter a type":""})]})}})]}),Object(a.jsx)(It.a,{name:"veterinarianNotes",control:h,defaultValue:"",rules:{},render:function(e){return Object(a.jsx)(Nt.a,Object(f.a)({label:"Notes",multiline:!0,size:"small",rows:5},e))}})]})},Mn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"100%",alignItems:"flex-start",padding:e.spacing(2),flexDirection:"column"}}})),_n=n(368),Bn=n(339),Hn=n(691),zn=n(182),Wn=n.n(zn),Vn=n(30),Gn=n.n(Vn),Yn=Object(O.a)((function(e){return{root:{},loadingIndicator:{width:"300px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center,"},hasAppointment:{backgroundColor:"".concat(e.palette.primary.main," !important"),color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}},selected:{backgroundColor:"#424242 !important",color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}}}})),qn=function(e){var t,n=e.date,r=e.classes,c=(e._selectedDates,e.selectedDate),i=e.PickersDayComponentProps,o=e.appointments,s=Wn()(n).tz("Asia/Manila"),l=void 0!==o.find((function(e){return Wn()(e.date).tz("Asia/Manila").isSame(s,"date")})),d=Wn()(c).isSame(n,"date");return Object(a.jsx)(Bn.a,Object(f.a)({className:Gn()((t={},Object(Et.a)(t,r.hasAppointment,l),Object(Et.a)(t,r.selected,d),t))},i))},Un=function(e,t){e.isLoading=!1,e.error=t.payload},Kn=Object(S.b)({name:"inventoryItems",initialState:{items:[],itemSales:[],isLoading:!1,error:null},reducers:{fetchItemsStart:function(e){e.isLoading=!0},fetchItemsSuccess:function(e,t){e.isLoading=!1,e.items=t.payload,e.error=null},fetchItemsFailure:Un,addItemStart:function(e,t){},addItemSuccess:function(e,t){},addItemFailure:Un,modifyItemStart:function(){},modifyItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},modifyItemFailure:Un,discountItemStart:function(){},discountItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},discountItemFailure:Un,deleteItemStart:function(){},deleteItemSuccess:function(e,t){e.items=e.items.filter((function(e){return e.ID!==t.payload}))},deleteItemFailure:Un}}),Jn=Kn.actions,Qn=Jn.fetchItemsStart,Xn=Jn.fetchItemsSuccess,$n=Jn.fetchItemsFailure,Zn=Jn.addItemStart,ea=Jn.addItemSuccess,ta=Jn.addItemFailure,na=Jn.modifyItemStart,aa=Jn.modifyItemSuccess,ra=Jn.modifyItemFailure,ca=Jn.discountItemStart,ia=Jn.discountItemFailure,oa=Jn.discountItemSuccess,sa=Jn.deleteItemStart,la=Jn.deleteItemSuccess,da=Jn.deleteItemFailure,ua=Kn.reducer,ja=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/admin/item-categories");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ba=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/admin/item-categories",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/admin/item-categories/".concat(t));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pa=Object(S.b)({name:"itemCategorySlice",initialState:{categories:[],isLoading:!1,error:null},reducers:{fetchItemCategoriesStart:function(e){e.isLoading=!0,e.error=null},fetchItemCategoriesSuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},fetchItemCategoriesFailure:function(e){e.isLoading=!1,e.error=null},addItemCategoryStart:function(e){e.error=null},addItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},addItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload},deleteItemCategoryStart:function(e){e.error=null},deleteItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},deleteItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),Oa=pa.reducer,fa=pa.actions,ha=fa.fetchItemCategoriesFailure,xa=fa.fetchItemCategoriesStart,ga=fa.fetchItemCategoriesSuccess,va=fa.addItemCategoryFailure,ya=fa.addItemCategoryStart,Sa=fa.addItemCategorySuccess,Ca=fa.deleteItemCategoryFailure,Ia=fa.deleteItemCategoryStart,Na=fa.deleteItemCategorySuccess,wa=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(xa()),e.next=4,ja();case 4:n=e.sent,t(ga(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(ha(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Aa=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),Da=function(e){var t=e.onSubmit,n=e.classes,r=e.isIncentiveFixed,c=e.setIncentiveFixed,i=e.dispatch,o=Object(b.c)((function(e){return e.itemCategories})),s=o.isLoading,l=o.categories,d=Object(It.b)({defaultValues:{remarks:"",category:"Store Sales",incentiveRate:0,incentiveAmount:0}}),u=d.register,j=d.handleSubmit,m=d.errors,p=d.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"addItemForm",onSubmit:j(t),children:[Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:u({required:!0}),error:!!m.name}),Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:u({required:!0,min:0}),error:!!m.inStock}),Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(Ie.a,{children:"\u20b1"})},inputRef:u({required:!0,min:0}),error:!!m.price}),Object(a.jsx)(It.a,{control:p,name:"category",as:Object(a.jsxs)(Pn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){i(wa())},endAdornment:s?Object(a.jsx)(wt.a,{children:Object(a.jsx)(F.a,{})}):null,children:[Object(a.jsx)(En.a,{value:""}),l.map((function(e){return Object(a.jsx)(En.a,{value:e.name,children:e.name},e.ID)}))]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Nn.a,{className:n.addItemFormField,control:Object(a.jsx)(wn.a,{checked:r,onChange:function(){c(!r)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(Nt.a,{disabled:r,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(Ie.a,{children:"%"})},inputRef:u({required:!0,max:100,min:0}),error:!!m.incentiveRate}),Object(a.jsx)(Nt.a,{disabled:!r,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:u({required:!0,min:0}),error:!!m.incentiveAmount})]})]}),Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:u})]})},ka=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1em"},deleteBtn:{borderColor:"red",color:"red"}}})),Pa=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),Ea=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=e.isIncentiveFixed,i=e.setIncentiveFixed,o=e.dispatch,s=Object(b.c)((function(e){return e.itemCategories})),l=s.isLoading,d=s.categories,u=Object(It.b)({defaultValues:{remarks:null!==r.remarks?r.remarks:"",category:null!==r.category?r.category:"",price:null!==r.price?r.price:0,name:null!==r.name?r.name:"",incentiveRate:null!==r.incentiveRate?r.incentiveRate:0,incentiveAmount:null!==r.incentiveAmount?r.incentiveAmount:0,inStock:null!==r.inStock?r.inStock:0}}),j=u.register,m=u.handleSubmit,p=u.errors,O=u.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"modifyItemForm",onSubmit:m(t),children:[Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:j({required:!0}),error:!!p.name}),Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",type:"number",inputRef:j({required:!0,min:0}),error:!!p.inStock,helperText:p.inStock?"Invalid Value":""}),Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(Ie.a,{children:"\u20b1"})},inputRef:j({required:!0,min:0}),error:!!p.price}),Object(a.jsx)(It.a,{control:O,name:"category",as:Object(a.jsx)(Pn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){o(wa())},endAdornment:l?Object(a.jsx)(wt.a,{children:Object(a.jsx)(F.a,{})}):null,children:d.map((function(e){return Object(a.jsx)(En.a,{value:e.name,children:e.name},e.ID)}))})}),Object(a.jsx)(Nn.a,{className:n.addItemFormField,control:Object(a.jsx)(wn.a,{checked:c,onChange:function(){i(!c)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(Nt.a,{disabled:c,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(Ie.a,{children:"%"})},inputRef:j({required:!0,max:100,min:0}),error:!!p.incentiveRate}),Object(a.jsx)(Nt.a,{disabled:!c,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:j({required:!0,min:0}),error:!!p.incentiveAmount})]}),Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:j})]})},Ta=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em"}}})),La=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=Object(It.b)({defaultValues:{discount:null!==r.discount?r.discount:0}}),i=c.register,o=c.handleSubmit,s=c.errors;return Object(a.jsx)("form",{noValidate:!0,className:n.addItemForm,id:"discountItemForm",onSubmit:o(t),children:Object(a.jsx)(Nt.a,{className:n.addItemFormField,variant:"outlined",label:"Discount Amount",name:"discount",size:"small",type:"number",helperText:s.discount?"Please input a value between 0.01 and 100":"",InputProps:{endAdornment:Object(a.jsx)(Ie.a,{children:Object(a.jsx)("strong",{children:"%"})})},inputRef:i({required:!0,min:0,max:100}),autoFocus:!0,error:!!s.discount})})},Fa=function(e,t){e.isLoading=!1,e.error=t.payload},Ra=Object(S.b)({name:"inventorySales",initialState:{isLoading:!1,itemSales:[],dailySales:0,metadata:{salesDateCateg:"daily"},error:null},reducers:{fetchItemSalesStart:function(e){e.isLoading=!0},fetchItemSalesSuccess:function(e,t){e.isLoading=!1,e.itemSales=t.payload.itemSales,e.dailySales=t.payload.dailySales,e.metadata=t.payload.metadata,e.error=null},fetchItemSalesError:Fa,addItemSaleStart:function(){},addItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},addItemSaleFailure:Fa,deleteItemSaleStart:function(){},deleteItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},deleteItemSaleFailure:Fa}}),Ma=Ra.reducer,_a=Ra.actions,Ba=_a.fetchItemSalesError,Ha=_a.fetchItemSalesStart,za=_a.fetchItemSalesSuccess,Wa=_a.addItemSaleFailure,Va=_a.addItemSaleStart,Ga=_a.addItemSaleSuccess,Ya=_a.deleteItemSaleFailure,qa=_a.deleteItemSaleStart,Ua=_a.deleteItemSaleSuccess,Ka=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(Ha()),new WebSocket("".concat(G.WS_BASE_URL,"/item-sales/").concat(c.branchName,"?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(za(t.data))}}catch(o){a(Ba(o))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ja=function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i,o;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r().auth.user,i=r().inventorySales.metadata,a(Va()),a(A()),a(w({modalType:"LOADING_MODAL"})),n.next=8,an(c.branchName,e,t,i.salesDate,i.salesDateCateg);case 8:o=n.sent,a(Ga(o)),a(A()),a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction Complete!",duration:3e3}})),a(jn()),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),a(Wa(n.t0)),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}}));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},Qa={ADD_ITEM_MODAL:function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=Object(l.useState)(!1),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Aa(),m=Object(b.b)(),p=function(){i(!t)};return Object(a.jsxs)(x.a,{open:c,onClose:p,TransitionProps:{onExited:function(){m(A())}},children:[Object(a.jsx)(g.a,{children:"Add Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Da,{onSubmit:function(e){var n,a=Object(f.a)({},e);a.isIncentiveFixed=d,d?a.incentiveRate=0:a.incentiveAmount=0,m((n=a,function(){var e=Object(z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,t(Zn()),t(w({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Zt(n,r.branchName);case 6:t(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Added!",duration:3e3}})),t(ea()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),t(ta(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}())),i(!t)},dispatch:m,classes:j,isIncentiveFixed:d,setIncentiveFixed:u})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:p,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addItemForm",type:"submit",children:"Add Item"})]})]})},ADD_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemDetails,i=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){i(Ja(c.itemId,c.quantity))}})},DELETE_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemIndex,i=Object(b.b)(),o=Object(b.c)((function(e){return e.inventorySales})).itemSales;return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){var e;i((e=o[c].ID,function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c,i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().auth.user,c=a().inventorySales.metadata,n(qa()),n(A()),n(w({modalType:"LOADING_MODAL"})),t.next=8,rn(r.branchName,e,c.salesDate,c.salesDateCateg);case 8:i=t.sent,n(Ua(i)),n(A()),n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction deleted successfully!",duration:3e3}})),n(jn()),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),n(Ya(t.t0)),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}}));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()))}})},MANAGE_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=ka(),u=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){u(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Manage Item"}),Object(a.jsxs)(v.a,{className:d.content,children:[Object(a.jsx)(fe.a,{fullWidth:!0,variant:"contained",onClick:function(){s(!t),u(w({modalType:"MODIFY_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Modify Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{fullWidth:!0,variant:"outlined",onClick:function(){s(!t),u(w({modalType:"DISCOUNT_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Discount Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{className:d.deleteBtn,fullWidth:!0,variant:"outlined",onClick:function(e){s(!t),u(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(sa()),n(w({modalType:"LOADING_MODAL",modalProps:{}})),t.next=6,tn(e,r.branchName);case 6:n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Deleted!",duration:3e3}})),n(la(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}})),n(da());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(n.ID))},children:"Delete Item"})]})]})},MODIFY_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(n.isIncentiveFixed),u=Object(h.a)(d,2),j=u[0],m=u[1],p=Pa(),O=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){O(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Modify Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Ea,{dispatch:O,onSubmit:function(e){var a=Object(f.a)(Object(f.a)({},n),e);a.isIncentiveFixed=j,j?a.incentiveRate=0:a.incentiveAmount=0,O(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(na()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,en(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Modified!",duration:3e3}})),a(aa({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(ra());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,r)),s(!t)},classes:p,itemDetails:n,isIncentiveFixed:j,setIncentiveFixed:m})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"modifyItemForm",type:"submit",children:"Modify Item"})]})]})},DISCOUNT_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Ta(),u=Object(b.b)(),j=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:j,TransitionProps:{onExited:function(){u(A())}},children:[Object(a.jsx)(g.a,{children:"Discount Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(La,{onSubmit:function(e){var a=e.discount;s(!t),u(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(ca()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,nn(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Discounted!",duration:3e3}})),a(oa({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(ia());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(Object(f.a)(Object(f.a)({},n),{},{discount:a}),r))},classes:d,itemDetails:n})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:j,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"discountItemForm",type:"submit",children:"Discount Item"})]})]})},LOADING_MODAL:M,ERROR_MODAL:L,SUCCESS_MODAL:_,LOGOUT_MODAL:ve,ADD_CLIENT_MODAL:function(e){var t=e.isVisible,n=Pt(),r=Object(l.useState)(t),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.b)(),d=function(){o(!t)};return Object(a.jsxs)(x.a,{open:i,onClose:d,TransitionProps:{onExited:function(){s(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(Ie.a,{align:"center",variant:"h5",children:"Add Client"})}),Object(a.jsx)(v.a,{children:Object(a.jsx)(kt,{classes:n,onSubmit:function(e){var t,n=Object(f.a)(Object(f.a)({},e),{},{pet:{petName:e.petName,species:e.petSpecies,petBreed:e.petBreed}});s((t=n,function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(Ye()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,we(t,r.branchName);case 6:c=e.sent,n(Ue(c)),n(T()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(qe(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}())),s(A())}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:d,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addClientForm",type:"submit",children:"Submit"})]})]})},ADD_APPOINTMENT_MODAL:function(e){var t=e.isVisible,n=e.startDate,r=e.clientIndex,c=Mn(),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(!0),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)();Object(l.useEffect)((function(){r||O(yt())}),[O,r]);var y=function(){d(!t)};return Object(a.jsxs)(x.a,{open:s,onClose:y,TransitionProps:{onExited:function(){O(A())}},className:c.root,fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Schedule Appointment"}),Object(a.jsxs)(v.a,{className:c.content,children:[Object(a.jsx)(Nn.a,{label:"For Vaccine",control:Object(a.jsx)(wn.a,{checked:m,onChange:function(e){return p(e.target.checked)}})}),Object(a.jsx)(Rn,{onSubmit:function(e){var n=hn()(e.date).toISOString();O(function(e){var t=e.clientId,n=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(it()),a(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,Le({clientId:t,appointment:n});case 5:r=e.sent,a(T()),a(ot(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a(st(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:e.client.ID,appointment:Object(f.a)(Object(f.a)({},e),{},{date:n})})),d(!t)},startDate:n,isVaccine:m,clientIndex:r})]}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addAppointmentForm",variant:"outlined",children:"Submit"})]})]})},CLIENT_TRANSACTIONS_MODAL:function(e){var t=e.isVisible,n=e.index,r=Cn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})),u=d.clients,j=d.paymentHistory,m=d.isPaymentsLoading,p=u[n],O=Object(b.b)();Object(l.useEffect)((function(){var e;O((e=p.ID,function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(et()),t.next=4,Pe(e);case 4:a=t.sent,n(tt(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(nt(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[O,p]);var f=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:f,TransitionProps:{onExited:function(){O(A())}},fullScreen:!0,children:[Object(a.jsx)(g.a,{children:"Payment History"}),Object(a.jsx)(v.a,{className:r.content,children:m?Object(a.jsx)(F.a,{}):Object(a.jsx)(Sn,{paymentHistory:j,client:p})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"outlined",onClick:f,children:"DONE"})})]})},CLIENT_APPOINTMENTS_MODAL:function(e){var t=e.isVisible,n=e.clientIndex,r=Yn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),s=i[0],d=i[1],u=Object(l.useState)(new Date),j=Object(h.a)(u,2),m=j[0],O=j[1],f=Object(p.g)(),y=Object(b.c)((function(e){return e.clients})),S=y.isAppointmentsLoading,C=y.clientAppointments,I=y.clients[n],N=Object(b.b)(),w=function(){d(!t)},D=function(e){O(e);var n=C.find((function(t){return Wn()(t.date).isSame(e,"date")}));n&&(d(!t),f.push("/clients/appointments",{appointment:n}))};Object(l.useEffect)((function(){N(function(e){var t=e.clientId;return function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(bt()),e.next=4,Ee({clientId:t});case 4:a=e.sent,n(mt(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(jt(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:I.ID}))}),[N,I]);return Object(a.jsxs)(x.a,{open:s,onClose:w,TransitionProps:{onExited:function(){N(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"Appointments"}),Object(a.jsx)(v.a,{children:S?Object(a.jsx)("div",{className:r.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(o.b,{dateAdapter:Hn.a,children:Object(a.jsx)(_n.a,{date:m,onChange:D,disableHighlightToday:!0,allowSameDateSelection:!0,renderDay:function(e,t,n){return Object(a.jsx)(qn,{classes:r,date:e,selectedDate:m,_selectedDates:t,PickersDayComponentProps:n,appointments:C})},allowKeyboardControl:!1})})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{onClick:w,children:"DONE"})})]})},CLIENT_VETERINARIAN_NOTE_MODAL:function(e){var t=e.isVisible,n=e.index,r=In(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})).clients,u=Object(l.useMemo)((function(){return d[n]}),[n,d]),j=Object(l.useState)(u.veterinarianNote?u.veterinarianNote:""),m=Object(h.a)(j,2),p=m[0],O=m[1],v=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){v(A())}},className:r.root,children:[Object(a.jsx)(g.a,{children:"Add Veterinarian Note"}),Object(a.jsx)("div",{className:r.content,children:Object(a.jsx)(Nt.a,{fullWidth:!0,label:"Note",multiline:!0,rows:10,value:p,onChange:function(e){return O(e.target.value)}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){var e=Object(f.a)(Object(f.a)({},u),{},{veterinarianNote:p});v(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Ke()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),t.next=5,De(e);case 5:a=t.sent,n(Je(a)),n(T()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(Qe(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e)),s(!t)},children:"Submit"})]})]})},SALES_BREAKDOWN_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.dailySales,c=(e.duration,Se()),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)({}),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)(),y=function(){d(!t)},S=Object(l.useCallback)((function(){var e={};console.log(r),r.items.forEach((function(t){var n=e[t.item.name];e[t.item.name]=n?Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:n.netSales+t.netSales,sales:n.sales+t.sales,incentives:n.incentives+t.incentives,count:n.count+1}):Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:t.netSales,sales:t.sales,incentives:t.incentives,count:1})})),p(e)}),[r]);Object(l.useEffect)((function(){S()}),[S]);return Object(a.jsxs)(x.a,{open:s,onClose:y,fullWidth:!0,TransitionProps:{onExited:function(){O(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"".concat(n," Breakdown")}),Object(a.jsxs)(v.a,{className:c.root,children:[Object(a.jsxs)("div",{className:c.header,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:"Quantity"}),Object(a.jsx)("div",{children:"Incentives"}),Object(a.jsx)("div",{children:"Sales"}),Object(a.jsx)("div",{children:"Net Sales"})]}),Object(a.jsx)("div",{className:c.content,children:m?Object.keys(m).map((function(e){var t=m[e];return Object(a.jsxs)("div",{className:c.item,children:[Object(a.jsx)("div",{children:e}),Object(a.jsx)("div",{className:c.column,children:t.count}),Object(a.jsx)("div",{className:c.column,children:ye(t.incentives)}),Object(a.jsx)("div",{className:c.column,children:ye(t.sales)}),Object(a.jsx)("div",{className:c.column,children:ye(t.netSales)})]},e)})):null})]}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"text",onClick:y,children:"Done"})})]})},NET_SALES_BREAKDOWN_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.dailySales,c=Ce(),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)({}),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)(),y=function(){d(!t)},S=Object(l.useCallback)((function(){var e={};Object.keys(r).forEach((function(t){var n={};r[t].items.forEach((function(e){var t=n[e.item.name];n[e.item.name]=t?Object(f.a)(Object(f.a)({},n[e.item.name]),{},{netSales:t.netSales+e.netSales,sales:t.sales+e.sales,incentives:t.incentives+e.incentives,count:t.count+1}):Object(f.a)(Object(f.a)({},n[e.item.name]),{},{netSales:e.netSales,sales:e.sales,incentives:e.incentives,count:1})})),e[t]={items:n,sales:r[t].sales,netSales:r[t].netSales,incentives:r[t].incentives}})),p(e)}),[r]);Object(l.useEffect)((function(){S()}),[S]);return Object(a.jsxs)(x.a,{open:s,onClose:y,fullWidth:!0,TransitionProps:{onExited:function(){O(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"".concat(n," Breakdown")}),Object(a.jsx)(v.a,{className:c.root,children:m?Object.keys(m).map((function(e){var t=m[e];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:c.headerTitle,children:e}),Object(a.jsxs)("div",{className:c.header,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:"Quantity"}),Object(a.jsx)("div",{children:"Incentives"}),Object(a.jsx)("div",{children:"Sales"}),Object(a.jsx)("div",{children:"Net Sales"})]}),Object(a.jsx)("div",{className:c.content,children:Object.keys(t.items).map((function(e){var n=t.items[e];return Object(a.jsxs)("div",{className:c.item,children:[Object(a.jsx)("div",{children:e}),Object(a.jsx)("div",{className:c.column,children:n.count}),Object(a.jsx)("div",{className:c.column,children:ye(n.incentives)}),Object(a.jsx)("div",{className:c.column,children:ye(n.sales)}),Object(a.jsx)("div",{className:c.column,children:ye(n.netSales)})]},e)}))}),Object(a.jsxs)("div",{className:c.footer,children:[Object(a.jsxs)("div",{children:["Total Incentives:",Object(a.jsx)("span",{children:ye(t.incentives)})]}),Object(a.jsxs)("div",{children:["Total Sales:",Object(a.jsx)("span",{children:ye(t.sales)})]}),Object(a.jsxs)("div",{children:["Total Net Sales:",Object(a.jsx)("span",{children:ye(t.netSales)})]})]})]})})):null}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"text",onClick:y,children:"Done"})})]})}},Xa=function(){var e=Object(b.c)((function(e){return e.modals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=Qa[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},$a=n(370),Za=n(663),er=n(657),tr=n(580),nr=n(664),ar=n(665),rr=Object(S.b)({name:"drawer",initialState:{isOpen:!1},reducers:{toggleDrawer:function(e){e.isOpen=!e.isOpen}}}),cr=rr.reducer,ir=rr.actions.toggleDrawer,or=n(695),sr=n(662),lr=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,e.next=3,te.delete("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.notificationId,e.next=3,te.patch("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ur=Object(S.b)({name:"notificationsSlice",initialState:{isLoading:!1,notifications:[],error:null},reducers:{fetchNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},fetchNotificationsSuccess:function(e,t){var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.isLoading=!1,e.error=null},fetchNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},clearNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},clearNotificationsSuccess:function(e,t){e.notifications={},e.isLoading=!1,e.error=null},clearNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},updateNotificationStart:function(){},updateNotificationSuccess:function(e,t){e.isLoading=!1;var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.error=null},updateNotificationError:function(e,t){e.error=t.payload,e.isLoading=!1}}}),jr=ur.actions,br=jr.fetchNotificationsError,mr=jr.fetchNotificationsStart,pr=jr.fetchNotificationsSuccess,Or=jr.updateNotificationError,fr=jr.updateNotificationStart,hr=jr.updateNotificationSuccess,xr=jr.clearNotificationsError,gr=jr.clearNotificationsStart,vr=jr.clearNotificationsSuccess,yr=ur.reducer,Sr=n(645),Cr=n(581),Ir=n(661),Nr=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:e.spacing(1)},title:{fontWeight:"bold",fontSize:"1.2rem"},message:{fontSize:"1rem"},seen:{opacity:"50%"},date:{color:"#FFFFFFB3",fontSize:"0.8rem"}}})),wr=function(e){var t=e.notif,n=e.index,r=e.onNotificationPressed,c=Nr(),i=Object(l.useState)(t.seen),o=Object(h.a)(i,2),s=o[0],d=o[1],u=JSON.parse(t.payload);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Cr.a,{button:!0,onClick:function(){d(!0),r(t,n)},className:s?Gn()([c.root,c.seen]):c.root,children:[Object(a.jsx)(Ie.a,{className:c.title,children:u.client.clientName}),Object(a.jsx)(Ie.a,{className:c.message,children:t.message}),Object(a.jsx)(Ie.a,{className:c.date,children:hn()(t.CreatedAt).format("MMMM DD, YYYY")})]},t.ID),Object(a.jsx)(Ir.a,{})]})},Ar=Object(O.a)((function(e){return{root:{width:"400px",display:"flex",maxHeight:"500px",flexDirection:"column",justifyContent:"center",gap:e.spacing(1)}}})),Dr=function(e){var t=e.notifications,n=e.onNotificationPressed,r=e.onClearNotificationsPressed,c=Ar();return Object(a.jsx)(Sr.a,{className:c.root,children:0!==Object.keys(t).length?Object(a.jsxs)(a.Fragment,{children:[Object.keys(t).map((function(e,r){var c=t[e];return Object(a.jsx)(wr,{notif:c,index:r,onNotificationPressed:n})})),Object(a.jsx)(fe.a,{variant:"text",color:"error",onClick:r,startIcon:Object(a.jsx)(Yt.a,{color:"error"}),children:"Clear Notifications"})]}):Object(a.jsx)(Ie.a,{align:"center",children:"No Notifications"})})},kr=Object(O.a)((function(e){return{loadingIndicator:{width:"400px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"}}})),Pr=function(){var e=Object(b.c)((function(e){return e.notifications})),t=e.notifications,n=e.isLoading,r=Object(l.useState)(null),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(p.g)(),d=kr(),u=Object(b.b)();Object(l.useEffect)((function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(mr()),new WebSocket("".concat(G.WS_BASE_URL,"/notifications/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(pr(n.data))}}catch(c){t(br(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[u]);var j=Boolean(i),m=function(e,t){var n=JSON.parse(e.payload);s.push("/clients/appointments",{appointment:n}),u(function(e){var t=e.notificationId;return e.index,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(fr()),e.next=4,dr({notificationId:t});case 4:a=e.sent,n(hr(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(Or(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({notificationId:e.ID,index:t})),o(null)},O=function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().auth.user,e.prev=1,t(gr()),e.next=5,lr({branchName:a.branchName});case 5:t(vr()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(xr(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}())};return Object(a.jsxs)("div",{children:[Object(a.jsx)(tr.a,{onClick:function(e){o(e.currentTarget)},children:Object(a.jsx)(or.a,{badgeContent:Object.keys(t).map((function(e){return t[e]})).filter((function(e){return!e.seen})).length,children:Object(a.jsx)(sr.a,{})})}),Object(a.jsx)($a.a,{anchorEl:i,keepMounted:!0,open:j,onClose:function(){o(null)},children:n?Object(a.jsx)("div",{className:d.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(Dr,{notifications:t,onNotificationPressed:m,onClearNotificationsPressed:O})})]})},Er=Object(O.a)((function(e){var t;return{appBar:(t={},Object(Et.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(K,"px)"),marginLeft:K}),Object(Et.a)(t,"width","100%"),Object(Et.a)(t,"backgroundColor","#272727"),Object(Et.a)(t,"flexGrow",1),t),menuButton:Object(Et.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none "}),grow:{flexGrow:1}}})),Tr={dashboard:"Dashboard","pet-queues":"Pet Queues","all-clients":"All Clients",payments:"Payments",appointments:"Appointments","appointment-form":"Appointment Form","item-categories":"Item Categories",items:"All Items",sales:"All Sales"},Lr=function(){var e=Object(l.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(l.useState)(""),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(p.h)(),u=Boolean(n),j=Object(b.b)(),m=Er();Object(l.useEffect)((function(){var e=d.pathname.split("/"),t=Tr[e[e.length-1]];s(t)}),[d,o,s]);var O=function(){r(null)},f=function(){O(),j(w({modalType:"LOGOUT_MODAL",modalProps:{title:"Logout",message:"Are you sure you want to logout from the session?"}}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Za.a,{position:"fixed",className:m.appBar,children:Object(a.jsxs)(er.a,{children:[Object(a.jsx)(tr.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){j(ir())},className:m.menuButton,children:Object(a.jsx)(nr.a,{})}),Object(a.jsx)(Ie.a,{children:"Petshield Veterinary Clinic - "+o}),Object(a.jsx)("div",{className:m.grow}),Object(a.jsx)(Pr,{}),Object(a.jsx)(tr.a,{edge:"end",onClick:function(e){r(e.target)},children:Object(a.jsx)(ar.a,{style:{fontSize:"2rem"}})})]})}),Object(a.jsx)($a.a,{anchorEl:n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:O,children:Object(a.jsx)(En.a,{onClick:f,children:"Logout"})})]})},Fr=n(668),Rr=n(669),Mr=n(672),_r=n(700),Br=n(708),Hr=n(666),zr=n(667),Wr=n(670),Vr=n(671),Gr=n.p+"static/media/house.7d774967.svg",Yr=n.p+"static/media/all_clients.2a3b6270.svg",qr=n.p+"static/media/all_items.e153111f.svg",Ur=n.p+"static/media/appointments.f3506a0a.svg",Kr=n.p+"static/media/clients.b5a069e7.svg",Jr=n.p+"static/media/dashboard.99dfeff1.svg",Qr=n.p+"static/media/inventory.c084951b.svg",Xr=n.p+"static/media/item_transactions.a4256305.svg",$r=(n.p,n.p+"static/media/payments.8026a3af.svg"),Zr=n(141),ec=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,drawer:Object(Et.a)({},e.breakpoints.up("sm"),{width:K,flexShrink:0}),drawerPaper:{width:K,backgroundColor:"#343434"},nested:{paddingLeft:"".concat(e.spacing(4))},drawerIcon:{width:"34px",height:"34px",fill:"".concat(e.palette.primary.main," !important")}}})),tc=function(){var e=ec(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.drawer})).isOpen,r=Object(l.useState)({home:!1,clients:!1,inventory:!1,admin:!1}),c=Object(h.a)(r,2),i=c[0],o=c[1],s=[{label:"Home",type:"home",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{home:!i.home}))},icon:Gr,subItems:[{label:"Dashboard",icon:Jr,path:"/home/dashboard"}]},{label:"Clients",type:"clients",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{clients:!i.clients}))},icon:Kr,subItems:[{label:"All Clients",icon:Yr,path:"/clients/all-clients"},{label:"Payments",icon:$r,path:"/clients/payments"},{label:"Appointments",icon:Ur,path:"/clients/appointments"}]},{label:"Inventory",type:"inventory",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{inventory:!i.inventory}))},icon:Qr,subItems:[{label:"All Items",icon:qr,path:"/inventory/items"},{label:"Item Transactions",icon:Xr,path:"/inventory/sales"}]},{label:"Admin",type:"admin",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{admin:!i.admin}))},mIcon:Hr.a,subItems:[{label:"Item Category",mIcon:zr.a,path:"/admin/item-categories"}]}],u=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)(Ir.a,{}),Object(a.jsx)(Sr.a,{children:s.map((function(t){return Object(a.jsxs)(d.a.Fragment,{children:[Object(a.jsxs)(Cr.a,{button:!0,onClick:t.handleOnClick,children:[Object(a.jsx)(Fr.a,{children:t.icon?Object(a.jsx)(Zr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(Rr.a,{primary:t.label}),i[t.type]?Object(a.jsx)(Wr.a,{}):Object(a.jsx)(Vr.a,{})]},t.label),Object(a.jsx)(Mr.a,{in:i[t.type],timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(Sr.a,{component:"div",children:t.subItems.map((function(t){return Object(a.jsxs)(Cr.a,{button:!0,component:m.b,to:t.path,className:e.nested,children:[Object(a.jsx)(Fr.a,{children:t.icon?Object(a.jsx)(Zr.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(Rr.a,{primary:t.label})]},t.label)}))})})]},t.label)}))})]}),j=function(){t(ir())};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_r.a,{smUp:!0,implementation:"css",children:Object(a.jsx)(Br.a,{className:e.drawer,variant:"temporary",anchor:"left",open:n,onClose:j,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:u})}),Object(a.jsx)(_r.a,{smDown:!0,implementation:"css",children:Object(a.jsx)(Br.a,{className:e.drawer,classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:u})})]})},nc=function(e){var t=e.component,n=Object(An.a)(e,["component"]),r=Object(b.c)((function(e){return e.auth})).user;return 0!==Object.keys(r).length?Object(a.jsx)(p.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Lr,{}),Object(a.jsx)(tc,{}),Object(a.jsx)(t,Object(f.a)({},e))]})}})):Object(a.jsx)(p.a,{to:{pathname:"/auth/login"}})},ac=n(232),rc=n(345),cc=n.n(rc),ic=n(346),oc=n.n(ic),sc=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"100%"},textField:{paddingBottom:"1em"}}})),lc=function(e){var t=e.onSubmit,n=sc(),r=Object(l.useState)(!1),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(It.b)(),d=s.register,u=s.errors,j=s.handleSubmit;return Object(a.jsxs)("form",{id:"loginForm",className:n.root,onSubmit:j(t),children:[Object(a.jsx)(Nt.a,{className:n.textField,variant:"outlined",label:"Username",name:"username",size:"small",helperText:u.username?"This field is required!":"",inputRef:d({required:!0}),error:!!u.username}),Object(a.jsx)(Nt.a,{className:n.textField,variant:"outlined",label:"Password",name:"password",size:"small",helperText:u.password?"This field is required!":"",type:i?"text":"password",inputRef:d({required:!0}),InputProps:{endAdornment:Object(a.jsx)(wt.a,{children:Object(a.jsx)(tr.a,{onClick:function(){o(!i)},children:i?Object(a.jsx)(cc.a,{color:"secondary"}):Object(a.jsx)(oc.a,{color:"secondary"})})})},error:!!u.password})]})},dc=n.p+"static/media/login_background.102072f5.png",uc=n.p+"static/media/logo.68ea1519.png",jc=Object(O.a)((function(e){return{root:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},background:{height:"100vh",width:"100%",position:"absolute",top:"0",left:"0",backgroundImage:"url(".concat(dc,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"blur(4px)"},container:{display:"grid",width:"100%",height:"100%",maxHeight:"500px",maxWidth:"500px",gridTemplate:"1fr 1fr 1fr/ 1fr",placeContent:"center",padding:"1em",zIndex:2},loading:{display:"grid",width:"100%",height:"100%",placeContent:"center"},centerItem:{display:"grid",placeSelf:"center"},logo:{position:"fixed",top:"0",margin:"1em auto",width:"80px",height:"80px",zIndex:2}}})),bc=function(){var e=jc(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.auth})),r=n.user,c=n.isLoading,i=function(e){var n;t((n=e,function(){var e=Object(z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(le()),e.next=4,ne(n);case 4:a=e.sent,t(de(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(ue(e.t0.message)),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message}}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(ac.a,{className:e.root,elevation:0,children:[Object(a.jsx)("img",{className:e.logo,src:uc,alt:"logo"}),Object(a.jsx)("div",{className:e.background}),c?Object(a.jsx)("div",{className:e.loading,children:Object(a.jsx)(F.a,{color:"primary"})}):0===Object.keys(r).length?Object(a.jsxs)(ac.a,{variant:"outlined",className:e.container,children:[Object(a.jsx)(Ie.a,{className:e.centerItem,align:"center",variant:"h5",children:"Petshield Veterinary Clinic"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(lc,{onSubmit:i}),Object(a.jsx)(fe.a,{color:"primary",form:"loginForm",type:"submit",variant:"contained",fullWidth:!0,children:"Login"})]})]}):Object(a.jsx)(p.a,{to:"/home/dashboard"})]})},mc=n(673),pc=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/stats/".concat(t,"/item-sales?salesDate=").concat(n,"&salesDateCateg=").concat(a));case 2:if(!(r=e.sent).data.data){e.next=7;break}return e.abrupt("return",r.data.data);case 7:throw Error(r.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Oc=Object(S.b)({name:"homeSalesStats",initialState:{isLoading:!1,stats:{},error:null},reducers:{fetchItemSalesStatsStart:function(e){e.isLoading=!0},fetchItemSalesStatsSuccess:function(e,t){e.isLoading=!1,e.stats=t.payload},fetchItemSalesStatsFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),fc=Oc.reducer,hc=Oc.actions,xc=hc.fetchItemSalesStatsFailure,gc=hc.fetchItemSalesStatsStart,vc=hc.fetchItemSalesStatsSuccess,yc=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"}}})),Sc=function(e){var t=e.setSalesDateCateg,n=e.salesDateCateg,r=e.salesDate,c=e.setSalesDate,i=yc(),o=Object(b.b)();return Object(l.useEffect)((function(){o(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(gc()),n.next=5,pc(c.branchName,e,t);case 5:i=n.sent,a(vc(i)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a(xc(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,n))}),[o,r,n]),Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsxs)(Pn.a,{value:n,onChange:function(e){var n=e.target.value;t(n)},variant:"outlined",children:[Object(a.jsx)(En.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(En.a,{value:"yearly",children:"Yearly"})]}),Object(a.jsx)(Ln.a,{value:r,allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},views:{monthly:["month","year"],yearly:["year"]}[n],onChange:function(e){c(hn()(e).format("MM-DD-YYYY"))}})]})},Cc=n(696),Ic=n(674),Nc=n(678),wc=n(357),Ac=n(358),Dc=n(231),kc=n(181),Pc=n(371),Ec=n(702),Tc=n(372),Lc=Object(O.a)((function(e){return{root:{padding:e.spacing(2)}}})),Fc=function(e){var t=e.payload,n=e.active,r=Lc();if(n&&t){var c=t[0].payload.name,i=t[0].payload.sales;return Object(a.jsxs)(mc.a,{className:r.root,children:[Object(a.jsx)(Ie.a,{variant:"h6",align:"center",children:c}),Object(a.jsx)("br",{}),function(){if(0!==Object.keys(i).length){var e=Object.keys(i).filter((function(e){return"Net Sales"!==e})).map((function(e){return Object(a.jsx)(Ie.a,{children:"".concat(e,": ").concat(ye(i[e]))},e)}));return Object(a.jsxs)(a.Fragment,{children:[e,Object(a.jsx)(Ie.a,{children:"Net Sales: ".concat(void 0!==i["Net Sales"]?ye(i["Net Sales"]):0)})]})}return Object(a.jsx)(Ie.a,{children:"No Sales"})}()]})}return null},Rc=Object(O.a)((function(e){return{root:Object(Et.a)({width:"100%",display:"flex",justifyContent:"space-evenly",flexDirection:"column",gridGap:"1em"},e.breakpoints.up("sm"),{flexDirection:"row"}),tooltip:{backgroundColor:"red"}}})),Mc=function(){var e=Rc(),t=Object(b.c)((function(e){return e.homeSalesStats})),n=t.isLoading,r=t.stats,c=Object(l.useState)([]),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)([]),u=Object(h.a)(d,2),j=u[0],m=u[1];Object(l.useEffect)((function(){var e={Grooming:"#8884D8","Vet Sales":"#8CDEDC","Store Sales":"#B2ECE1","Blood Test":"#D295BF",default:"#DE9151"};0!==Object.keys(r).length&&function(){for(var t=r.data.map((function(e){return{name:e.category,sales:e.value,netSales:void 0!==e.value["Net Sales"]?e.value["Net Sales"]:0}})),n={},a=function(e){0!==Object.keys(r.data[e].value).length&&Object.keys(r.data[e].value).filter((function(e){return"Net Sales"!==e})).forEach((function(t){n[t]||(n[t]=0),n[t]+=r.data[e].value[t]}))},c=0;c<r.data.length;c++)a(c);var i=Object.keys(n).map((function(t){return{name:t,value:n[t],fill:void 0!==e[t]?e[t]:e.default}}));m(i),s(t)}()}),[r,n,m,s]);return Object(a.jsx)("div",{className:e.root,children:n?Object(a.jsx)(F.a,{}):0!==o.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Cc.a,{width:"100%",height:400,children:Object(a.jsxs)(Ic.a,{data:o,children:[Object(a.jsx)(Nc.a,{strokeDasharray:"3 3"}),Object(a.jsx)(wc.a,{dataKey:"name",type:"category"}),Object(a.jsx)(Ac.a,{type:"number",dataKey:"netSales",name:"Net Sales"}),Object(a.jsx)(Dc.a,{content:Object(a.jsx)(Fc,{})}),Object(a.jsx)(kc.a,{}),Object(a.jsx)(Pc.a,{type:"monotone",dataKey:"netSales"})]})}),Object(a.jsx)(Cc.a,{width:"100%",height:400,children:Object(a.jsxs)(Ec.a,{children:[Object(a.jsx)(Dc.a,{}),Object(a.jsx)(kc.a,{}),Object(a.jsx)(Tc.a,{data:j,dataKey:"value"})]})})]}):null})},_c=Object(O.a)((function(e){return{root:Object(Et.a)({padding:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"}),title:{margin:"".concat(e.spacing(2)," 0")}}})),Bc=function(){var e=hn()(Date.now()).format("MM-DD-YYYY"),t=Object(l.useState)("monthly"),n=Object(h.a)(t,2),r=n[0],c=n[1],i=Object(l.useState)(e),o=Object(h.a)(i,2),s=o[0],d=o[1],u=_c();return Object(a.jsxs)(mc.a,{className:u.root,children:[Object(a.jsx)(Sc,{salesDate:s,setSalesDate:d,salesDateCateg:r,setSalesDateCateg:c}),Object(a.jsx)(Ie.a,{variant:"h5",align:"center",className:u.title,children:"".concat(r.toUpperCase()," Sales")}),Object(a.jsx)("div",{children:Object(a.jsx)(Mc,{})})]})},Hc=Object(O.a)((function(e){return{root:Object(Et.a)({padding:e.spacing(3),height:"100%",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"})}})),zc=function(){var e=Hc();return Object(a.jsx)(ac.a,{className:e.root,children:Object(a.jsx)(Bc,{})})},Wc=n(683),Vc=n.p+"static/media/consultations.524fbfbc.svg",Gc=n(703),Yc=n(274),qc=n(679),Uc=n(680),Kc=n(681),Jc=n(682),Qc=n.p+"static/media/rx_icon.edf0143d.png",Xc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},owner:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),$c=function(){var e=Xc();return Object(a.jsxs)(ac.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Gc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ie.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(Ie.a,{className:e.owner,children:"Owner: Paolo"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(Yc.a,{className:e.consultationButton,children:Object(a.jsx)(qc.a,{})}),Object(a.jsx)(Yc.a,{className:e.consultationButton,children:Object(a.jsx)(Uc.a,{})}),Object(a.jsx)(Yc.a,{className:e.consultationButton,children:Object(a.jsx)(Kc.a,{})}),Object(a.jsx)(Yc.a,{className:Gn()(e.consultationButton,e.finish),children:Object(a.jsx)(mn.a,{})}),Object(a.jsx)(Yc.a,{className:e.consultationButton,children:Object(a.jsx)(Jc.a,{})}),Object(a.jsx)(Yc.a,{className:Gn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Qc,alt:"rx"})})]})]})},Zc=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},consultationList:{marginTop:"1em"}}})),ei=function(){var e=Zc();return Object(a.jsx)(mc.a,{className:e.root,children:Object(a.jsxs)(Wc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Ie.a,{variant:"h5",children:"Consultations"}),Object(a.jsxs)(Ie.a,{className:e.subTitle,variant:"body1",children:["Pets to consult:"," "]})]}),Object(a.jsx)(Zr.a,{src:Vc,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(Ir.a,{}),Object(a.jsx)(Sr.a,{className:e.consultationList,children:Object(a.jsx)($c,{})})]})})},ti=n.p+"static/media/admitted.d82cca45.svg",ni=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),ai=function(){var e=ni();return Object(a.jsxs)(ac.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Gc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ie.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(Ie.a,{className:e.subTitle,children:"Owner: Paolo"}),Object(a.jsx)(Ie.a,{className:e.subTitle,children:"Days admitted: 0"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(Yc.a,{className:e.consultationButton,children:Object(a.jsx)(Kc.a,{})}),Object(a.jsx)(Yc.a,{className:e.consultationButton,children:Object(a.jsx)(Uc.a,{})}),Object(a.jsx)(Yc.a,{className:e.consultationButton,children:Object(a.jsx)(qc.a,{})}),Object(a.jsx)(Yc.a,{className:Gn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Qc,alt:"rx"})})]})]})},ri=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},admittancesList:{marginTop:"1em"}}})),ci=function(){var e=ri();return Object(a.jsx)(mc.a,{className:e.root,children:Object(a.jsxs)(Wc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Ie.a,{variant:"h5",children:"Admitted"}),Object(a.jsx)(Ie.a,{className:e.subTitle,variant:"body1",children:"Pets admitted:"})]}),Object(a.jsx)(Zr.a,{src:ti,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(Ir.a,{}),Object(a.jsx)(Sr.a,{className:e.admittancesList,children:Object(a.jsx)(ai,{})})]})})},ii=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},container:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(3)}}})),oi=function(){var e=ii();return Object(a.jsx)(ac.a,{className:e.root,children:Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(ei,{}),Object(a.jsx)(ci,{})]})})},si=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/dashboard"),component:zc}),Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/pet-queues"),component:oi}),Object(a.jsx)(p.a,{to:"".concat(t.url,"/dashboard")})]})},li=n(684),di=n(685),ui=Object(O.a)((function(e){return{root:{marginBottom:e.spacing(2)},container:Object(Et.a)({display:"flex",borderRadius:"10px",backgroundColor:"#2f2f2f"},e.breakpoints.up("sm"),{flexDirection:"row",justifyContent:"space-between"}),infoContainer:{display:"flex",justifyContent:"flex-start"},buttonsContainer:Object(Et.a)({display:"flex",gridGap:"0.3em",justifyContent:"space-evenly",padding:"1em"},e.breakpoints.up("sm"),{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"}),consultationButton:{zIndex:"10",padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:Object(Et.a)({height:e.spacing(7),width:e.spacing(7),marginRight:"1em",display:"none"},e.breakpoints.up("sm"),{display:"flex"}),subTitle:{opacity:"0.6",fontSize:"0.9rem"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}},clientMoreDetails:{display:"flex",flexDirection:"column",padding:e.spacing(2)}}})),ji=function(e){var t=e.client,n=e.index,r=ui(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)(),u=function(){d(w({modalType:"CLIENT_TRANSACTIONS_MODAL",modalProps:{index:n}}))},j=function(){d(w({modalType:"CLIENT_VETERINARIAN_NOTE_MODAL",modalProps:{index:n}}))},m=function(){d(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{clientIndex:n,startDate:Date().toString()}}))},p=function(){d(w({modalType:"CLIENT_APPOINTMENTS_MODAL",modalProps:{clientIndex:n}}))};return Object(a.jsxs)(ac.a,{className:r.root,children:[Object(a.jsxs)(Cr.a,{button:!0,className:r.container,onClick:function(){s(!o)},children:[Object(a.jsxs)("div",{className:r.infoContainer,children:[Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsx)(Gc.a,{className:r.petAvatar})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ie.a,{variant:"h6",children:"Pet Name: ".concat(t.pet.petName)}),Object(a.jsx)(Ie.a,{className:r.subTitle,children:"Owner: ".concat(t.clientName)}),Object(a.jsx)(Ie.a,{className:r.subTitle,children:"Pet Species: ".concat(t.pet.species)}),Object(a.jsx)(Ie.a,{className:r.subTitle,children:"Pet Breed: ".concat(t.pet.petBreed)}),Object(a.jsx)(Ie.a,{className:r.subTitle,children:"Last Visit: ".concat(hn()(t.lastVisit).format("MM-DD-YYYY HH-MM-SS A"))}),Object(a.jsx)(Ie.a,{className:r.subTitle,children:"Next Visit: ".concat(hn()(t.nextVisit).format("MM-DD-YYYY HH-MM-SS A"))})]})]}),Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsxs)("div",{className:r.buttonsContainer,children:[Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:u,children:Object(a.jsx)(li.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,children:Object(a.jsx)(Uc.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:j,children:Object(a.jsx)(qc.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:p,children:Object(a.jsx)(di.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:m,children:Object(a.jsx)(Jc.a,{})}),Object(a.jsx)(Yc.a,{className:Gn()(r.consultationButton,r.rxIcon),children:Object(a.jsx)("img",{src:Qc,alt:"rx"})})]})})]}),Object(a.jsxs)(Mr.a,{in:o,timeout:"auto",unmountOnExit:!0,children:[Object(a.jsxs)(_r.a,{smUp:!0,children:[Object(a.jsx)(Ir.a,{}),Object(a.jsxs)("div",{className:r.buttonsContainer,children:[Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:u,children:Object(a.jsx)(li.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,children:Object(a.jsx)(Uc.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:j,children:Object(a.jsx)(qc.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:p,children:Object(a.jsx)(di.a,{})}),Object(a.jsx)(Yc.a,{className:r.consultationButton,onClick:m,children:Object(a.jsx)(Jc.a,{})}),Object(a.jsx)(Yc.a,{className:Gn()(r.consultationButton,r.rxIcon),children:Object(a.jsx)("img",{src:Qc,alt:"rx"})})]}),Object(a.jsx)(Ir.a,{})]}),Object(a.jsxs)("div",{className:r.clientMoreDetails,children:[Object(a.jsx)(Ie.a,{children:"Address: ".concat(t.address)}),Object(a.jsx)(Ie.a,{children:"Contact Number: ".concat(t.contactNumber)}),Object(a.jsx)(Ie.a,{children:"Email: ".concat(t.email)}),Object(a.jsx)(Ie.a,{children:"Veterinarian Note: ".concat(t.veterinarianNote)})]})]})]})},bi=Object(O.a)((function(e){return{root:{minHeight:"100%",overflowY:"auto",overflowX:"hidden",padding:"0 ".concat(e.spacing(2)),paddingBottom:e.spacing(5)}}})),mi=function(e){var t=e.clients,n=bi();return Object(a.jsx)(Sr.a,{className:n.root,children:Object.keys(t).map((function(e){return Object(a.jsx)(ji,{client:t[e],index:e},t[e].ID)}))})},pi=n(686),Oi=n(687),fi=Object(O.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2),justifyContent:"space-between"}}})),hi=function(){var e=Object(b.b)(),t=fi(),n=Object(On.debounce)((function(t){var n;e(""!==t?(n=t,function(){var e=Object(z.a)(H.a.mark((function e(t,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,t(He()),e.next=5,Ae(n,r.branchName);case 5:c=e.sent,t(ze(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Be(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()):yt())}),800),r=function(e){n(e.target.value)};return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(_r.a,{smUp:!0,children:Object(a.jsx)(Nt.a,{variant:"outlined",label:"Search",size:"small",fullWidth:!0,InputProps:{endAdornment:Object(a.jsx)(wt.a,{children:Object(a.jsx)(pi.a,{color:"primary"})})},onChange:r})}),Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsx)(Nt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(wt.a,{children:Object(a.jsx)(pi.a,{color:"primary"})})},onChange:r})}),Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Oi.a,{}),onClick:function(){e(w({modalType:"ADD_CLIENT_MODAL"}))},children:"Add Client"})})]})},xi=Object(O.a)((function(e){return{root:Object(Et.a)({padding:e.spacing(3),height:"100%",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh",overflow:"hidden"}),loadingIndicator:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{display:"flex",justifyContent:"flex-end"}}})),gi=function(){var e=xi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.clients,c=n.isClientsLoading,i=Object(l.useState)(null),o=Object(h.a)(i,2),s=o[0],d=o[1];Object(l.useEffect)((function(){t(yt())}),[t]);return Object(a.jsxs)(ac.a,{className:e.root,children:[Object(a.jsx)(hi,{setClientResultsSearch:d}),c?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(mi,{clients:s||r})})]})},vi=n(57),yi=n(7),Si=n(77),Ci=n(688),Ii=Object(O.a)((function(e){return{icon:{color:e.palette.action.active},textCenter:{textAlign:"center"},commandButton:{backgroundColor:"rgba(255,255,255,0.65)"},header:{display:"flex",justifyContent:"space-between"},form:{display:"flex",marginTop:e.spacing(2),width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),Ni=function(e){e.children;var t=e.appointmentData,n=e.setIsEditing,r=e.isEditing,c=e.setAppointmentVisible,i=Object(An.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible"]),o=Object(b.b)(),s=Ii();return Object(a.jsxs)(Si.b.Header,Object(f.a)(Object(f.a)({className:s.header},i),{},{appointmentData:t,children:[Object(a.jsx)(tr.a,{onClick:function(){var e=t.appointment;o(function(e){var t=e.appointmentId;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(gt()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Te({appointmentId:t,branchName:r.branchName});case 6:c=e.sent,n(T()),n(xt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(ht(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointmentId:e.ID})),c(!1)},children:Object(a.jsx)(Yt.a,{color:"error"})}),Object(a.jsx)(tr.a,{onClick:function(){return n(!r)},children:Object(a.jsx)(Ci.a,{color:r?"primary":"action"})})]}))},wi=function(e){e.children;var t=e.appointmentData,n=(e.setIsEditing,e.isEditing),r=e.setAppointmentVisible,c=(e.onAppointmentMetaChanged,Object(An.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible","onAppointmentMetaChanged"])),i=Ii(),o=Object(b.b)(),s=Object(It.b)(),l=s.handleSubmit,d=s.control,u=t.appointment;return Object(a.jsx)(Si.b.Content,Object(f.a)(Object(f.a)({},c),{},{appointmentData:t,children:Object(a.jsxs)("form",{className:i.form,id:"updateAppointmentForm",onSubmit:l((function(e){var t=hn()(e.date).toISOString(),n=Object(f.a)(Object(f.a)({},u),{},{date:t,veterinarianNote:e.veterinarianNotes});r(!1),o(function(e){var t=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(Ot()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Fe({branchName:r.branchName,appointment:t});case 6:c=e.sent,n(T()),n(ft(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(pt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointment:n}))})),children:[Object(a.jsx)(It.a,{id:"appointment-date",name:"date",control:d,defaultValue:hn()(u.date).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(Ln.a,Object(f.a)({disabled:!n,renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date",readOnly:!n}))}},e))}}),Object(a.jsx)(It.a,{name:"veterinarianNotes",control:d,defaultValue:u.veterinarianNote,rules:{},render:function(e){return Object(a.jsx)(Nt.a,Object(f.a)({disabled:!n,label:"Notes",multiline:!0,size:"small",rows:5},e))}}),n?Object(a.jsx)(fe.a,{form:"updateAppointmentForm",children:"Update Appointment"}):null]})}))},Ai=function(e){var t=Object(b.b)();return Object(a.jsx)(Si.e.TimeTableCell,Object(f.a)({onClick:function(){t(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{startDate:String(e.startDate)}}))}},e))},Di=n(148),ki=n(149),Pi=n(221),Ei=n(218),Ti=function(e){Object(Pi.a)(n,e);var t=Object(Ei.a)(n);function n(e){var a;return Object(Di.a)(this,n),(a=t.call(this,e)).ref=d.a.createRef(),a}return Object(ki.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.setAppointmentVisible,a=e.onAppointmentMetaChange,r=e.notificationState,c=e.setNotificationState;if(r){var i=r.appointment;Array.isArray(i)?i[0].ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null)):i.ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null))}}},{key:"render",value:function(){var e=this.props,t=e.data,n=(e.onClick,e.classes,e.setAppointmentVisible),r=e.onAppointmentMetaChange,c=(e.location,Object(An.a)(e,["data","onClick","classes","setAppointmentVisible","onAppointmentMetaChange","location"]));return Object(a.jsx)(Si.c.Appointment,Object(f.a)(Object(f.a)({ref:this.ref,onClick:function(e){var a=e.target;n(!0),r({target:a.parentElement.parentElement,data:t})}},c),{},{children:Object(a.jsx)("div",{ref:this.ref,children:c.children})}))}}]),n}(d.a.Component),Li=Object(O.a)((function(e){return{root:{height:"100%",borderRadius:"10px",overflow:"hidden"},button:{color:e.palette.background.default,padding:0},appointmentWrapper:{display:"flex",flexWrap:"wrap"}}})),Fi=function(e){var t=e.data,n=Li(),r=Object(p.h)(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(r.state),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(!1),O=Object(h.a)(m,2),f=O[0],x=O[1],g=Object(l.useState)({target:null,data:{}}),v=Object(h.a)(g,2),y=v[0],S=v[1],C=function(e){var t=e.data,n=e.target;x(!1),S({data:t,target:n})},I=Object(yi.k)(Ni,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s}})),N=Object(yi.k)(wi,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s,onAppointmentMetaChanged:C}})),w=Object(yi.k)(Ti,(function(){return{classes:n,setAppointmentVisible:s,onAppointmentMetaChange:C,notificationState:j,setNotificationState:b}}));return Object(a.jsx)(ac.a,{className:n.root,children:Object(a.jsxs)(Si.f,{height:"auto",data:t,className:n.root,children:[Object(a.jsx)(vi.q,{}),Object(a.jsx)(Si.e,{timeTableCellComponent:Ai}),Object(a.jsx)(Si.g,{}),Object(a.jsx)(Si.d,{}),Object(a.jsx)(Si.c,{appointmentComponent:w}),Object(a.jsx)(Si.b,{headerComponent:I,contentComponent:N,visible:o,onVisibilityChange:function(e){return s(e)},appointmentMeta:y,onAppointmentMetaChange:C}),Object(a.jsx)(Si.a,{})]})})},Ri=function(){var e=Object(b.c)((function(e){return e.clients})).appointments.map((function(e){return{id:e.ID,startDate:new Date(e.date),endDate:hn()(new Date(e.date)).add(2,"hours").toDate(),title:"".concat(e.client.clientName," - ").concat(e.client.pet.petName," : ").concat(e.type),client:e.client,appointment:e}}));return Object(a.jsx)(Fi,{data:e})},Mi=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),_i=function(){var e=Mi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})).isAppointmentsLoading;Object(l.useEffect)((function(){t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(dt()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(a.branchName,"/appointments?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(ut(n.data))}}catch(c){t(lt(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(mc.a,{className:e.root,children:n?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(Ri,{})})},Bi=Object(O.a)((function(e){return{root:Object(Et.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Hi=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=e.setSelectedClient,c=Bi(),i=Object(b.c)((function(e){return e.clients})),o=i.isClientsLoading,s=i.clients;return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)("div",{children:n?Object(a.jsx)(Xt.a,{loading:o,options:s,getOptionLabel:function(e){return e.clientName},renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Client Name",variant:"outlined",helperText:"Enter client name here.",InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[o?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&r(t)}}):null}),Object(a.jsx)("div",{children:Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Kt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})})]})},zi=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:e.spacing(1)},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),Wi=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.selectedClient,c=e.setSelectedClient,i=Object(l.useState)({}),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(1),j=Object(h.a)(u,2),m=j[0],p=j[1],O=hn()(Date.now()).format("MM-DD-YYYY"),x=Object(b.c)((function(e){return e.inventorySearch})),g=x.result,v=x.isLoading,y=zi(),S=Object(b.b)();if(Object(l.useEffect)((function(){S(yt())}),[S]),!t)return null;var C=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(s.inStock)&&p(t)},I=function(){c({}),d({}),p(1)},N=function(){S(St(r.ID,s.ID,m)),I(),S(jn()),n(!1)},w=function(){I(),S(jn()),n(!1)},A=Object(On.debounce)((function(e){S(""===e?jn():bn(e))}),800),D=function(e){A(e.target.value)};return Object(a.jsxs)(Mt.a,{className:y.root,children:[Object(a.jsx)(_t.a,{children:O}),Object(a.jsx)(_t.a,{children:r.clientName}),Object(a.jsx)(_t.a,{children:0===Object.keys(r).length?"Select a client first":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Xt.a,{loading:v,options:g.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{label:"Product Name",size:"small",onChange:D,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[v?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&d(t)}}),s.name]})}),function(){var e=s.price*m,t=e-(s.isIncentiveFixed?Number(s.incentiveAmount).toFixed(2):Number(e*(s.incentiveRate/100)).toFixed(2));return 0===Object.keys(s).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(_t.a,{children:["\u20b1",Number(s.price).toFixed(2)]}),Object(a.jsx)(_t.a,{className:y.quantityCell,children:Object(a.jsx)(Nt.a,{size:"small",variant:"outlined",type:"number",value:m,margin:"dense",onChange:C})}),Object(a.jsxs)(_t.a,{children:["\u20b1",Number(e).toFixed(2)]}),Object(a.jsx)(_t.a,{children:"".concat(Number(s.incentiveRate).toFixed(2),"%")}),Object(a.jsx)(_t.a,{children:s.isIncentiveFixed?"\u20b1".concat(Number(s.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(s.incentiveRate/100)).toFixed(2))}),Object(a.jsxs)(_t.a,{children:["\u20b1",Number(t).toFixed(2)]}),Object(a.jsx)(_t.a,{children:s.category}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)("div",{className:y.buttonRows,children:[Object(a.jsx)(fe.a,{className:y.submitButton,variant:"outlined",onClick:N,children:Object(a.jsx)(mn.a,{})}),Object(a.jsx)(fe.a,{className:y.cancelButton,variant:"outlined",onClick:w,children:Object(a.jsx)(pn.a,{})})]})})]})}()]})},Vi=Object(O.a)((function(e){return{root:Object(Et.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:qt.a[400],border:"2px solid red",borderColor:qt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),Gi=function(e){var t=e.data,n=e.columns,r=Vi(),c=Object(b.b)(),i=Object(l.useState)(0),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(10),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(l.useState)(!1),x=Object(h.a)(O,2),g=x[0],v=x[1],y=Object(l.useState)({}),S=Object(h.a)(y,2),C=S[0],I=S[1],N=Object(Tt.useTable)({data:t,columns:n},Tt.useSortBy),A=N.getTableProps,D=N.headerGroups,k=N.prepareRow,P=N.rows;return Object(a.jsxs)(ac.a,{className:r.root,children:[Object(a.jsx)(Hi,{toggleAddItemSaleRow:v,showAddItemSaleRow:g,setSelectedClient:I,selectedClient:C}),Object(a.jsx)(Lt.a,{children:Object(a.jsxs)(Ft.a,Object(f.a)(Object(f.a)({},A()),{},{stickyHeader:!0,children:[Object(a.jsx)(Rt.a,{children:D.map((function(e){return Object(a.jsxs)(Mt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(_t.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Wt.a,{fontSize:"small"}):Object(a.jsx)(Gt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(_t.a,{})]})}))}),Object(a.jsxs)(Bt.a,{className:r.container,children:[Object(a.jsx)(Wi,{showAddItemSaleRow:g,toggleAddItemSaleRow:v,selectedClient:C,setSelectedClient:I}),P.slice(s*m,s*m+m).map((function(e,t){return k(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Mt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(_t.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:e.render("Cell")}))},"col".concat(t))})),Object(a.jsx)(_t.a,{children:Object(a.jsx)(fe.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Yt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Ht.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:m,count:t.length,page:s,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})},Yi=function(e){var t=e.itemSales,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:hn()(e.CreatedAt).format("L"),col2:e.client.clientName,col3:e.item.name,col4:ye(e.item.price),col5:e.quantity,col6:ye(e.sales),col7:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col8:e.item.isIncentiveFixed?ye(e.item.incentiveAmount):ye(e.incentives*e.quantity),col9:ye(e.netSales),col10:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Client",accessor:"col2"},{Header:"Product",accessor:"col3"},{Header:"Price",accessor:"col4"},{Header:"Qty",accessor:"col5"},{Header:"Sales",accessor:"col6"},{Header:"Rate",accessor:"col7"},{Header:"Incentives",accessor:"col8"},{Header:"Net Sales",accessor:"col9"},{Header:"Category",accessor:"col10"}]}),[]),itemSales:t};return Object(a.jsx)(Gi,Object(f.a)({},n))},qi=Object(O.a)((function(e){return{root:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"150px",alignItems:"center",padding:"1em",backgroundColor:"#1D1D1D",overflow:"hidden","&::before":{content:'" "',position:"absolute",backgroundColor:e.palette.primary.main,height:"8px",width:"50%",top:"-3px",borderRadius:"20px"}}}})),Ui=function(e){var t=e.title,n=e.value,r=e.dailySales,c=qi(),i=Object(b.b)();return Object(a.jsxs)(Yc.a,{className:c.root,elevation:0,onClick:function(){r&&0!==Object.keys(r).length&&(String(t).includes("Net Sales")?i(w({modalType:"NET_SALES_BREAKDOWN_MODAL",modalProps:{title:t,dailySales:r}})):i(w({modalType:"SALES_BREAKDOWN_MODAL",modalProps:{title:t,dailySales:r}})))},children:[Object(a.jsx)(Ie.a,{style:{fontWeight:"bold"},align:"center",children:t}),Object(a.jsx)(Ie.a,{children:ye(n)})]})},Ki=Object(O.a)((function(e){return{root:Object(Et.a)({display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"1em",marginBottom:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{gap:"0"}),picker:{height:"100% !important"}}})),Ji=function(e){var t=e.onSalesDateChanged,n=e.onSalesDateCategChanged,r=Ki(),c=hn()(Date.now()).format("MM-DD-YYYY"),i={daily:["date"],monthly:["month","year"],yearly:["year"]},o=Object(l.useState)("daily"),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(c),b=Object(h.a)(j,2),m=b[0],p=b[1],O=function(e){u(e),n({salesDate:m,salesDateCateg:e})};return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(_r.a,{smUp:!0,children:Object(a.jsxs)(Pn.a,{variant:"outlined",value:d,fullWidth:!0,onChange:function(e){return O(e.target.value)},children:[Object(a.jsx)(En.a,{value:"overall",children:"All"}),Object(a.jsx)(En.a,{value:"yearly",children:"Yearly"}),Object(a.jsx)(En.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(En.a,{value:"daily",children:"Daily"})]})}),Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsxs)(Pn.a,{variant:"outlined",value:d,onChange:function(e){return O(e.target.value)},children:[Object(a.jsx)(En.a,{value:"overall",children:"All"}),Object(a.jsx)(En.a,{value:"yearly",children:"Yearly"}),Object(a.jsx)(En.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(En.a,{value:"daily",children:"Daily"})]})}),"overall"===d?null:Object(a.jsx)(Ln.a,{value:m,views:i[d],allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_r.a,{smUp:!0,children:Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({fullWidth:!0},e),{},{helperText:"",variant:"outlined"}))}),Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))})]})},onChange:function(e){!function(e){var n=e.format("MM-DD-YYYY").toString();p(n),t({salesDate:n,salesDateCateg:d})}(e)}})]})},Qi=Object(O.a)((function(e){return{root:Object(Et.a)({display:"grid",width:"100%",gridGap:"1.5em",paddingBottom:"1em"},e.breakpoints.up("sm"),{gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr 1fr"})}})),Xi=function(e){var t=e.dailySales,n=e.metadata,r=Qi(),c=Object(l.useState)({dailySales:[],sales:0}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(0),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(0),p=Object(h.a)(m,2),O=p[0],f=p[1],x=Object(l.useState)(0),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(l.useState)(0),C=Object(h.a)(S,2),I=C[0],N=C[1],w=Object(l.useState)(0),A=Object(h.a)(w,2),D=A[0],k=A[1],P=Object(l.useState)(""),E=Object(h.a)(P,2),T=E[0],L=E[1],F=Object(l.useCallback)((function(){var e=0,n=0,a=[],r=[];Object.keys(t).forEach((function(c){"Blood Test"===c?(b(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Grooming"===c?(f(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Vet Sales"===c?(y(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Store Sales"===c?(r.push(t[c].items),n+=t[c].netSales,N(t[c].netSales)):(r.push(t[c].items),a.push(t[c].items),e+=t[c].netSales)})),s({sales:e}),k(n+e)}),[s,k,t]),R=Object(l.useCallback)((function(){var e=String(n.salesDateCateg[0]).toUpperCase()+String(n.salesDateCateg).substring(1,n.salesDateCateg.length);L(e)}),[L,n]);return Object(l.useEffect)((function(){F(),R()}),[F,R]),Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(Ui,{title:"".concat(T," Sales"),value:o.sales,dailySales:t.Misc}),Object(a.jsx)(Ui,{title:"".concat(T," Sales - Blood Test"),value:j,dailySales:t["Blood Test"]}),Object(a.jsx)(Ui,{title:"".concat(T," Sales - Grooming"),value:O,dailySales:t.Grooming}),Object(a.jsx)(Ui,{title:"".concat(T," Sales - Store Sales"),value:I,dailySales:t["Store Sales"]}),Object(a.jsx)(Ui,{title:"".concat(T," Sales - Vet Sales"),value:v,dailySales:t["Vet Sales"]}),Object(a.jsx)(Ui,{title:"".concat(T," Net Sales "),value:D,dailySales:t})]})},$i=Object(O.a)((function(e){return{root:Object(Et.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Zi=function(){var e=$i(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.isPaymentsLoading,c=n.clientPayments,i=n.error;Object(l.useEffect)((function(){var e=hn()(Date.now()).format("MM-DD-YYYY");t(Ct({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ji,{onSalesDateCategChanged:function(e){t(Ct(e))},onSalesDateChanged:function(e){t(Ct(e))}}),0===Object.keys(c).length||r?i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Xi,{metadata:c.metadata,dailySales:c.dailySales}),Object(a.jsx)(Yi,{itemSales:c.itemSales?c.itemSales:[]})]})]})},eo=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/all-clients"),component:gi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/appointments"),component:_i}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/payments"),component:Zi})]})},to=n(215),no=n.n(to),ao=Object(O.a)((function(){return{root:{display:"flex",width:"100%",paddingTop:"1em",alignItems:"center"},buttonContainer:{width:"100%"}}})),ro=function(e){var t=e.gotoPage,n=e.nextPage,r=e.previousPage,c=e.canNextPage,i=e.canPreviousPage,o=e.pageCount,s=e.pageSize,l=e.pageIndex,d=e.itemsCount,u=ao();return Object(a.jsxs)("div",{className:u.root,children:[function(){var e=s*(l+1)>=d?d:s*(l+1);return Object(a.jsx)(Ie.a,{children:"Showing ".concat(e," out of ").concat(d," items")})}(),Object(a.jsxs)("div",{className:u.buttonContainer,children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(0)},disabled:!i,children:"FIRST"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return r()},disabled:!i,children:"PREV"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return n()},disabled:!c,children:"NEXT"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(o-1)},disabled:!c,children:"LAST"})]})]})},co=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItem:"center"},container:Object(Et.a)({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1em"},e.breakpoints.up("sm"),{flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),io=function(e){var t=e.setPageSize,n=e.pageSize,r=e.handleSearchItemChanged,c=co(),i=Object(b.b)();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsx)("div",{}),Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsx)(fe.a,{className:c.addItemButton,variant:"outlined",endIcon:Object(a.jsx)(Kt.a,{}),onClick:function(e){i(w({modalType:"ADD_ITEM_MODAL",modalProps:{}}))},children:"Add Item"})})]}),Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsxs)("div",{className:c.itemCount,children:[Object(a.jsx)(Ie.a,{children:"Show \xa0"}),Object(a.jsx)(Pn.a,{value:n,onChange:function(e){t(e.target.value)},children:[10,20,30,40,50].map((function(e){return Object(a.jsx)(En.a,{value:e,children:e},e)}))}),Object(a.jsx)(Ie.a,{children:"\xa0 entries"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(Nt.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(wt.a,{children:Object(a.jsx)(pi.a,{color:"primary"})})},onChange:function(e){r(e.target.value)}})})]})]})},oo=Object(O.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#1d1d1d",padding:"1.5em",overflowX:"auto"},showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:qt.a[400],border:"2px solid red",borderColor:qt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"}}})),so=function(e){var t=e.data,n=e.columns,r=e.items,c=oo(),i=Object(b.b)(),o=Object(Tt.useTable)({data:t,columns:n,initialState:{pageIndex:0,pageSize:10}},Tt.useFilters,Tt.useSortBy,Tt.usePagination),s=o.getTableProps,l=o.headerGroups,d=o.prepareRow,u=o.rows,j=o.page,m=o.canPreviousPage,p=o.canNextPage,O=o.pageCount,h=o.gotoPage,x=o.nextPage,g=o.previousPage,v=o.setPageSize,y=o.setFilter,S=o.state,C=S.pageIndex,I=S.pageSize,N=function(e){if("col5"===e.column.id)return Object(a.jsx)(Ie.a,{children:e.render("Cell")});if("col7"===e.column.id){var t=e.row.values.col6>0?e.row.values.col6/100*e.row.values.col5:0;return Object(a.jsxs)(Ie.a,{children:[e.render("Cell")," (".concat(t.toFixed(2),")")]})}return"col6"===e.column.id?Object(a.jsxs)(Ie.a,{children:[e.render("Cell"),"%"]}):Object(a.jsx)(Ie.a,{children:e.render("Cell")})};return Object(a.jsxs)(ac.a,{className:c.root,children:[Object(a.jsx)(io,{pageSize:I,setPageSize:v,handleSearchItemChanged:function(e){y("col1",e)}}),Object(a.jsxs)(Ft.a,Object(f.a)(Object(f.a)({},s()),{},{children:[Object(a.jsx)(Rt.a,{children:l.map((function(e){return Object(a.jsxs)(Mt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(_t.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Wt.a,{fontSize:"small"}):Object(a.jsx)(Gt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(_t.a,{})]},e.id)}))}),Object(a.jsx)(Bt.a,{children:j.map((function(e,t){return d(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Mt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(_t.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps([{className:e.column.className},(n=e,"Out of Stock"===n.value?{className:c.outOfStock}:"In Stock"===n.value?{className:c.inStock}:"Discounted"===n.value?{className:c.itemDiscounted}:{className:""})])),{},{children:N(e)}))},"col".concat(t));var n})),Object(a.jsx)(_t.a,{children:Object(a.jsx)(fe.a,{fullWidth:!0,endIcon:Object(a.jsx)(no.a,{}),variant:"contained",onClick:function(){var t;t=e.index,i(w({modalType:"MANAGE_ITEM_MODAL",modalProps:{item:r[t],itemIndex:t}}))},children:"Manage Item"})},e.id)]}),e.id)})}))})]})),Object(a.jsx)(ro,{canPreviousPage:m,canNextPage:p,previousPage:g,nextPage:x,gotoPage:h,pageCount:O,pageSize:I,pageIndex:C,itemsCount:u.length})]})},lo=function(e){var t=e.items,n={data:Object(l.useMemo)((function(){return t.map((function(e){var t="",n=e.discount>0?e.price*(e.discount/100):0;return t=e.discount>0&&e.inStock>0?"Discounted":0===e.discount&&e.inStock>0?"In Stock":"Out of Stock",{col1:e.name,col2:e.category,col3:e.inStock,col4:t,col5:ye(e.price),col6:e.discount,col7:ye(e.price-n)}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Name",accessor:"col1"},{Header:"Category",accessor:"col2"},{Header:"Stock",accessor:"col3"},{Header:"Status",accessor:"col4"},{Header:"Original Price",accessor:"col5"},{Header:"Discount",accessor:"col6"},{Header:"Total Price",accessor:"col7"}]}),[]),items:t};return Object(a.jsx)(so,Object(f.a)({},n))},uo=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),jo=function(){var e=uo(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.inventoryItems})),r=n.isLoading,c=n.items,i=n.error,o=Object(b.c)((function(e){return e.inventorySearch})),s=o.isLoading,d=o.result;Object(l.useEffect)((function(){t(jn()),t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Qn()),new WebSocket("".concat(G.WS_BASE_URL,"/items/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Xn(n.data))}}catch(i){t($n(i.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(ac.a,{elevation:0,className:e.root,children:r||s?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(lo,{items:d.length>0?d:c})})},bo=Object(O.a)((function(e){return{root:Object(Et.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),mo=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=bo();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(_r.a,{smDown:!0,children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Kt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})})]})},po=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),Oo=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.salesDate,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=Object(b.c)((function(e){return e.inventorySearch})),O=p.result,x=p.isLoading,g=po(),v=Object(b.b)();if(!t)return null;var y=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},S=function(){s({}),m(1)},C=function(){v(Ja(o.ID,j)),S(),v(jn()),n(!1)},I=function(){S(),v(jn()),n(!1)},N=Object(On.debounce)((function(e){v(""===e?jn():bn(e))}),800),w=function(e){N(e.target.value)};return Object(a.jsxs)(Mt.a,{className:g.root,children:[Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:r})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Xt.a,{loading:x,options:O.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(Nt.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:w,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[x?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_t.a,{children:Object(a.jsxs)(Ie.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(_t.a,{className:g.quantityCell,children:Object(a.jsx)(Nt.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:y,fullWidth:!0})}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)(Ie.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)(Ie.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(_t.a,{children:Object(a.jsx)(Ie.a,{children:o.category})}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)("div",{className:g.buttonRows,children:[Object(a.jsx)(fe.a,{className:g.submitButton,variant:"outlined",onClick:C,children:Object(a.jsx)(mn.a,{})}),Object(a.jsx)(fe.a,{className:g.cancelButton,variant:"outlined",onClick:I,children:Object(a.jsx)(pn.a,{})})]})})]})}()]})},fo=Object(O.a)((function(e){return{root:Object(Et.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:qt.a[400],border:"2px solid red",borderColor:qt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),ho=function(e){var t=e.data,n=e.columns,r=e.salesDate,c=fo(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Tt.useTable)({data:t,columns:n},Tt.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,A=S.rows,D=function(e){return Object(a.jsx)(Ie.a,{children:e.render("Cell")})};return Object(a.jsxs)(ac.a,{className:c.root,children:[Object(a.jsx)(mo,{toggleAddItemSaleRow:y,showAddItemSaleRow:v}),Object(a.jsx)(Lt.a,{children:Object(a.jsxs)(Ft.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Rt.a,{children:I.map((function(e){return Object(a.jsxs)(Mt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(_t.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Wt.a,{fontSize:"small"}):Object(a.jsx)(Gt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(_t.a,{})]})}))}),Object(a.jsxs)(Bt.a,{className:c.container,children:[Object(a.jsx)(Oo,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,salesDate:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Mt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(_t.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:D(e)}))},"col".concat(t))})),Object(a.jsx)(_t.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Yt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Ht.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},xo=function(e){var t=e.itemSales,n=e.salesDate,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:hn()(e.CreatedAt).format("L"),col2:e.item?e.item.name:"",col3:ye(Number(e.item.price)),col4:e.quantity,col5:ye(Number(e.sales)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?ye(Number(e.item.incentiveAmount)):ye(Number(e.incentives*e.quantity)),col8:ye(Number(e.netSales)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),salesDate:n};return Object(a.jsx)(ho,Object(f.a)({},r))},go=Object(O.a)((function(e){return{root:Object(Et.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),vo=function(){var e=go(),t=Object(b.b)(),n=hn()(Date.now()).format("MM-DD-YYYY"),r=Object(l.useState)(n),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.c)((function(e){return e.inventorySales})),d=s.isLoading,u=s.itemSales,j=s.dailySales,m=s.metadata,p=s.error;Object(l.useEffect)((function(){t(Ka({salesDate:i,salesDateCateg:"daily"}))}),[t,i]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ji,{onSalesDateCategChanged:function(e){t(Ka(e))},onSalesDateChanged:function(e){o(e.salesDate),t(Ka(e))}}),d?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):p?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Xi,{metadata:m,dailySales:j}),Object(a.jsx)(xo,{itemSales:u,salesDate:i})]})]})},yo=function(e){var t=e.match;Object(An.a)(e,["match"]);return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/items"),component:jo}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/sales"),component:vo})]})},So={LOADING_MODAL:M,ERROR_MODAL:L,SUCCESS_MODAL:_},Co=function(){var e=Object(b.c)((function(e){return e.infoModals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=So[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},Io=Object(O.a)((function(e){return{root:Object(Et.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),No=function(e){var t=e.toggleAddItemCategoryRow,n=e.showAddItemCategoryRow,r=Io();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Kt.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Category")})})]})},wo=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),Ao=function(e){var t=e.showAddItemCategoryRow,n=e.toggleAddItemCategoryRow,r=Object(b.c)((function(e){return e.itemCategories})).categories,c=Object(It.b)({defaultValues:{name:""}}),i=c.reset,o=c.handleSubmit,s=c.register,l=c.errors,d=wo(),u=Object(b.b)();if(!t)return null;return Object(a.jsxs)(Mt.a,{className:d.root,children:[Object(a.jsx)(_t.a,{children:Object(a.jsx)("form",{id:"addItemCategoryForm",onSubmit:o((function(e){var t;r.find((function(t){return String(t.name).toLowerCase()===String(e.name).toLowerCase()}))?u(E({modalType:"ERROR_MODAL",modalProps:{message:"Existing Category",isInfoModal:!0}})):u((t=e,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(ya()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,ba(t);case 5:a=e.sent,n(E({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Added!",duration:3e3}})),n(Sa(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(E({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(va(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),i(),n(!1)})),children:Object(a.jsx)(Nt.a,{fullWidth:!0,name:"name",label:"Category Name",inputRef:s({required:!0}),error:!!l.name,helperText:l.name?"Invalid Input":""})})}),Object(a.jsx)(_t.a,{children:Object(a.jsxs)("div",{className:d.buttonRows,children:[Object(a.jsx)(fe.a,{variant:"outlined",color:"primary",className:d.submitButton,form:"addItemCategoryForm",type:"submit",children:Object(a.jsx)(mn.a,{})}),Object(a.jsx)(fe.a,{variant:"outlined",className:d.cancelButton,onClick:function(){i(),n(!1)},children:Object(a.jsx)(pn.a,{})})]})})]})},Do=Object(O.a)((function(e){return{root:Object(Et.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:qt.a[400],border:"2px solid red",borderColor:qt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),ko=function(e){var t=e.data,n=e.columns,r=e.categories,c=Do(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Tt.useTable)({data:t,columns:n},Tt.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,w=S.rows,A=function(e){return Object(a.jsx)(Ie.a,{children:e.render("Cell")})},D=function(e){var t,n=r[e];i((t=n.ID,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Ia()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,ma(t);case 5:a=e.sent,n(E({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Deleted!",duration:3e3}})),n(Na(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(E({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(Ca(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(ac.a,{className:c.root,children:[Object(a.jsx)(No,{toggleAddItemCategoryRow:y,showAddItemCategoryRow:v}),Object(a.jsx)(Lt.a,{children:Object(a.jsxs)(Ft.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Rt.a,{children:I.map((function(e){return Object(a.jsxs)(Mt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(_t.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(Wt.a,{fontSize:"small"}):Object(a.jsx)(Gt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(_t.a,{})]})}))}),Object(a.jsxs)(Bt.a,{className:c.container,children:[Object(a.jsx)(Ao,{showAddItemCategoryRow:v,toggleAddItemCategoryRow:y}),w.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Mt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(_t.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:A(e)}))},"col".concat(t))})),Object(a.jsx)(_t.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){D(e.index)},children:Object(a.jsx)(Yt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Ht.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},Po=function(e){var t=e.categories,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:e.name}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Category",accessor:"col1"}]}),[]),categories:t};return Object(a.jsx)(ko,Object(f.a)({},n))},Eo=Object(O.a)((function(e){return{root:Object(Et.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),To=function(){var e=Eo(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.itemCategories})),r=n.isLoading,c=n.categories,i=n.error;Object(l.useEffect)((function(){t(wa())}),[t]);return Object(a.jsx)("div",{className:e.root,children:r?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(Po,{categories:c})})},Lo=function(e){var t=e.match;return Object(a.jsx)(p.d,{children:Object(a.jsx)(p.b,{path:"".concat(t.url,"/item-categories"),component:To})})},Fo=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",padding:0,margin:0},toolbar:e.mixins.toolbar,toastContainer:{zIndex:"1000000"}}})),Ro=function(){var e=Fo(),t=Object(b.b)();Object(l.useEffect)((function(){localStorage.getItem("token")&&t(function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),ee(n),e.prev=2,t(ie()),e.next=6,ae(n);case 6:a=e.sent,t(oe(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(se(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(m.a,{children:[Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/auth/login",component:bc}),Object(a.jsx)(nc,{path:"/home",component:si}),Object(a.jsx)(nc,{path:"/clients",component:eo}),Object(a.jsx)(nc,{path:"/inventory",component:yo}),Object(a.jsx)(nc,{path:"/admin",component:Lo}),Object(a.jsx)(p.a,{from:"/",to:"/home/dashboard"})]}),Object(a.jsx)(Xa,{}),Object(a.jsx)(Co,{})]})})},Mo=n(97),_o=Object(Mo.c)({inventoryItems:ua,inventorySales:Ma,inventorySearch:on,homeSalesStats:fc,modals:I,infoModals:k,auth:pe,drawer:cr,clients:vt,notifications:yr,itemCategories:Oa});var Bo=Object(S.a)({reducer:_o});j.a.render(Object(a.jsx)(r.a,{injectFirst:!0,children:Object(a.jsx)(c.a,{theme:U,children:Object(a.jsxs)(o.b,{dateAdapter:s.a,children:[Object(a.jsx)(i.a,{}),Object(a.jsx)(b.a,{store:Bo,children:Object(a.jsx)(Ro,{})})]})})}),document.getElementById("root"))}},[[570,1,2]]]);
//# sourceMappingURL=main.6bc73c03.chunk.js.map