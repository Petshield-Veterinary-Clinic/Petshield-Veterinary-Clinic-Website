(this["webpackJsonppetshield-veterinary-clinic-website"]=this["webpackJsonppetshield-veterinary-clinic-website"]||[]).push([[0],{570:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(689),c=n(709),i=n(704),o=n(582),s=n(690),l=n(0),d=n.n(l),u=n(54),j=n.n(u),b=n(16),m=n(80),p=n(52),O=n(640),f=n(13),h=n(9),x=n(631),g=n(637),v=n(638),y=n(639),S=n(47),C=Object(S.b)({name:"modals",initialState:{modalType:null,modalProps:{}},reducers:{showModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideModal:function(e,t){e.modalType="",e.modalProps={}}}}),I=C.reducer,N=C.actions,w=N.showModal,A=N.hideModal,D=Object(S.b)({name:"infoModal",initialState:{modalType:null,modalProps:{}},reducers:{showInfoModal:function(e,t){e.modalType=t.payload.modalType,e.modalProps=t.payload.modalProps},hideInfoModal:function(e,t){e.modalType="",e.modalProps={}}}}),k=D.reducer,P=D.actions,E=P.showInfoModal,T=P.hideInfoModal,L=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=e.isInfoModal,i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(b.b)();return Object(a.jsxs)(x.a,{open:s,onClose:function(){d(!t)},TransitionProps:{onExited:function(){u(c?T():A())},onEnter:function(){setTimeout((function(){d(!t)}),r||2e3)}},children:[Object(a.jsx)(g.a,{children:"Error!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},F=n(641),R=Object(O.a)((function(e){return{loadingIndicator:{display:"flex",justifyContent:"center",alignItems:"center,",padding:e.spacing(2)}}})),M=function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=R(),s=Object(b.b)();return Object(a.jsx)(x.a,{open:c,onClose:function(){i(!t)},TransitionProps:{onExited:function(){s(A())}},children:Object(a.jsx)(v.a,{className:o.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})})})},_=function(e){var t=e.isVisible,n=e.message,r=e.duration,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){d(A())},onEnter:function(){setTimeout((function(){s(!t)}),r||800)}},children:[Object(a.jsx)(g.a,{children:"Success!"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:n})})]})},B=n(14),H=n.n(B),z=n(21),V=n(336),W=n.n(V),G={API_BASE_URL:"https://petshield-veterinary-api-prod.herokuapp.com",WS_BASE_URL:"wss://petshield-veterinary-api-prod.herokuapp.com",WS_TIMEOUT:25e3},Y=n(705),q=n(369),U=Object(Y.a)(Object(q.a)({palette:{mode:"dark",primary:{main:"#1e88e5"},secondary:{main:"#26a69a"}},components:{MuiMenu:{styleOverrides:{padding:"1em"}},MuiCard:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiPaper:{styleOverrides:{root:{backgroundColor:"#1D1D1D"}}},MuiTableCell:{styleOverrides:{root:{textAlign:"center"}}}}}),{disableAlign:!0}),K=240,J=["Deworming","5 in 1","6 in 1","8 in 1","Kennel Cough","ProHeart","4 in 1","Anti-Rabies","Canglob P","Canglob D"],Q=["1 Weeks","2 Weeks","1 Year"],X=["3 Days","7 Days","14 Days","30 Days"],$=["Check-Up","Long Term Medication","Post Surgery","Screening"],Z=W.a.create({baseURL:G.API_BASE_URL,headers:{"Content-Type":"application/json"}}),ee=function(e){e?Z.defaults.headers.common={Authorization:"Bearer ".concat(e)}:delete Z.defaults.headers.common.Authorization},te=Z,ne=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/auth/login",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/users/token");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=Object(S.b)({name:"auth",initialState:{user:{},token:null,isLoading:!1,error:null},reducers:{loginStart:function(e,t){e.isLoading=!0},loginSuccess:function(e,t){e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.authToken,ee(t.payload.authToken),localStorage.setItem("token",t.payload.authToken)},loginFailure:function(e,t){e.isLoading=!1,e.error=t.payload},logoutStart:function(e,t){e.isLoading=!0},logoutSuccess:function(e,t){e.user={},e.token=null,e.isLoading=!1},logoutFailure:function(e,t){e.isLoading=!1,e.error=t.payload},checkAuthStart:function(e,t){e.isLoading=!0},checkAuthSuccess:function(e,t){e.user=t.payload,e.isLoading=!1},checkAuthFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ce=re.actions,ie=ce.checkAuthStart,oe=ce.checkAuthSuccess,se=ce.checkAuthFailure,le=ce.loginStart,de=ce.loginSuccess,ue=ce.loginFailure,je=ce.logoutFailure,be=ce.logoutStart,me=ce.logoutSuccess,pe=re.reducer,Oe=n(642),fe=n(706),he=function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.handleNegativePressed,i=e.handlePositivePressed,o=Object(l.useState)(t),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(b.b)();return Object(a.jsxs)(x.a,{open:d,onClose:function(){u(!t)},TransitionProps:{onExited:function(){j(A())}},children:[Object(a.jsx)(g.a,{children:n}),Object(a.jsx)(v.a,{children:Object(a.jsx)(y.a,{children:r})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"text",onClick:c,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"text",onClick:i,children:"Confirm"})]})]})},xe=n(337),ge=Object(xe.a)(),ve=function(e){var t=e.isVisible,n=e.title,r=e.message,c=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){c(A())},handlePositivePressed:function(){c(function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();try{t(be()),t(me())}catch(n){t(je(n))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ge.replace("/auth/login"),c(A())}})},ye=Object(O.a)((function(e){return{root:{},header:{display:"grid",gridTemplate:" 1fr / 1fr 1fr 1fr 1fr 1fr",placeItems:"center",fontWeight:"bold"},content:{display:"flex",flexDirection:"column",gap:"1em"},item:{display:"grid",gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr"},column:{textAlign:"center"}}})),Se=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:"1em"},header:{display:"grid",gridTemplate:" 1fr / 1fr 1fr 1fr 1fr 1fr",placeItems:"center",fontWeight:"bold",fontSize:"0.9rem"},headerTitle:{fontSize:"1.3rem",fontWeight:"bold",textAlign:"center"},footer:{display:"flex",justifyContent:"flex-end",gap:"1em"},content:{display:"flex",flexDirection:"column",gap:"1em"},item:{display:"grid",gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr"},column:{textAlign:"center"}}})),Ce=n(131),Ie=n(41),Ne=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(n),t);case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/clients/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.patch("/clients/".concat(t.ID),t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/clients/".concat(t,"/payments/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),ke=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/clients/".concat(t,"/payments"));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,e.next=3,te.get("/clients/".concat(n,"/appointments"));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appointmentId,a=t.branchName,e.next=3,te.delete("/clients/".concat(a,"/appointments/").concat(n));case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientId,a=t.appointment,e.next=3,te.post("/clients/".concat(n,"/appointments"),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,a=t.appointment,e.next=3,te.patch("/clients/".concat(n,"/appointments/").concat(a.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e,t){e.error=t.payload},Re=Object(S.b)({name:"clientsSlice",initialState:{clients:{},paymentHistory:[],appointments:[],clientAppointments:[],clientPayments:{},isClientsLoading:!1,isPaymentsLoading:!1,isAppointmentsLoading:!1,isClientSearchingLoading:!1,error:null},reducers:{fetchClientsStart:function(e){e.isClientsLoading=!0},fetchClientsSuccess:function(e,t){e.isClientsLoading=!1;var n={};t.payload.forEach((function(e){n[e.ID]=e})),e.clients=n},fetchClientsError:Fe,searchClientsStart:function(e){e.isClientsLoading=!0,e.error=null},searchClientsSuccess:function(e,t){e.isClientsLoading=!1,e.clients=t.payload,e.error=null},searchClientsError:Fe,addClientStart:function(e){e.isClientsLoading=!0},addClientSuccess:function(e){e.isClientsLoading=!1,e.error=null},addClientError:Fe,updateClientStart:function(e){e.error=null},updateClientSuccess:function(e,t){e.clients[t.payload.ID]=t.payload,e.error=null},updateClientsError:Fe,addClientPaymentStart:function(){},addClientPaymentSuccess:function(e,t){e.paymentHistory=[t.payload].concat(Object(Ie.a)(e.paymentHistory)),e.error=!1},addClientPaymentError:Fe,fetchClientPaymentHistoryStart:function(e){e.isPaymentsLoading=!0},fetchClientPaymentHistorySuccess:function(e,t){e.isPaymentsLoading=!1,e.paymentHistory=t.payload,e.error=!1},fetchClientPaymentHistoryError:Fe,fetchAllClientPaymentsStart:function(e){e.isPaymentsLoading=!0},fetchAllClientPaymentsSuccess:function(e,t){e.isPaymentsLoading=!1,e.clientPayments=t.payload,e.error=null},fetchAllClientPaymentsError:Fe,addAppointmentStart:function(e){e.error=null},addAppointmentSuccess:function(e,t){},addAppointmentError:Fe,updateAppointmentStart:function(e){},updateAppointmentSuccess:function(e,t){e.appointments=Object(Ie.a)(t.payload),e.error=null},updateAppointmentError:Fe,removeAppointmentStart:function(){},removeAppointmentSuccess:function(e,t){e.appointments=t.payload},removeAppointmentError:Fe,fetchAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.appointments=t.payload,e.error=null},fetchAppointmentsError:Fe,fetchClientAppointmentsStart:function(e){e.isAppointmentsLoading=!0,e.error=null},fetchClientAppointmentsSuccess:function(e,t){e.isAppointmentsLoading=!1,e.clientAppointments=t.payload,e.error=null},fetchClientAppointmentsError:Fe}}),Me=Re.actions,_e=Me.searchClientsError,Be=Me.searchClientsStart,He=Me.searchClientsSuccess,ze=Me.fetchClientsSuccess,Ve=Me.fetchClientsError,We=Me.fetchClientsStart,Ge=Me.addClientStart,Ye=Me.addClientError,qe=Me.addClientSuccess,Ue=Me.updateClientStart,Ke=Me.updateClientSuccess,Je=Me.updateClientError,Qe=Me.addClientPaymentStart,Xe=Me.addClientPaymentSuccess,$e=Me.addClientPaymentError,Ze=Me.fetchClientPaymentHistoryStart,et=Me.fetchClientPaymentHistorySuccess,tt=Me.fetchClientPaymentHistoryError,nt=Me.fetchAllClientPaymentsStart,at=Me.fetchAllClientPaymentsSuccess,rt=Me.fetchAllClientPaymentsError,ct=Me.addAppointmentStart,it=Me.addAppointmentSuccess,ot=Me.addAppointmentError,st=Me.fetchAppointmentsError,lt=Me.fetchAppointmentsStart,dt=Me.fetchAppointmentsSuccess,ut=Me.fetchClientAppointmentsError,jt=Me.fetchClientAppointmentsStart,bt=Me.fetchClientAppointmentsSuccess,mt=Me.updateAppointmentError,pt=Me.updateAppointmentStart,Ot=Me.updateAppointmentSuccess,ft=Me.removeAppointmentError,ht=Me.removeAppointmentSuccess,xt=Me.removeAppointmentStart,gt=Re.reducer,vt=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(We()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(ze(n.data))}}catch(c){t(Ve(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},yt=function(e,t,n){return function(){var a=Object(z.a)(H.a.mark((function a(r,c){var i,o;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=c().clients.clientPayments.metadata,a.prev=1,r(Qe()),r(E({modalType:"LOADING_MODAL",modalProps:{}})),a.next=6,De(e,t,n,i.salesDate,i.salesDateCateg);case 6:o=a.sent,r(T()),r(Xe(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r($e(a.t0.message));case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()},St=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(nt()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(c.branchName,"/all-payments?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(at(t.data))}}catch(o){a(rt(o.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ct=n(49),It=n(643),Nt=n(646),wt=n(338),At=n(263),Dt=function(e){var t=e.classes,n=e.onSubmit,r=Object(Ct.b)(),c=r.handleSubmit,i=r.register,o=r.errors;return Object(a.jsxs)("form",{className:t.form,id:"addClientForm",onSubmit:c(n),children:[Object(a.jsx)(It.a,{className:t.field,variant:"outlined",label:"Full Name",name:"clientName",inputRef:i({required:!0}),error:!!o.clientName}),Object(a.jsx)(It.a,{className:t.field,variant:"outlined",label:"Address",name:"address",inputRef:i({required:!0}),error:!!o.address}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(It.a,{className:t.field,variant:"outlined",label:"Email",name:"email",type:"email",InputProps:{startAdornment:Object(a.jsx)(Nt.a,{position:"start",children:Object(a.jsx)(At.a,{})})},inputRef:i({})}),Object(a.jsx)(It.a,{className:t.field,variant:"outlined",label:"Contact Number",name:"contactNumber",InputProps:{startAdornment:Object(a.jsx)(Nt.a,{position:"start",children:Object(a.jsx)(wt.a,{})})},inputRef:i({pattern:/((^(\+)(\d){12}$)|(^\d{11}$))/}),error:!!o.contactNumber})]}),Object(a.jsx)("br",{}),Object(a.jsx)(It.a,{className:t.field,variant:"outlined",label:"Pet Name",name:"petName",InputProps:{startAdornment:Object(a.jsx)(Nt.a,{position:"start",children:Object(a.jsx)(At.b,{})})},inputRef:i({required:!0}),error:!!o.petName}),Object(a.jsxs)("div",{className:t.fieldGroup,children:[Object(a.jsx)(It.a,{className:t.field,variant:"outlined",label:"Pet Species",name:"petSpecies",inputRef:i({required:!0}),error:!!o.petSpecies}),Object(a.jsx)(It.a,{className:t.field,variant:"outlined",label:"Pet Breed",name:"petBreed",inputRef:i({required:!0}),error:!!o.petBreed})]})]})},kt=Object(O.a)((function(e){return{root:{},form:{display:"flex",flexDirection:"column"},field:{marginBottom:e.spacing(2)},fieldGroup:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(2)}}})),Pt=n(15),Et=n(65),Tt=n(651),Lt=n(652),Ft=n(653),Rt=n(650),Mt=n(647),_t=n(654),Bt=n(698),Ht=n(103),zt=n.n(Ht),Vt=n(104),Wt=n.n(Vt),Gt=n(655),Yt=n(226),qt=n(102),Ut=n.n(qt),Kt=Object(O.a)((function(e){return{root:Object(Pt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Jt=function(e){var t=e.toggleAddItemSaleRow,n=Kt();return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Ut.a,{}),onClick:function(){t(!0)},children:"Add Transaction"})})]})},Qt=n(697),Xt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/items/search/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$t=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive)}),e.next=3,te.post("/items/".concat(n),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentiveAmount:Number(t.incentiveAmount),incentiveRate:Number(t.incentiveRate),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),en=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/items/item/".concat(n,"/").concat(t));case 2:if(!(a=e.sent).data.data){e.next=7;break}return e.abrupt("return",a.data.data);case 7:throw Error(a.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tn=function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)(Object(f.a)({},t),{},{price:Number(t.price),incentive:Number(t.incentive),discount:Number(t.discount)}),e.next=3,te.patch("/items/item/".concat(n,"/").concat(t.ID),a);case 3:if(!(r=e.sent).data.data){e.next=8;break}return e.abrupt("return",r.data.data);case 8:throw Error(r.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nn=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r,c){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/item-sales/".concat(t,"/").concat(n,"/").concat(a,"?salesDate=").concat(r,"&salesDateCateg=").concat(c));case 2:if(!(i=e.sent).data.data){e.next=7;break}return e.abrupt("return",i.data.data);case 7:throw Error(i.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),an=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a,r){var c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/item-sales/".concat(t,"/").concat(n,"?salesDate=").concat(a,"&salesDateCateg=").concat(r));case 2:if(!(c=e.sent).data.data){e.next=7;break}return e.abrupt("return",c.data.data);case 7:throw Error(c.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),rn=Object(S.b)({name:"inventorySearchResultSlice",initialState:{isLoading:!1,result:[],error:null},reducers:{searchItemsStart:function(e){e.isLoading=!0},searchItemsSuccess:function(e,t){e.isLoading=!1,e.result=t.payload,e.error=null},searchItemsFailure:function(e,t){e.isLoading=!1,e.error=t.payload},clearItemsSearch:function(e,t){e.result=[],e.isLoading=!1,e.error=null}}}),cn=rn.reducer,on=rn.actions,sn=on.searchItemsFailure,ln=on.searchItemsStart,dn=on.searchItemsSuccess,un=on.clearItemsSearch,jn=function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(ln()),t.next=5,Xt(e,r.branchName);case 5:c=t.sent,n(dn(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(sn(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()},bn=n(648),mn=n(649),pn=n(122),On=n(12),fn=n.n(On),hn=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),xn=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.client,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=fn()(Date.now()).format("MM-DD-YYYY"),O=Object(b.c)((function(e){return e.inventorySearch})),x=O.result,g=O.isLoading,v=hn(),y=Object(b.b)();if(!t)return null;var S=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},C=function(){s({}),m(1)},I=function(){y(yt(r.ID,o.ID,j)),C(),y(un()),n(!1)},N=function(){C(),y(un()),n(!1)},w=Object(pn.debounce)((function(e){y(""===e?un():jn(e))}),800),A=function(e){w(e.target.value)};return Object(a.jsxs)(Rt.a,{className:v.root,children:[Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:p})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Qt.a,{loading:g,options:x.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:A,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[g?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Mt.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(Mt.a,{className:v.quantityCell,children:Object(a.jsx)(It.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:S,fullWidth:!0})}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:o.salesCategory})}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)("div",{className:v.buttonRows,children:[Object(a.jsx)(fe.a,{className:v.submitButton,variant:"outlined",onClick:I,children:Object(a.jsx)(bn.a,{})}),Object(a.jsx)(fe.a,{className:v.cancelButton,variant:"outlined",onClick:N,children:Object(a.jsx)(mn.a,{})})]})})]})}()]})},gn=Object(O.a)((function(e){return{root:Object(Pt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Yt.a[400],border:"2px solid red",borderColor:Yt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),vn=function(e){var t=e.data,n=e.columns,r=e.client,c=gn(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Et.useTable)({data:t,columns:n},Et.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,A=S.rows,D=function(e){return Object(a.jsx)(Ce.a,{children:e.render("Cell")})};return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(Jt,{toggleAddItemSaleRow:y}),Object(a.jsx)(Tt.a,{children:Object(a.jsxs)(Lt.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Ft.a,{children:I.map((function(e){return Object(a.jsxs)(Rt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Mt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(zt.a,{fontSize:"small"}):Object(a.jsx)(Wt.a,{fontSize:"small"}):null]})}))})),Object(a.jsx)(Mt.a,{})]})}))}),Object(a.jsxs)(_t.a,{className:c.container,children:[Object(a.jsx)(xn,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,client:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Rt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Mt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:D(e)}))},"col".concat(t))})),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Gt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Bt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},yn=function(e){var t=e.paymentHistory,n=e.client,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:fn()(e.CreatedAt).format("L"),col2:e.item.name,col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),client:n};return Object(a.jsx)(vn,Object(f.a)({},r))},Sn=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}})),Cn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"400px",alignItems:"center",padding:e.spacing(2)}}})),In=n(660),Nn=n(699),wn=n(89),An=n(577),Dn=n(586),kn=n(584),Pn=n(656),En=n(579),Tn=n(693),Ln=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),Fn=function(e){var t=e.onSubmit,n=e.startDate,r=e.isVaccine,c=e.clientIndex,i=Ln(),o=Object(b.c)((function(e){return e.clients})),s=o.clients,d=o.isClientsLoading,u=c?Object(f.a)(Object(f.a)({},s[c]),{},{clientName:"".concat(s[c].clientName," - ").concat(s[c].pet.petName)}):null,j=Object(l.useMemo)((function(){return Object.keys(s).map((function(e){var t=s[e],n="".concat(t.clientName," - ").concat(t.pet.petName);return Object(f.a)(Object(f.a)({},t),{},{clientName:n})}))}),[s]),m=Object(Ct.b)(),p=m.handleSubmit,O=m.errors,h=m.control;return Object(a.jsxs)("form",{className:i.root,id:"addAppointmentForm",onSubmit:p(t),children:[Object(a.jsx)(Ct.a,{name:"client",control:h,defaultValue:c?u:null,rules:{required:!0},render:function(e){var t=e.onChange,n=Object(wn.a)(e,["onChange"]);return Object(a.jsx)(Qt.a,Object(f.a)({size:"small",options:j,loading:d,getOptionLabel:function(e){return e.clientName},getOptionSelected:function(e,t){return e.clientName===t.clientName},renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{label:"Client Name",fullWidth:!0,error:!!O.client,helperText:O.client?"Enter a client":""}))},onChange:function(e,n){t(n)}},n))}}),Object(a.jsx)(Ct.a,{id:"appointment-date",name:"date",control:h,defaultValue:fn()(n).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(Tn.a,Object(f.a)({allowSameDateSelection:!0,renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date"}))}},e))}}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ct.a,{name:"type",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(wn.a)(e,["onChange"]);return Object(a.jsxs)(An.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(Dn.a,{id:"appointment-type",children:"".concat(r?"Vaccine":"Follow Up"," Type")}),Object(a.jsx)(kn.a,Object(f.a)(Object(f.a)({labelId:"appointment-type",onChange:function(e){return t(e.target.value)}},n),{},{children:r?J.map((function(e){return Object(a.jsx)(Pn.a,{value:e,children:e},e)})):$.map((function(e){return Object(a.jsx)(Pn.a,{value:e,children:e},e)}))})),Object(a.jsx)(En.a,{error:!!O.type,children:O.type?"Please enter a type":""})]})}}),Object(a.jsx)(Ct.a,{name:"reoccurance",control:h,rules:{required:!0},defaultValue:"",render:function(e){var t=e.onChange,n=Object(wn.a)(e,["onChange"]);return Object(a.jsxs)(An.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(a.jsx)(Dn.a,{id:"appointment-reoccurance",children:"Next Visit"}),Object(a.jsx)(kn.a,Object(f.a)(Object(f.a)({labelId:"appointment-reoccurance",onChange:function(e){return t(e.target.value)}},n),{},{children:r?Q.map((function(e){return Object(a.jsx)(Pn.a,{value:e,children:e},e)})):X.map((function(e){return Object(a.jsx)(Pn.a,{value:e,children:e},e)}))})),Object(a.jsx)(En.a,{error:!!O.reoccurance,children:O.reoccurance?"Please enter a type":""})]})}})]}),Object(a.jsx)(Ct.a,{name:"veterinarianNotes",control:h,defaultValue:"",rules:{},render:function(e){return Object(a.jsx)(It.a,Object(f.a)({label:"Notes",multiline:!0,size:"small",rows:5},e))}})]})},Rn=Object(O.a)((function(e){return{content:{display:"flex",height:"400px",width:"100%",alignItems:"flex-start",padding:e.spacing(2),flexDirection:"column"}}})),Mn=n(368),_n=n(339),Bn=n(691),Hn=n(182),zn=n.n(Hn),Vn=n(30),Wn=n.n(Vn),Gn=Object(O.a)((function(e){return{root:{},loadingIndicator:{width:"300px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center,"},hasAppointment:{backgroundColor:"".concat(e.palette.primary.main," !important"),color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}},selected:{backgroundColor:"#424242 !important",color:e.palette.common.white,"&:hover, &:focus":{backgroundColor:e.palette.primary.dark}}}})),Yn=function(e){var t,n=e.date,r=e.classes,c=(e._selectedDates,e.selectedDate),i=e.PickersDayComponentProps,o=e.appointments,s=zn()(n).tz("Asia/Manila"),l=void 0!==o.find((function(e){return zn()(e.date).tz("Asia/Manila").isSame(s,"date")})),d=zn()(c).isSame(n,"date");return Object(a.jsx)(_n.a,Object(f.a)({className:Wn()((t={},Object(Pt.a)(t,r.hasAppointment,l),Object(Pt.a)(t,r.selected,d),t))},i))},qn=function(e,t){e.isLoading=!1,e.error=t.payload},Un=Object(S.b)({name:"inventoryItems",initialState:{items:[],itemSales:[],isLoading:!1,error:null},reducers:{fetchItemsStart:function(e){e.isLoading=!0},fetchItemsSuccess:function(e,t){e.isLoading=!1,e.items=t.payload,e.error=null},fetchItemsFailure:qn,addItemStart:function(e,t){},addItemSuccess:function(e,t){},addItemFailure:qn,modifyItemStart:function(){},modifyItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},modifyItemFailure:qn,discountItemStart:function(){},discountItemSuccess:function(e,t){e.items=e.items.map((function(e,n){return n===t.payload.itemIndex?t.payload.newItem:e}))},discountItemFailure:qn,deleteItemStart:function(){},deleteItemSuccess:function(e,t){e.items=e.items.filter((function(e){return e.ID!==t.payload}))},deleteItemFailure:qn}}),Kn=Un.actions,Jn=Kn.fetchItemsStart,Qn=Kn.fetchItemsSuccess,Xn=Kn.fetchItemsFailure,$n=Kn.addItemStart,Zn=Kn.addItemSuccess,ea=Kn.addItemFailure,ta=Kn.modifyItemStart,na=Kn.modifyItemSuccess,aa=Kn.modifyItemFailure,ra=Kn.discountItemStart,ca=Kn.discountItemFailure,ia=Kn.discountItemSuccess,oa=Kn.deleteItemStart,sa=Kn.deleteItemSuccess,la=Kn.deleteItemFailure,da=Un.reducer,ua=function(){var e=Object(z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/admin/item-categories");case 2:if(!(t=e.sent).data.data){e.next=7;break}return e.abrupt("return",t.data.data);case 7:throw Error(t.data.error);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ja=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/admin/item-categories",t);case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.delete("/admin/item-categories/".concat(t));case 2:if(!(n=e.sent).data.data){e.next=7;break}return e.abrupt("return",n.data.data);case 7:throw Error(n.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ma=Object(S.b)({name:"itemCategorySlice",initialState:{categories:[],isLoading:!1,error:null},reducers:{fetchItemCategoriesStart:function(e){e.isLoading=!0,e.error=null},fetchItemCategoriesSuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},fetchItemCategoriesFailure:function(e){e.isLoading=!1,e.error=null},addItemCategoryStart:function(e){e.error=null},addItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},addItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload},deleteItemCategoryStart:function(e){e.error=null},deleteItemCategorySuccess:function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null},deleteItemCategoryFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),pa=ma.reducer,Oa=ma.actions,fa=Oa.fetchItemCategoriesFailure,ha=Oa.fetchItemCategoriesStart,xa=Oa.fetchItemCategoriesSuccess,ga=Oa.addItemCategoryFailure,va=Oa.addItemCategoryStart,ya=Oa.addItemCategorySuccess,Sa=Oa.deleteItemCategoryFailure,Ca=Oa.deleteItemCategoryStart,Ia=Oa.deleteItemCategorySuccess,Na=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ha()),e.next=4,ua();case 4:n=e.sent,t(xa(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(fa(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},wa=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),Aa=function(e){var t=e.onSubmit,n=e.classes,r=e.isIncentiveFixed,c=e.setIncentiveFixed,i=e.dispatch,o=Object(b.c)((function(e){return e.itemCategories})),s=o.isLoading,l=o.categories,d=Object(Ct.b)({defaultValues:{remarks:"",category:"Store Sales",incentiveRate:0,incentiveAmount:0}}),u=d.register,j=d.handleSubmit,m=d.errors,p=d.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"addItemForm",onSubmit:j(t),children:[Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:u({required:!0}),error:!!m.name}),Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",inputRef:u({required:!0,min:0}),error:!!m.inStock}),Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(Ce.a,{children:"\u20b1"})},inputRef:u({required:!0,min:0}),error:!!m.price}),Object(a.jsx)(Ct.a,{control:p,name:"category",as:Object(a.jsxs)(kn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){i(Na())},endAdornment:s?Object(a.jsx)(Nt.a,{children:Object(a.jsx)(F.a,{})}):null,children:[Object(a.jsx)(Pn.a,{value:""}),l.map((function(e){return Object(a.jsx)(Pn.a,{value:e.name,children:e.name},e.ID)}))]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(In.a,{className:n.addItemFormField,control:Object(a.jsx)(Nn.a,{checked:r,onChange:function(){c(!r)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(It.a,{disabled:r,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(Ce.a,{children:"%"})},inputRef:u({required:!0,max:100,min:0}),error:!!m.incentiveRate}),Object(a.jsx)(It.a,{disabled:!r,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:u({required:!0,min:0}),error:!!m.incentiveAmount})]})]}),Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:u})]})},Da=Object(O.a)((function(e){return{content:{display:"flex",width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1em"},deleteBtn:{borderColor:"red",color:"red"}}})),ka=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em",flexGrow:"1"},incentiveFieldsWrapper:{display:"flex"}}})),Pa=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=e.isIncentiveFixed,i=e.setIncentiveFixed,o=e.dispatch,s=Object(b.c)((function(e){return e.itemCategories})),l=s.isLoading,d=s.categories,u=Object(Ct.b)({defaultValues:{remarks:null!==r.remarks?r.remarks:"",category:null!==r.category?r.category:"",price:null!==r.price?r.price:0,name:null!==r.name?r.name:"",incentiveRate:null!==r.incentiveRate?r.incentiveRate:0,incentiveAmount:null!==r.incentiveAmount?r.incentiveAmount:0,inStock:null!==r.inStock?r.inStock:0}}),j=u.register,m=u.handleSubmit,p=u.errors,O=u.control;return Object(a.jsxs)("form",{noValidate:!0,className:n.addItemForm,id:"modifyItemForm",onSubmit:m(t),children:[Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Item Name",name:"name",size:"small",inputRef:j({required:!0}),error:!!p.name}),Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Item Stock",name:"inStock",size:"small",type:"number",inputRef:j({required:!0,min:0}),error:!!p.inStock,helperText:p.inStock?"Invalid Value":""}),Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Item Price",name:"price",size:"small",InputProps:{startAdornment:Object(a.jsx)(Ce.a,{children:"\u20b1"})},inputRef:j({required:!0,min:0}),error:!!p.price}),Object(a.jsx)(Ct.a,{control:O,name:"category",as:Object(a.jsx)(kn.a,{className:n.addItemFormField,variant:"outlined",size:"small",onFocus:function(){o(Na())},endAdornment:l?Object(a.jsx)(Nt.a,{children:Object(a.jsx)(F.a,{})}):null,children:d.map((function(e){return Object(a.jsx)(Pn.a,{value:e.name,children:e.name},e.ID)}))})}),Object(a.jsx)(In.a,{className:n.addItemFormField,control:Object(a.jsx)(Nn.a,{checked:c,onChange:function(){i(!c)}}),label:"Fixed Incentive Rate"}),Object(a.jsxs)("div",{className:n.incentiveFieldsWrapper,children:[Object(a.jsx)(It.a,{disabled:c,className:n.addItemFormField,variant:"outlined",label:"Incentive Rate",name:"incentiveRate",size:"small",InputProps:{endAdornment:Object(a.jsx)(Ce.a,{children:"%"})},inputRef:j({required:!0,max:100,min:0}),error:!!p.incentiveRate}),Object(a.jsx)(It.a,{disabled:!c,className:n.addItemFormField,variant:"outlined",label:"Incentive Amount",name:"incentiveAmount",size:"small",inputRef:j({required:!0,min:0}),error:!!p.incentiveAmount})]}),Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Remarks",name:"remarks",size:"small",inputRef:j})]})},Ea=Object(O.a)((function(e){return{addItemForm:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},addItemFormField:{margin:"0.5em"}}})),Ta=function(e){var t=e.onSubmit,n=e.classes,r=e.itemDetails,c=Object(Ct.b)({defaultValues:{discount:null!==r.discount?r.discount:0}}),i=c.register,o=c.handleSubmit,s=c.errors;return Object(a.jsx)("form",{noValidate:!0,className:n.addItemForm,id:"discountItemForm",onSubmit:o(t),children:Object(a.jsx)(It.a,{className:n.addItemFormField,variant:"outlined",label:"Discount Amount",name:"discount",size:"small",type:"number",helperText:s.discount?"Please input a value between 0.01 and 100":"",InputProps:{endAdornment:Object(a.jsx)(Ce.a,{children:Object(a.jsx)("strong",{children:"%"})})},inputRef:i({required:!0,min:0,max:100}),autoFocus:!0,error:!!s.discount})})},La=function(e,t){e.isLoading=!1,e.error=t.payload},Fa=Object(S.b)({name:"inventorySales",initialState:{isLoading:!1,itemSales:[],dailySales:0,metadata:{salesDateCateg:"daily"},error:null},reducers:{fetchItemSalesStart:function(e){e.isLoading=!0},fetchItemSalesSuccess:function(e,t){e.isLoading=!1,e.itemSales=t.payload.itemSales,e.dailySales=t.payload.dailySales,e.metadata=t.payload.metadata,e.error=null},fetchItemSalesError:La,addItemSaleStart:function(){},addItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},addItemSaleFailure:La,deleteItemSaleStart:function(){},deleteItemSaleSuccess:function(e,t){e.isLoading=!1,e.error=null},deleteItemSaleFailure:La}}),Ra=Fa.reducer,Ma=Fa.actions,_a=Ma.fetchItemSalesError,Ba=Ma.fetchItemSalesStart,Ha=Ma.fetchItemSalesSuccess,za=Ma.addItemSaleFailure,Va=Ma.addItemSaleStart,Wa=Ma.addItemSaleSuccess,Ga=Ma.deleteItemSaleFailure,Ya=Ma.deleteItemSaleStart,qa=Ma.deleteItemSaleSuccess,Ua=function(e){var t=e.salesDate,n=e.salesDateCateg;return function(){var e=Object(z.a)(H.a.mark((function e(a,r){var c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r().auth.user,i=localStorage.getItem("token");try{a(Ba()),new WebSocket("".concat(G.WS_BASE_URL,"/item-sales/").concat(c.branchName,"?jwt=").concat(i,"&salesDate=").concat(t,"&salesDateCateg=").concat(n)).onmessage=function(e){var t=JSON.parse(e.data);a(Ha(t.data))}}catch(o){a(_a(o))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ka=function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i,o;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=r().auth.user,i=r().inventorySales.metadata,a(Va()),a(A()),a(w({modalType:"LOADING_MODAL"})),n.next=8,nn(c.branchName,e,t,i.salesDate,i.salesDateCateg);case 8:o=n.sent,a(Wa(o)),a(A()),a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction Complete!",duration:3e3}})),a(un()),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),a(za(n.t0)),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}}));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},Ja={ADD_ITEM_MODAL:function(e){var t=e.isVisible,n=Object(l.useState)(t),r=Object(h.a)(n,2),c=r[0],i=r[1],o=Object(l.useState)(!1),s=Object(h.a)(o,2),d=s[0],u=s[1],j=wa(),m=Object(b.b)(),p=function(){i(!t)};return Object(a.jsxs)(x.a,{open:c,onClose:p,TransitionProps:{onExited:function(){m(A())}},children:[Object(a.jsx)(g.a,{children:"Add Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Aa,{onSubmit:function(e){var n,a=Object(f.a)({},e);a.isIncentiveFixed=d,d?a.incentiveRate=0:a.incentiveAmount=0,m((n=a,function(){var e=Object(z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,t($n()),t(w({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,$t(n,r.branchName);case 6:t(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Added!",duration:3e3}})),t(Zn()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),t(ea(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}())),i(!t)},dispatch:m,classes:j,isIncentiveFixed:d,setIncentiveFixed:u})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:p,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addItemForm",type:"submit",children:"Add Item"})]})]})},ADD_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemDetails,i=Object(b.b)();return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){i(Ka(c.itemId,c.quantity))}})},DELETE_SALE_CONFIRMATION_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.message,c=e.itemIndex,i=Object(b.b)(),o=Object(b.c)((function(e){return e.inventorySales})).itemSales;return Object(a.jsx)(he,{isVisible:t,title:n,message:r,handleNegativePressed:function(){i(A())},handlePositivePressed:function(){var e;i((e=o[c].ID,function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r,c,i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().auth.user,c=a().inventorySales.metadata,n(Ya()),n(A()),n(w({modalType:"LOADING_MODAL"})),t.next=8,an(r.branchName,e,c.salesDate,c.salesDateCateg);case 8:i=t.sent,n(qa(i)),n(A()),n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Transaction deleted successfully!",duration:3e3}})),n(un()),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),n(Ga(t.t0)),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}}));case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()))}})},MANAGE_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Da(),u=Object(b.b)();return Object(a.jsxs)(x.a,{open:o,onClose:function(){s(!t)},TransitionProps:{onExited:function(){u(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Manage Item"}),Object(a.jsxs)(v.a,{className:d.content,children:[Object(a.jsx)(fe.a,{fullWidth:!0,variant:"contained",onClick:function(){s(!t),u(w({modalType:"MODIFY_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Modify Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{fullWidth:!0,variant:"outlined",onClick:function(){s(!t),u(w({modalType:"DISCOUNT_ITEM_MODAL",modalProps:{item:n,itemIndex:r}}))},children:"Discount Item"}),Object(a.jsx)("br",{}),Object(a.jsx)(fe.a,{className:d.deleteBtn,fullWidth:!0,variant:"outlined",onClick:function(e){s(!t),u(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n,a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user,t.prev=1,n(oa()),n(w({modalType:"LOADING_MODAL",modalProps:{}})),t.next=6,en(e,r.branchName);case 6:n(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Deleted!",duration:3e3}})),n(sa(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(w({modalType:"ERROR_MODAL",modalProps:{message:t.t0.message,duration:3e3}})),n(la());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(n.ID))},children:"Delete Item"})]})]})},MODIFY_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(n.isIncentiveFixed),u=Object(h.a)(d,2),j=u[0],m=u[1],p=ka(),O=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){O(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Modify Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Pa,{dispatch:O,onSubmit:function(e){var a=Object(f.a)(Object(f.a)({},n),e);a.isIncentiveFixed=j,j?a.incentiveRate=0:a.incentiveAmount=0,O(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(ta()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,Zt(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Successfully Modified!",duration:3e3}})),a(na({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(aa());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,r)),s(!t)},classes:p,itemDetails:n,isIncentiveFixed:j,setIncentiveFixed:m})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"modifyItemForm",type:"submit",children:"Modify Item"})]})]})},DISCOUNT_ITEM_MODAL:function(e){var t=e.isVisible,n=e.item,r=e.itemIndex,c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Ea(),u=Object(b.b)(),j=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:j,TransitionProps:{onExited:function(){u(A())}},children:[Object(a.jsx)(g.a,{children:"Discount Item"}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Ta,{onSubmit:function(e){var a=e.discount;s(!t),u(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(ra()),a(w({modalType:"LOADING_MODAL",modalProps:{}})),n.next=6,tn(e,c.branchName);case 6:i=n.sent,a(w({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Discounted!",duration:3e3}})),a(ia({newItem:i,itemIndex:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(w({modalType:"ERROR_MODAL",modalProps:{message:n.t0.message,duration:3e3}})),a(ca());case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(Object(f.a)(Object(f.a)({},n),{},{discount:a}),r))},classes:d,itemDetails:n})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:j,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"discountItemForm",type:"submit",children:"Discount Item"})]})]})},LOADING_MODAL:M,ERROR_MODAL:L,SUCCESS_MODAL:_,LOGOUT_MODAL:ve,ADD_CLIENT_MODAL:function(e){var t=e.isVisible,n=kt(),r=Object(l.useState)(t),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.b)(),d=function(){o(!t)};return Object(a.jsxs)(x.a,{open:i,onClose:d,TransitionProps:{onExited:function(){s(A())}},fullWidth:!0,children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(Ce.a,{align:"center",variant:"h5",children:"Add Client"})}),Object(a.jsx)(v.a,{children:Object(a.jsx)(Dt,{classes:n,onSubmit:function(e){var t,n=Object(f.a)(Object(f.a)({},e),{},{pet:{petName:e.petName,species:e.petSpecies,petBreed:e.petBreed}});s((t=n,function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(Ge()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Ne(t,r.branchName);case 6:c=e.sent,n(qe(c)),n(T()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(Ye(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}())),s(A())}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{onClick:d,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addClientForm",type:"submit",children:"Submit"})]})]})},ADD_APPOINTMENT_MODAL:function(e){var t=e.isVisible,n=e.startDate,r=e.clientIndex,c=Rn(),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(!0),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)();Object(l.useEffect)((function(){r||O(vt())}),[O,r]);var y=function(){d(!t)};return Object(a.jsxs)(x.a,{open:s,onClose:y,TransitionProps:{onExited:function(){O(A())}},className:c.root,fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Schedule Appointment"}),Object(a.jsxs)(v.a,{className:c.content,children:[Object(a.jsx)(In.a,{label:"For Vaccine",control:Object(a.jsx)(Nn.a,{checked:m,onChange:function(e){return p(e.target.checked)}})}),Object(a.jsx)(Fn,{onSubmit:function(e){var n=fn()(e.date).toISOString();O(function(e){var t=e.clientId,n=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(ct()),a(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,Te({clientId:t,appointment:n});case 5:r=e.sent,a(T()),a(it(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a(ot(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:e.client.ID,appointment:Object(f.a)(Object(f.a)({},e),{},{date:n})})),d(!t)},startDate:n,isVaccine:m,clientIndex:r})]}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{form:"addAppointmentForm",variant:"outlined",children:"Submit"})]})]})},CLIENT_TRANSACTIONS_MODAL:function(e){var t=e.isVisible,n=e.index,r=Sn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})),u=d.clients,j=d.paymentHistory,m=d.isPaymentsLoading,p=u[n],O=Object(b.b)();Object(l.useEffect)((function(){var e;O((e=p.ID,function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Ze()),t.next=4,ke(e);case 4:a=t.sent,n(et(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(tt(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[O,p]);var f=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:f,TransitionProps:{onExited:function(){O(A())}},fullScreen:!0,children:[Object(a.jsx)(g.a,{children:"Payment History"}),Object(a.jsx)(v.a,{className:r.content,children:m?Object(a.jsx)(F.a,{}):Object(a.jsx)(yn,{paymentHistory:j,client:p})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"outlined",onClick:f,children:"DONE"})})]})},CLIENT_APPOINTMENTS_MODAL:function(e){var t=e.isVisible,n=e.clientIndex,r=Gn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),s=i[0],d=i[1],u=Object(l.useState)(new Date),j=Object(h.a)(u,2),m=j[0],O=j[1],f=Object(p.g)(),y=Object(b.c)((function(e){return e.clients})),S=y.isAppointmentsLoading,C=y.clientAppointments,I=y.clients[n],N=Object(b.b)(),w=function(){d(!t)},D=function(e){O(e);var n=C.find((function(t){return zn()(t.date).isSame(e,"date")}));n&&(d(!t),f.push("/clients/appointments",{appointment:n}))};Object(l.useEffect)((function(){N(function(e){var t=e.clientId;return function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(jt()),e.next=4,Pe({clientId:t});case 4:a=e.sent,n(bt(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(ut(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({clientId:I.ID}))}),[N,I]);return Object(a.jsxs)(x.a,{open:s,onClose:w,TransitionProps:{onExited:function(){N(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"Appointments"}),Object(a.jsx)(v.a,{children:S?Object(a.jsx)("div",{className:r.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(o.b,{dateAdapter:Bn.a,children:Object(a.jsx)(Mn.a,{date:m,onChange:D,disableHighlightToday:!0,allowSameDateSelection:!0,renderDay:function(e,t,n){return Object(a.jsx)(Yn,{classes:r,date:e,selectedDate:m,_selectedDates:t,PickersDayComponentProps:n,appointments:C})},allowKeyboardControl:!1})})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{onClick:w,children:"DONE"})})]})},CLIENT_VETERINARIAN_NOTE_MODAL:function(e){var t=e.isVisible,n=e.index,r=Cn(),c=Object(l.useState)(t),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.c)((function(e){return e.clients})).clients,u=Object(l.useMemo)((function(){return d[n]}),[n,d]),j=Object(l.useState)(u.veterinarianNote?u.veterinarianNote:""),m=Object(h.a)(j,2),p=m[0],O=m[1],v=Object(b.b)(),y=function(){s(!t)};return Object(a.jsxs)(x.a,{open:o,onClose:y,TransitionProps:{onExited:function(){v(A())}},className:r.root,children:[Object(a.jsx)(g.a,{children:"Add Veterinarian Note"}),Object(a.jsx)("div",{className:r.content,children:Object(a.jsx)(It.a,{fullWidth:!0,label:"Note",multiline:!0,rows:10,value:p,onChange:function(e){return O(e.target.value)}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:y,children:"Cancel"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){var e=Object(f.a)(Object(f.a)({},u),{},{veterinarianNote:p});v(function(e){return function(){var t=Object(z.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Ue()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),t.next=5,Ae(e);case 5:a=t.sent,n(Ke(a)),n(T()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(Je(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e)),s(!t)},children:"Submit"})]})]})},SALES_BREAKDOWN_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.dailySales,c=(e.duration,ye()),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)({}),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)(),y=function(){d(!t)},S=Object(l.useCallback)((function(){var e={};console.log(r),r.items.forEach((function(t){var n=e[t.item.name];e[t.item.name]=n?Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:n.netSales+t.netSales,sales:n.sales+t.sales,incentives:n.incentives+t.incentives,count:n.count+1}):Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:t.netSales,sales:t.sales,incentives:t.incentives,count:1})})),p(e)}),[r]);Object(l.useEffect)((function(){S()}),[S]);return Object(a.jsxs)(x.a,{open:s,onClose:y,fullWidth:!0,TransitionProps:{onExited:function(){O(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"".concat(n," Breakdown")}),Object(a.jsxs)(v.a,{className:c.root,children:[Object(a.jsxs)("div",{className:c.header,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:"Quantity"}),Object(a.jsx)("div",{children:"Incentives"}),Object(a.jsx)("div",{children:"Sales"}),Object(a.jsx)("div",{children:"Net Sales"})]}),Object(a.jsx)("div",{className:c.content,children:m?Object.keys(m).map((function(e){var t=m[e];return Object(a.jsxs)("div",{className:c.item,children:[Object(a.jsx)("div",{children:e}),Object(a.jsx)("div",{className:c.column,children:t.count}),Object(a.jsxs)("div",{className:c.column,children:["P",t.incentives]}),Object(a.jsxs)("div",{className:c.column,children:["P",t.sales]}),Object(a.jsxs)("div",{className:c.column,children:["P",t.netSales]})]},e)})):null})]}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"text",onClick:y,children:"Done"})})]})},NET_SALES_BREAKDOWN_MODAL:function(e){var t=e.isVisible,n=e.title,r=e.dailySales,c=(e.duration,Se()),i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)({}),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(b.b)(),y=function(){d(!t)},S=Object(l.useCallback)((function(){var e={},t={};Object.keys(r).forEach((function(n){r[n].items.forEach((function(t){var n=e[t.item.name];e[t.item.name]=n?Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:n.netSales+t.netSales,sales:n.sales+t.sales,incentives:n.incentives+t.incentives,count:n.count+1}):Object(f.a)(Object(f.a)({},e[t.item.name]),{},{netSales:t.netSales,sales:t.sales,incentives:t.incentives,count:1})})),t[n]={items:e,sales:r[n].netSales,incentives:r[n].incentives}})),p(t)}),[r]);Object(l.useEffect)((function(){S()}),[S]);return Object(a.jsxs)(x.a,{open:s,onClose:y,fullWidth:!0,TransitionProps:{onExited:function(){O(A())}},children:[Object(a.jsx)(g.a,{style:{textAlign:"center"},children:"".concat(n," Breakdown")}),Object(a.jsx)(v.a,{className:c.root,children:m?Object.keys(m).map((function(e){var t=m[e];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:c.headerTitle,children:e}),Object(a.jsxs)("div",{className:c.header,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:"Quantity"}),Object(a.jsx)("div",{children:"Incentives"}),Object(a.jsx)("div",{children:"Sales"}),Object(a.jsx)("div",{children:"Net Sales"})]}),Object(a.jsx)("div",{className:c.content,children:Object.keys(t.items).map((function(e){var n=t.items[e];return Object(a.jsxs)("div",{className:c.item,children:[Object(a.jsx)("div",{children:e}),Object(a.jsx)("div",{className:c.column,children:n.count}),Object(a.jsxs)("div",{className:c.column,children:["P",n.incentives]}),Object(a.jsxs)("div",{className:c.column,children:["P",n.sales]}),Object(a.jsxs)("div",{className:c.column,children:["P",n.netSales]})]},e)}))}),Object(a.jsxs)("div",{className:c.footer,children:[Object(a.jsxs)("div",{children:["Total Incentives: P",t.incentives]}),Object(a.jsxs)("div",{children:["Total Sales: P",t.sales]})]})]})})):null}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(fe.a,{variant:"text",onClick:y,children:"Done"})})]})}},Qa=function(){var e=Object(b.c)((function(e){return e.modals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=Ja[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},Xa=n(370),$a=n(663),Za=n(657),er=n(580),tr=n(664),nr=n(665),ar=Object(S.b)({name:"drawer",initialState:{isOpen:!1},reducers:{toggleDrawer:function(e){e.isOpen=!e.isOpen}}}),rr=ar.reducer,cr=ar.actions.toggleDrawer,ir=n(695),or=n(662),sr=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.branchName,e.next=3,te.delete("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lr=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.notificationId,e.next=3,te.patch("/notifications/".concat(n));case 3:if(!(a=e.sent).data.data){e.next=8;break}return e.abrupt("return",a.data.data);case 8:throw Error(a.data.error);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=Object(S.b)({name:"notificationsSlice",initialState:{isLoading:!1,notifications:[],error:null},reducers:{fetchNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},fetchNotificationsSuccess:function(e,t){var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.isLoading=!1,e.error=null},fetchNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},clearNotificationsStart:function(e,t){e.isLoading=!0,e.error=null},clearNotificationsSuccess:function(e,t){e.notifications={},e.isLoading=!1,e.error=null},clearNotificationsError:function(e,t){e.error=t.payload,e.isLoading=!1},updateNotificationStart:function(){},updateNotificationSuccess:function(e,t){e.isLoading=!1;var n={};t.payload.forEach((function(e,t){n[t]=e})),e.notifications=n,e.error=null},updateNotificationError:function(e,t){e.error=t.payload,e.isLoading=!1}}}),ur=dr.actions,jr=ur.fetchNotificationsError,br=ur.fetchNotificationsStart,mr=ur.fetchNotificationsSuccess,pr=ur.updateNotificationError,Or=ur.updateNotificationStart,fr=ur.updateNotificationSuccess,hr=ur.clearNotificationsError,xr=ur.clearNotificationsStart,gr=ur.clearNotificationsSuccess,vr=dr.reducer,yr=n(645),Sr=n(581),Cr=n(661),Ir=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",gap:e.spacing(1)},title:{fontWeight:"bold",fontSize:"1.2rem"},message:{fontSize:"1rem"},seen:{opacity:"50%"},date:{color:"#FFFFFFB3",fontSize:"0.8rem"}}})),Nr=function(e){var t=e.notif,n=e.index,r=e.onNotificationPressed,c=Ir(),i=Object(l.useState)(t.seen),o=Object(h.a)(i,2),s=o[0],d=o[1],u=JSON.parse(t.payload);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Sr.a,{button:!0,onClick:function(){d(!0),r(t,n)},className:s?Wn()([c.root,c.seen]):c.root,children:[Object(a.jsx)(Ce.a,{className:c.title,children:u.client.clientName}),Object(a.jsx)(Ce.a,{className:c.message,children:t.message}),Object(a.jsx)(Ce.a,{className:c.date,children:fn()(t.CreatedAt).format("MMMM DD, YYYY")})]},t.ID),Object(a.jsx)(Cr.a,{})]})},wr=Object(O.a)((function(e){return{root:{width:"400px",display:"flex",maxHeight:"500px",flexDirection:"column",justifyContent:"center",gap:e.spacing(1)}}})),Ar=function(e){var t=e.notifications,n=e.onNotificationPressed,r=e.onClearNotificationsPressed,c=wr();return Object(a.jsx)(yr.a,{className:c.root,children:0!==Object.keys(t).length?Object(a.jsxs)(a.Fragment,{children:[Object.keys(t).map((function(e,r){var c=t[e];return Object(a.jsx)(Nr,{notif:c,index:r,onNotificationPressed:n})})),Object(a.jsx)(fe.a,{variant:"text",color:"error",onClick:r,startIcon:Object(a.jsx)(Gt.a,{color:"error"}),children:"Clear Notifications"})]}):Object(a.jsx)(Ce.a,{align:"center",children:"No Notifications"})})},Dr=Object(O.a)((function(e){return{loadingIndicator:{width:"400px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"}}})),kr=function(){var e=Object(b.c)((function(e){return e.notifications})),t=e.notifications,n=e.isLoading,r=Object(l.useState)(null),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(p.g)(),d=Dr(),u=Object(b.b)();Object(l.useEffect)((function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(br()),new WebSocket("".concat(G.WS_BASE_URL,"/notifications/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(mr(n.data))}}catch(c){t(jr(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[u]);var j=Boolean(i),m=function(e,t){var n=JSON.parse(e.payload);s.push("/clients/appointments",{appointment:n}),u(function(e){var t=e.notificationId;return e.index,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Or()),e.next=4,lr({notificationId:t});case 4:a=e.sent,n(fr(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(pr(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}({notificationId:e.ID,index:t})),o(null)},O=function(){u(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().auth.user,e.prev=1,t(xr()),e.next=5,sr({branchName:a.branchName});case 5:t(gr()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(hr(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}())};return Object(a.jsxs)("div",{children:[Object(a.jsx)(er.a,{onClick:function(e){o(e.currentTarget)},children:Object(a.jsx)(ir.a,{badgeContent:Object.keys(t).map((function(e){return t[e]})).filter((function(e){return!e.seen})).length,children:Object(a.jsx)(or.a,{})})}),Object(a.jsx)(Xa.a,{anchorEl:i,keepMounted:!0,open:j,onClose:function(){o(null)},children:n?Object(a.jsx)("div",{className:d.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(Ar,{notifications:t,onNotificationPressed:m,onClearNotificationsPressed:O})})]})},Pr=Object(O.a)((function(e){var t;return{appBar:(t={},Object(Pt.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(K,"px)"),marginLeft:K}),Object(Pt.a)(t,"width","100%"),Object(Pt.a)(t,"backgroundColor","#272727"),Object(Pt.a)(t,"flexGrow",1),t),menuButton:Object(Pt.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none "}),grow:{flexGrow:1}}})),Er={dashboard:"Dashboard","pet-queues":"Pet Queues","all-clients":"All Clients",payments:"Payments",appointments:"Appointments","appointment-form":"Appointment Form","item-categories":"Item Categories",items:"All Items",sales:"All Sales"},Tr=function(){var e=Object(l.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(l.useState)(""),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(p.h)(),u=Boolean(n),j=Object(b.b)(),m=Pr();Object(l.useEffect)((function(){var e=d.pathname.split("/"),t=Er[e[e.length-1]];s(t)}),[d,o,s]);var O=function(){r(null)},f=function(){O(),j(w({modalType:"LOGOUT_MODAL",modalProps:{title:"Logout",message:"Are you sure you want to logout from the session?"}}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($a.a,{position:"fixed",className:m.appBar,children:Object(a.jsxs)(Za.a,{children:[Object(a.jsx)(er.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){j(cr())},className:m.menuButton,children:Object(a.jsx)(tr.a,{})}),Object(a.jsx)(Ce.a,{children:"Petshield Veterinary Clinic - "+o}),Object(a.jsx)("div",{className:m.grow}),Object(a.jsx)(kr,{}),Object(a.jsx)(er.a,{edge:"end",onClick:function(e){r(e.target)},children:Object(a.jsx)(nr.a,{style:{fontSize:"2rem"}})})]})}),Object(a.jsx)(Xa.a,{anchorEl:n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:O,children:Object(a.jsx)(Pn.a,{onClick:f,children:"Logout"})})]})},Lr=n(668),Fr=n(669),Rr=n(672),Mr=n(700),_r=n(708),Br=n(666),Hr=n(667),zr=n(670),Vr=n(671),Wr=n.p+"static/media/house.7d774967.svg",Gr=n.p+"static/media/all_clients.2a3b6270.svg",Yr=n.p+"static/media/all_items.e153111f.svg",qr=n.p+"static/media/appointments.f3506a0a.svg",Ur=n.p+"static/media/clients.b5a069e7.svg",Kr=n.p+"static/media/dashboard.99dfeff1.svg",Jr=n.p+"static/media/inventory.c084951b.svg",Qr=n.p+"static/media/item_transactions.a4256305.svg",Xr=(n.p,n.p+"static/media/payments.8026a3af.svg"),$r=n(141),Zr=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,drawer:Object(Pt.a)({},e.breakpoints.up("sm"),{width:K,flexShrink:0}),drawerPaper:{width:K,backgroundColor:"#343434"},nested:{paddingLeft:"".concat(e.spacing(4))},drawerIcon:{width:"34px",height:"34px",fill:"".concat(e.palette.primary.main," !important")}}})),ec=function(){var e=Zr(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.drawer})).isOpen,r=Object(l.useState)({home:!1,clients:!1,inventory:!1,admin:!1}),c=Object(h.a)(r,2),i=c[0],o=c[1],s=[{label:"Home",type:"home",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{home:!i.home}))},icon:Wr,subItems:[{label:"Dashboard",icon:Kr,path:"/home/dashboard"}]},{label:"Clients",type:"clients",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{clients:!i.clients}))},icon:Ur,subItems:[{label:"All Clients",icon:Gr,path:"/clients/all-clients"},{label:"Payments",icon:Xr,path:"/clients/payments"},{label:"Appointments",icon:qr,path:"/clients/appointments"}]},{label:"Inventory",type:"inventory",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{inventory:!i.inventory}))},icon:Jr,subItems:[{label:"All Items",icon:Yr,path:"/inventory/items"},{label:"Item Transactions",icon:Qr,path:"/inventory/sales"}]},{label:"Admin",type:"admin",handleOnClick:function(){return o(Object(f.a)(Object(f.a)({},i),{},{admin:!i.admin}))},mIcon:Br.a,subItems:[{label:"Item Category",mIcon:Hr.a,path:"/admin/item-categories"}]}],u=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsx)(Cr.a,{}),Object(a.jsx)(yr.a,{children:s.map((function(t){return Object(a.jsxs)(d.a.Fragment,{children:[Object(a.jsxs)(Sr.a,{button:!0,onClick:t.handleOnClick,children:[Object(a.jsx)(Lr.a,{children:t.icon?Object(a.jsx)($r.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(Fr.a,{primary:t.label}),i[t.type]?Object(a.jsx)(zr.a,{}):Object(a.jsx)(Vr.a,{})]},t.label),Object(a.jsx)(Rr.a,{in:i[t.type],timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(yr.a,{component:"div",children:t.subItems.map((function(t){return Object(a.jsxs)(Sr.a,{button:!0,component:m.b,to:t.path,className:e.nested,children:[Object(a.jsx)(Lr.a,{children:t.icon?Object(a.jsx)($r.a,{src:t.icon,beforeInjection:function(t){t.classList.add(e.drawerIcon)}},t.label):Object(a.jsx)(t.mIcon,{color:"primary",size:"lg"})}),Object(a.jsx)(Fr.a,{primary:t.label})]},t.label)}))})})]},t.label)}))})]}),j=function(){t(cr())};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Mr.a,{smUp:!0,implementation:"css",children:Object(a.jsx)(_r.a,{className:e.drawer,variant:"temporary",anchor:"left",open:n,onClose:j,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:u})}),Object(a.jsx)(Mr.a,{smDown:!0,implementation:"css",children:Object(a.jsx)(_r.a,{className:e.drawer,classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:u})})]})},tc=function(e){var t=e.component,n=Object(wn.a)(e,["component"]),r=Object(b.c)((function(e){return e.auth})).user;return 0!==Object.keys(r).length?Object(a.jsx)(p.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Tr,{}),Object(a.jsx)(ec,{}),Object(a.jsx)(t,Object(f.a)({},e))]})}})):Object(a.jsx)(p.a,{to:{pathname:"/auth/login"}})},nc=n(232),ac=n(345),rc=n.n(ac),cc=n(346),ic=n.n(cc),oc=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",width:"100%"},textField:{paddingBottom:"1em"}}})),sc=function(e){var t=e.onSubmit,n=oc(),r=Object(l.useState)(!1),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(Ct.b)(),d=s.register,u=s.errors,j=s.handleSubmit;return Object(a.jsxs)("form",{id:"loginForm",className:n.root,onSubmit:j(t),children:[Object(a.jsx)(It.a,{className:n.textField,variant:"outlined",label:"Username",name:"username",size:"small",helperText:u.username?"This field is required!":"",inputRef:d({required:!0}),error:!!u.username}),Object(a.jsx)(It.a,{className:n.textField,variant:"outlined",label:"Password",name:"password",size:"small",helperText:u.password?"This field is required!":"",type:i?"text":"password",inputRef:d({required:!0}),InputProps:{endAdornment:Object(a.jsx)(Nt.a,{children:Object(a.jsx)(er.a,{onClick:function(){o(!i)},children:i?Object(a.jsx)(rc.a,{color:"secondary"}):Object(a.jsx)(ic.a,{color:"secondary"})})})},error:!!u.password})]})},lc=n.p+"static/media/login_background.102072f5.png",dc=n.p+"static/media/logo.68ea1519.png",uc=Object(O.a)((function(e){return{root:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},background:{height:"100vh",width:"100%",position:"absolute",top:"0",left:"0",backgroundImage:"url(".concat(lc,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",filter:"blur(4px)"},container:{display:"grid",width:"100%",height:"100%",maxHeight:"500px",maxWidth:"500px",gridTemplate:"1fr 1fr 1fr/ 1fr",placeContent:"center",padding:"1em",zIndex:2},loading:{display:"grid",width:"100%",height:"100%",placeContent:"center"},centerItem:{display:"grid",placeSelf:"center"},logo:{position:"fixed",top:"0",margin:"1em auto",width:"80px",height:"80px",zIndex:2}}})),jc=function(){var e=uc(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.auth})),r=n.user,c=n.isLoading,i=function(e){var n;t((n=e,function(){var e=Object(z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(le()),e.next=4,ne(n);case 4:a=e.sent,t(de(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(ue(e.t0.message)),t(w({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message}}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(nc.a,{className:e.root,elevation:0,children:[Object(a.jsx)("img",{className:e.logo,src:dc,alt:"logo"}),Object(a.jsx)("div",{className:e.background}),c?Object(a.jsx)("div",{className:e.loading,children:Object(a.jsx)(F.a,{color:"primary"})}):0===Object.keys(r).length?Object(a.jsxs)(nc.a,{variant:"outlined",className:e.container,children:[Object(a.jsx)(Ce.a,{className:e.centerItem,align:"center",variant:"h5",children:"Petshield Veterinary Clinic"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(sc,{onSubmit:i}),Object(a.jsx)(fe.a,{color:"primary",form:"loginForm",type:"submit",variant:"contained",fullWidth:!0,children:"Login"})]})]}):Object(a.jsx)(p.a,{to:"/home/dashboard"})]})},bc=n(673),mc=function(){var e=Object(z.a)(H.a.mark((function e(t,n,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/stats/".concat(t,"/item-sales?salesDate=").concat(n,"&salesDateCateg=").concat(a));case 2:if(!(r=e.sent).data.data){e.next=7;break}return e.abrupt("return",r.data.data);case 7:throw Error(r.data.error);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),pc=Object(S.b)({name:"homeSalesStats",initialState:{isLoading:!1,stats:{},error:null},reducers:{fetchItemSalesStatsStart:function(e){e.isLoading=!0},fetchItemSalesStatsSuccess:function(e,t){e.isLoading=!1,e.stats=t.payload},fetchItemSalesStatsFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),Oc=pc.reducer,fc=pc.actions,hc=fc.fetchItemSalesStatsFailure,xc=fc.fetchItemSalesStatsStart,gc=fc.fetchItemSalesStatsSuccess,vc=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"}}})),yc=function(e){var t=e.setSalesDateCateg,n=e.salesDateCateg,r=e.salesDate,c=e.setSalesDate,i=vc(),o=Object(b.b)();return Object(l.useEffect)((function(){o(function(e,t){return function(){var n=Object(z.a)(H.a.mark((function n(a,r){var c,i;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r().auth.user,n.prev=1,a(xc()),n.next=5,mc(c.branchName,e,t);case 5:i=n.sent,a(gc(i)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a(hc(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,n))}),[o,r,n]),Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsxs)(kn.a,{value:n,onChange:function(e){var n=e.target.value;t(n)},variant:"outlined",children:[Object(a.jsx)(Pn.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(Pn.a,{value:"yearly",children:"Yearly"})]}),Object(a.jsx)(Tn.a,{value:r,allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},views:{monthly:["month","year"],yearly:["year"]}[n],onChange:function(e){c(fn()(e).format("MM-DD-YYYY"))}})]})},Sc=n(696),Cc=n(674),Ic=n(678),Nc=n(357),wc=n(358),Ac=n(231),Dc=n(181),kc=n(371),Pc=n(702),Ec=n(372),Tc=Object(O.a)((function(e){return{root:{padding:e.spacing(2)}}})),Lc=function(e){var t=e.payload,n=e.active,r=Tc();if(n&&t){var c=t[0].payload.name,i=t[0].payload.sales;return Object(a.jsxs)(bc.a,{className:r.root,children:[Object(a.jsx)(Ce.a,{variant:"h6",align:"center",children:c}),Object(a.jsx)("br",{}),function(){if(0!==Object.keys(i).length){var e=Object.keys(i).filter((function(e){return"Net Sales"!==e})).map((function(e){return Object(a.jsx)(Ce.a,{children:"".concat(e,": ").concat(i[e])},e)}));return Object(a.jsxs)(a.Fragment,{children:[e,Object(a.jsx)(Ce.a,{children:"Net Sales: ".concat(void 0!==i["Net Sales"]?i["Net Sales"]:0)})]})}return Object(a.jsx)(Ce.a,{children:"No Sales"})}()]})}return null},Fc=Object(O.a)((function(e){return{root:Object(Pt.a)({width:"100%",display:"flex",justifyContent:"space-evenly",flexDirection:"column",gridGap:"1em"},e.breakpoints.up("sm"),{flexDirection:"row"}),tooltip:{backgroundColor:"red"}}})),Rc=function(){var e=Fc(),t=Object(b.c)((function(e){return e.homeSalesStats})),n=t.isLoading,r=t.stats,c=Object(l.useState)([]),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)([]),u=Object(h.a)(d,2),j=u[0],m=u[1];Object(l.useEffect)((function(){var e={Grooming:"#8884D8","Vet Sales":"#8CDEDC","Store Sales":"#B2ECE1","Blood Test":"#D295BF",default:"#DE9151"};0!==Object.keys(r).length&&function(){for(var t=r.data.map((function(e){return{name:e.category,sales:e.value,netSales:void 0!==e.value["Net Sales"]?e.value["Net Sales"]:0}})),n={},a=function(e){0!==Object.keys(r.data[e].value).length&&Object.keys(r.data[e].value).filter((function(e){return"Net Sales"!==e})).forEach((function(t){n[t]||(n[t]=0),n[t]+=r.data[e].value[t]}))},c=0;c<r.data.length;c++)a(c);var i=Object.keys(n).map((function(t){return{name:t,value:n[t],fill:void 0!==e[t]?e[t]:e.default}}));m(i),s(t)}()}),[r,n,m,s]);return Object(a.jsx)("div",{className:e.root,children:n?Object(a.jsx)(F.a,{}):0!==o.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Sc.a,{width:"100%",height:400,children:Object(a.jsxs)(Cc.a,{data:o,children:[Object(a.jsx)(Ic.a,{strokeDasharray:"3 3"}),Object(a.jsx)(Nc.a,{dataKey:"name",type:"category"}),Object(a.jsx)(wc.a,{type:"number",dataKey:"netSales",name:"Net Sales"}),Object(a.jsx)(Ac.a,{content:Object(a.jsx)(Lc,{})}),Object(a.jsx)(Dc.a,{}),Object(a.jsx)(kc.a,{type:"monotone",dataKey:"netSales"})]})}),Object(a.jsx)(Sc.a,{width:"100%",height:400,children:Object(a.jsxs)(Pc.a,{children:[Object(a.jsx)(Ac.a,{}),Object(a.jsx)(Dc.a,{}),Object(a.jsx)(Ec.a,{data:j,dataKey:"value"})]})})]}):null})},Mc=Object(O.a)((function(e){return{root:Object(Pt.a)({padding:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"}),title:{margin:"".concat(e.spacing(2)," 0")}}})),_c=function(){var e=fn()(Date.now()).format("MM-DD-YYYY"),t=Object(l.useState)("monthly"),n=Object(h.a)(t,2),r=n[0],c=n[1],i=Object(l.useState)(e),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Mc();return Object(a.jsxs)(bc.a,{className:u.root,children:[Object(a.jsx)(yc,{salesDate:s,setSalesDate:d,salesDateCateg:r,setSalesDateCateg:c}),Object(a.jsx)(Ce.a,{variant:"h5",align:"center",className:u.title,children:"".concat(r.toUpperCase()," Sales")}),Object(a.jsx)("div",{children:Object(a.jsx)(Rc,{})})]})},Bc=Object(O.a)((function(e){return{root:Object(Pt.a)({padding:e.spacing(3),height:"100%",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"})}})),Hc=function(){var e=Bc();return Object(a.jsx)(nc.a,{className:e.root,children:Object(a.jsx)(_c,{})})},zc=n(683),Vc=n.p+"static/media/consultations.524fbfbc.svg",Wc=n(703),Gc=n(274),Yc=n(679),qc=n(680),Uc=n(681),Kc=n(682),Jc=n.p+"static/media/rx_icon.edf0143d.png",Qc=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},owner:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),Xc=function(){var e=Qc();return Object(a.jsxs)(nc.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Wc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(Ce.a,{className:e.owner,children:"Owner: Paolo"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(Gc.a,{className:e.consultationButton,children:Object(a.jsx)(Yc.a,{})}),Object(a.jsx)(Gc.a,{className:e.consultationButton,children:Object(a.jsx)(qc.a,{})}),Object(a.jsx)(Gc.a,{className:e.consultationButton,children:Object(a.jsx)(Uc.a,{})}),Object(a.jsx)(Gc.a,{className:Wn()(e.consultationButton,e.finish),children:Object(a.jsx)(bn.a,{})}),Object(a.jsx)(Gc.a,{className:e.consultationButton,children:Object(a.jsx)(Kc.a,{})}),Object(a.jsx)(Gc.a,{className:Wn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Jc,alt:"rx"})})]})]})},$c=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},consultationList:{marginTop:"1em"}}})),Zc=function(){var e=$c();return Object(a.jsx)(bc.a,{className:e.root,children:Object(a.jsxs)(zc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h5",children:"Consultations"}),Object(a.jsxs)(Ce.a,{className:e.subTitle,variant:"body1",children:["Pets to consult:"," "]})]}),Object(a.jsx)($r.a,{src:Vc,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(Cr.a,{}),Object(a.jsx)(yr.a,{className:e.consultationList,children:Object(a.jsx)(Xc,{})})]})})},ei=n.p+"static/media/admitted.d82cca45.svg",ti=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"space-between"},consultationInfoContainer:{display:"flex",padding:e.spacing(1)},consultationButtonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:{height:e.spacing(7),width:e.spacing(7),marginRight:"1em"},subTitle:{opacity:"0.6"},finish:{border:"1px solid green",color:"green"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}}}})),ni=function(){var e=ti();return Object(a.jsxs)(nc.a,{className:e.root,variant:"outlined",children:[Object(a.jsxs)("div",{className:e.consultationInfoContainer,children:[Object(a.jsx)(Wc.a,{className:e.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h6",children:"PetName"}),Object(a.jsx)(Ce.a,{className:e.subTitle,children:"Owner: Paolo"}),Object(a.jsx)(Ce.a,{className:e.subTitle,children:"Days admitted: 0"})]})]}),Object(a.jsxs)("div",{className:e.consultationButtonsContainer,children:[Object(a.jsx)(Gc.a,{className:e.consultationButton,children:Object(a.jsx)(Uc.a,{})}),Object(a.jsx)(Gc.a,{className:e.consultationButton,children:Object(a.jsx)(qc.a,{})}),Object(a.jsx)(Gc.a,{className:e.consultationButton,children:Object(a.jsx)(Yc.a,{})}),Object(a.jsx)(Gc.a,{className:Wn()(e.consultationButton,e.rxIcon),children:Object(a.jsx)("img",{src:Jc,alt:"rx"})})]})]})},ai=Object(O.a)((function(e){return{root:{height:"100%",width:"100%"},icon:{height:"45px",width:"45px",fill:"white !important"},title:{display:"flex",width:"100%",justifyContent:"space-between",marginBottom:"1em"},subTitle:{opacity:"0.6"},admittancesList:{marginTop:"1em"}}})),ri=function(){var e=ai();return Object(a.jsx)(bc.a,{className:e.root,children:Object(a.jsxs)(zc.a,{children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h5",children:"Admitted"}),Object(a.jsx)(Ce.a,{className:e.subTitle,variant:"body1",children:"Pets admitted:"})]}),Object(a.jsx)($r.a,{src:ei,beforeInjection:function(t){t.classList.add(e.icon)}})]}),Object(a.jsx)(Cr.a,{}),Object(a.jsx)(yr.a,{className:e.admittancesList,children:Object(a.jsx)(ni,{})})]})})},ci=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},container:{display:"grid",gridTemplate:"1fr / 1fr 1fr",gridGap:e.spacing(3)}}})),ii=function(){var e=ci();return Object(a.jsx)(nc.a,{className:e.root,children:Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(Zc,{}),Object(a.jsx)(ri,{})]})})},oi=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/dashboard"),component:Hc}),Object(a.jsx)(p.b,{exact:!0,path:"".concat(t.url,"/pet-queues"),component:ii}),Object(a.jsx)(p.a,{to:"".concat(t.url,"/dashboard")})]})},si=n(684),li=n(685),di=Object(O.a)((function(e){return{root:{marginBottom:e.spacing(2)},container:Object(Pt.a)({display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"10px",backgroundColor:"#2f2f2f"},e.breakpoints.up("sm"),{flexDirection:"row"}),infoContainer:{display:"flex"},buttonsContainer:{display:"grid",gridTemplate:"1fr 1fr / 1fr 1fr",padding:e.spacing(1),gridGap:"0.3em"},consultationButton:{zIndex:"10",padding:e.spacing(1),borderRadius:"5px",borderColor:e.palette.primary.main,border:"1px solid"},petAvatar:Object(Pt.a)({height:e.spacing(7),width:e.spacing(7),marginRight:"1em",display:"none"},e.breakpoints.up("sm"),{display:"flex"}),subTitle:{opacity:"0.6"},rxIcon:{border:"1px solid black",backgroundColor:"white","& img":{height:"20px"}},clientMoreDetails:{display:"flex",flexDirection:"column",padding:e.spacing(2)}}})),ui=function(e){var t=e.client,n=e.index,r=di(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(b.b)();return Object(a.jsxs)(nc.a,{className:r.root,children:[Object(a.jsxs)(Sr.a,{button:!0,className:r.container,onClick:function(){s(!o)},children:[Object(a.jsxs)("div",{className:r.infoContainer,children:[Object(a.jsx)(Wc.a,{className:r.petAvatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ce.a,{variant:"h6",children:"Pet Name: ".concat(t.pet.petName)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Owner: ".concat(t.clientName)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Pet Species: ".concat(t.pet.species)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Pet Breed: ".concat(t.pet.petBreed)}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Last Visit: ".concat(fn()(t.lastVisit).format("MM-DD-YYYY HH-MM-SS A"))}),Object(a.jsx)(Ce.a,{className:r.subTitle,children:"Next Visit: ".concat(fn()(t.nextVisit).format("MM-DD-YYYY HH-MM-SS A"))})]})]}),Object(a.jsxs)("div",{className:r.buttonsContainer,children:[Object(a.jsx)(Gc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_TRANSACTIONS_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(si.a,{})}),Object(a.jsx)(Gc.a,{className:r.consultationButton,children:Object(a.jsx)(qc.a,{})}),Object(a.jsx)(Gc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_VETERINARIAN_NOTE_MODAL",modalProps:{index:n}}))},children:Object(a.jsx)(Yc.a,{})}),Object(a.jsx)(Gc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"CLIENT_APPOINTMENTS_MODAL",modalProps:{clientIndex:n}}))},children:Object(a.jsx)(li.a,{})}),Object(a.jsx)(Gc.a,{className:r.consultationButton,onClick:function(){d(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{clientIndex:n,startDate:Date().toString()}}))},children:Object(a.jsx)(Kc.a,{})}),Object(a.jsx)(Gc.a,{className:Wn()(r.consultationButton,r.rxIcon),children:Object(a.jsx)("img",{src:Jc,alt:"rx"})})]})]}),Object(a.jsx)(Rr.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)("div",{className:r.clientMoreDetails,children:[Object(a.jsx)(Ce.a,{children:"Address: ".concat(t.address)}),Object(a.jsx)(Ce.a,{children:"Contact Number: ".concat(t.contactNumber)}),Object(a.jsx)(Ce.a,{children:"Email: ".concat(t.email)}),Object(a.jsx)(Ce.a,{children:"Veterinarian Note: ".concat(t.veterinarianNote)})]})})]})},ji=Object(O.a)((function(e){return{root:{minHeight:"100%",overflowY:"auto",overflowX:"hidden",padding:"0 ".concat(e.spacing(2)),paddingBottom:e.spacing(5)}}})),bi=function(e){var t=e.clients,n=ji();return Object(a.jsx)(yr.a,{className:n.root,children:Object.keys(t).map((function(e){return Object(a.jsx)(ui,{client:t[e],index:e},t[e].ID)}))})},mi=n(686),pi=n(687),Oi=Object(O.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2),justifyContent:"space-between"}}})),fi=function(){var e=Object(b.b)(),t=Oi(),n=Object(pn.debounce)((function(t){var n;e(""!==t?(n=t,function(){var e=Object(z.a)(H.a.mark((function e(t,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,t(Be()),e.next=5,we(n,r.branchName);case 5:c=e.sent,t(He(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(_e(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()):vt())}),800),r=function(e){n(e.target.value)};return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(Mr.a,{smUp:!0,children:Object(a.jsx)(It.a,{variant:"outlined",label:"Search",size:"small",fullWidth:!0,InputProps:{endAdornment:Object(a.jsx)(Nt.a,{children:Object(a.jsx)(mi.a,{color:"primary"})})},onChange:r})}),Object(a.jsx)(Mr.a,{smDown:!0,children:Object(a.jsx)(It.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(Nt.a,{children:Object(a.jsx)(mi.a,{color:"primary"})})},onChange:r})}),Object(a.jsx)(Mr.a,{smDown:!0,children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(pi.a,{}),onClick:function(){e(w({modalType:"ADD_CLIENT_MODAL"}))},children:"Add Client"})})]})},hi=Object(O.a)((function(e){return{root:Object(Pt.a)({padding:e.spacing(3),height:"100%",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh",overflow:"hidden"}),loadingIndicator:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{display:"flex",justifyContent:"flex-end"}}})),xi=function(){var e=hi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.clients,c=n.isClientsLoading,i=Object(l.useState)(null),o=Object(h.a)(i,2),s=o[0],d=o[1];Object(l.useEffect)((function(){t(vt())}),[t]);return Object(a.jsxs)(nc.a,{className:e.root,children:[Object(a.jsx)(fi,{setClientResultsSearch:d}),c?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(bi,{clients:s||r})})]})},gi=n(57),vi=n(7),yi=n(77),Si=n(688),Ci=Object(O.a)((function(e){return{icon:{color:e.palette.action.active},textCenter:{textAlign:"center"},commandButton:{backgroundColor:"rgba(255,255,255,0.65)"},header:{display:"flex",justifyContent:"space-between"},form:{display:"flex",marginTop:e.spacing(2),width:"100%",flexDirection:"column",gap:e.spacing(2)}}})),Ii=function(e){e.children;var t=e.appointmentData,n=e.setIsEditing,r=e.isEditing,c=e.setAppointmentVisible,i=Object(wn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible"]),o=Object(b.b)(),s=Ci();return Object(a.jsxs)(yi.b.Header,Object(f.a)(Object(f.a)({className:s.header},i),{},{appointmentData:t,children:[Object(a.jsx)(er.a,{onClick:function(){var e=t.appointment;o(function(e){var t=e.appointmentId;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(xt()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Ee({appointmentId:t,branchName:r.branchName});case 6:c=e.sent,n(T()),n(ht(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(ft(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointmentId:e.ID})),c(!1)},children:Object(a.jsx)(Gt.a,{color:"error"})}),Object(a.jsx)(er.a,{onClick:function(){return n(!r)},children:Object(a.jsx)(Si.a,{color:r?"primary":"action"})})]}))},Ni=function(e){e.children;var t=e.appointmentData,n=(e.setIsEditing,e.isEditing),r=e.setAppointmentVisible,c=(e.onAppointmentMetaChanged,Object(wn.a)(e,["children","appointmentData","setIsEditing","isEditing","setAppointmentVisible","onAppointmentMetaChanged"])),i=Ci(),o=Object(b.b)(),s=Object(Ct.b)(),l=s.handleSubmit,d=s.control,u=t.appointment;return Object(a.jsx)(yi.b.Content,Object(f.a)(Object(f.a)({},c),{},{appointmentData:t,children:Object(a.jsxs)("form",{className:i.form,id:"updateAppointmentForm",onSubmit:l((function(e){var t=fn()(e.date).toISOString(),n=Object(f.a)(Object(f.a)({},u),{},{date:t,veterinarianNote:e.veterinarianNotes});r(!1),o(function(e){var t=e.appointment;return function(){var e=Object(z.a)(H.a.mark((function e(n,a){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.user,e.prev=1,n(pt()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=6,Le({branchName:r.branchName,appointment:t});case 6:c=e.sent,n(T()),n(Ot(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(mt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({appointment:n}))})),children:[Object(a.jsx)(Ct.a,{id:"appointment-date",name:"date",control:d,defaultValue:fn()(u.date).toDate(),rules:{required:!0},render:function(e){return Object(a.jsx)(Tn.a,Object(f.a)({disabled:!n,renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Appointment Date",readOnly:!n}))}},e))}}),Object(a.jsx)(Ct.a,{name:"veterinarianNotes",control:d,defaultValue:u.veterinarianNote,rules:{},render:function(e){return Object(a.jsx)(It.a,Object(f.a)({disabled:!n,label:"Notes",multiline:!0,size:"small",rows:5},e))}}),n?Object(a.jsx)(fe.a,{form:"updateAppointmentForm",children:"Update Appointment"}):null]})}))},wi=function(e){var t=Object(b.b)();return Object(a.jsx)(yi.e.TimeTableCell,Object(f.a)({onClick:function(){t(w({modalType:"ADD_APPOINTMENT_MODAL",modalProps:{startDate:String(e.startDate)}}))}},e))},Ai=n(148),Di=n(149),ki=n(221),Pi=n(218),Ei=function(e){Object(ki.a)(n,e);var t=Object(Pi.a)(n);function n(e){var a;return Object(Ai.a)(this,n),(a=t.call(this,e)).ref=d.a.createRef(),a}return Object(Di.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.setAppointmentVisible,a=e.onAppointmentMetaChange,r=e.notificationState,c=e.setNotificationState;if(r){var i=r.appointment;Array.isArray(i)?i[0].ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null)):i.ID===t.id&&(n(!0),a({target:this.ref.current.parentElement.parentElement,data:t}),c(null))}}},{key:"render",value:function(){var e=this.props,t=e.data,n=(e.onClick,e.classes,e.setAppointmentVisible),r=e.onAppointmentMetaChange,c=(e.location,Object(wn.a)(e,["data","onClick","classes","setAppointmentVisible","onAppointmentMetaChange","location"]));return Object(a.jsx)(yi.c.Appointment,Object(f.a)(Object(f.a)({ref:this.ref,onClick:function(e){var a=e.target;n(!0),r({target:a.parentElement.parentElement,data:t})}},c),{},{children:Object(a.jsx)("div",{ref:this.ref,children:c.children})}))}}]),n}(d.a.Component),Ti=Object(O.a)((function(e){return{root:{height:"100%",borderRadius:"10px",overflow:"hidden"},button:{color:e.palette.background.default,padding:0},appointmentWrapper:{display:"flex",flexWrap:"wrap"}}})),Li=function(e){var t=e.data,n=Ti(),r=Object(p.h)(),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(r.state),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(!1),O=Object(h.a)(m,2),f=O[0],x=O[1],g=Object(l.useState)({target:null,data:{}}),v=Object(h.a)(g,2),y=v[0],S=v[1],C=function(e){var t=e.data,n=e.target;x(!1),S({data:t,target:n})},I=Object(vi.k)(Ii,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s}})),N=Object(vi.k)(Ni,(function(){return{setIsEditing:x,isEditing:f,setAppointmentVisible:s,onAppointmentMetaChanged:C}})),w=Object(vi.k)(Ei,(function(){return{classes:n,setAppointmentVisible:s,onAppointmentMetaChange:C,notificationState:j,setNotificationState:b}}));return Object(a.jsx)(nc.a,{className:n.root,children:Object(a.jsxs)(yi.f,{height:"auto",data:t,className:n.root,children:[Object(a.jsx)(gi.q,{}),Object(a.jsx)(yi.e,{timeTableCellComponent:wi}),Object(a.jsx)(yi.g,{}),Object(a.jsx)(yi.d,{}),Object(a.jsx)(yi.c,{appointmentComponent:w}),Object(a.jsx)(yi.b,{headerComponent:I,contentComponent:N,visible:o,onVisibilityChange:function(e){return s(e)},appointmentMeta:y,onAppointmentMetaChange:C}),Object(a.jsx)(yi.a,{})]})})},Fi=function(){var e=Object(b.c)((function(e){return e.clients})).appointments.map((function(e){return{id:e.ID,startDate:new Date(e.date),endDate:fn()(new Date(e.date)).add(2,"hours").toDate(),title:"".concat(e.client.clientName," - ").concat(e.client.pet.petName," : ").concat(e.type),client:e.client,appointment:e}}));return Object(a.jsx)(Li,{data:e})},Ri=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Mi=function(){var e=Ri(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})).isAppointmentsLoading;Object(l.useEffect)((function(){t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(lt()),new WebSocket("".concat(G.WS_BASE_URL,"/clients/").concat(a.branchName,"/appointments?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(dt(n.data))}}catch(c){t(st(c.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(bc.a,{className:e.root,children:n?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{})}):Object(a.jsx)(Fi,{})})},_i=Object(O.a)((function(e){return{root:Object(Pt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Bi=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=e.setSelectedClient,c=_i(),i=Object(b.c)((function(e){return e.clients})),o=i.isClientsLoading,s=i.clients;return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)("div",{children:n?Object(a.jsx)(Qt.a,{loading:o,options:s,getOptionLabel:function(e){return e.clientName},renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Client Name",variant:"outlined",helperText:"Enter client name here.",InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[o?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&r(t)}}):null}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Ut.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},Hi=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:e.spacing(1)},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),zi=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.selectedClient,c=e.setSelectedClient,i=Object(l.useState)({}),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(1),j=Object(h.a)(u,2),m=j[0],p=j[1],O=fn()(Date.now()).format("MM-DD-YYYY"),x=Object(b.c)((function(e){return e.inventorySearch})),g=x.result,v=x.isLoading,y=Hi(),S=Object(b.b)();if(Object(l.useEffect)((function(){S(vt())}),[S]),!t)return null;var C=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(s.inStock)&&p(t)},I=function(){c({}),d({}),p(1)},N=function(){S(yt(r.ID,s.ID,m)),I(),S(un()),n(!1)},w=function(){I(),S(un()),n(!1)},A=Object(pn.debounce)((function(e){S(""===e?un():jn(e))}),800),D=function(e){A(e.target.value)};return Object(a.jsxs)(Rt.a,{className:y.root,children:[Object(a.jsx)(Mt.a,{children:O}),Object(a.jsx)(Mt.a,{children:r.clientName}),Object(a.jsx)(Mt.a,{children:0===Object.keys(r).length?"Select a client first":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qt.a,{loading:v,options:g.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{label:"Product Name",size:"small",onChange:D,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[v?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&d(t)}}),s.name]})}),function(){var e=s.price*m,t=e-(s.isIncentiveFixed?Number(s.incentiveAmount).toFixed(2):Number(e*(s.incentiveRate/100)).toFixed(2));return 0===Object.keys(s).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Mt.a,{children:["\u20b1",Number(s.price).toFixed(2)]}),Object(a.jsx)(Mt.a,{className:y.quantityCell,children:Object(a.jsx)(It.a,{size:"small",variant:"outlined",type:"number",value:m,margin:"dense",onChange:C})}),Object(a.jsxs)(Mt.a,{children:["\u20b1",Number(e).toFixed(2)]}),Object(a.jsx)(Mt.a,{children:"".concat(Number(s.incentiveRate).toFixed(2),"%")}),Object(a.jsx)(Mt.a,{children:s.isIncentiveFixed?"\u20b1".concat(Number(s.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(s.incentiveRate/100)).toFixed(2))}),Object(a.jsxs)(Mt.a,{children:["\u20b1",Number(t).toFixed(2)]}),Object(a.jsx)(Mt.a,{children:s.category}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)("div",{className:y.buttonRows,children:[Object(a.jsx)(fe.a,{className:y.submitButton,variant:"outlined",onClick:N,children:Object(a.jsx)(bn.a,{})}),Object(a.jsx)(fe.a,{className:y.cancelButton,variant:"outlined",onClick:w,children:Object(a.jsx)(mn.a,{})})]})})]})}()]})},Vi=Object(O.a)((function(e){return{root:Object(Pt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Yt.a[400],border:"2px solid red",borderColor:Yt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),Wi=function(e){var t=e.data,n=e.columns,r=Vi(),c=Object(b.b)(),i=Object(l.useState)(0),o=Object(h.a)(i,2),s=o[0],d=o[1],u=Object(l.useState)(10),j=Object(h.a)(u,2),m=j[0],p=j[1],O=Object(l.useState)(!1),x=Object(h.a)(O,2),g=x[0],v=x[1],y=Object(l.useState)({}),S=Object(h.a)(y,2),C=S[0],I=S[1],N=Object(Et.useTable)({data:t,columns:n},Et.useSortBy),A=N.getTableProps,D=N.headerGroups,k=N.prepareRow,P=N.rows;return Object(a.jsxs)(nc.a,{className:r.root,children:[Object(a.jsx)(Bi,{toggleAddItemSaleRow:v,showAddItemSaleRow:g,setSelectedClient:I,selectedClient:C}),Object(a.jsx)(Tt.a,{children:Object(a.jsxs)(Lt.a,Object(f.a)(Object(f.a)({},A()),{},{stickyHeader:!0,children:[Object(a.jsx)(Ft.a,{children:D.map((function(e){return Object(a.jsxs)(Rt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Mt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:r.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(zt.a,{fontSize:"small"}):Object(a.jsx)(Wt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Mt.a,{})]})}))}),Object(a.jsxs)(_t.a,{className:r.container,children:[Object(a.jsx)(zi,{showAddItemSaleRow:g,toggleAddItemSaleRow:v,selectedClient:C,setSelectedClient:I}),P.slice(s*m,s*m+m).map((function(e,t){return k(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Rt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Mt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:e.render("Cell")}))},"col".concat(t))})),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(fe.a,{className:r.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,c(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Gt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Bt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:m,count:t.length,page:s,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})},Gi=function(e){var t=e.itemSales,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:fn()(e.CreatedAt).format("L"),col2:e.client.clientName,col3:e.item.name,col4:"\u20b1".concat(Number(e.item.price).toFixed(2)),col5:e.quantity,col6:"\u20b1".concat(Number(e.sales).toFixed(2)),col7:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col8:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col9:"\u20b1".concat(Number(e.netSales).toFixed(2)),col10:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Client",accessor:"col2"},{Header:"Product",accessor:"col3"},{Header:"Price",accessor:"col4"},{Header:"Qty",accessor:"col5"},{Header:"Sales",accessor:"col6"},{Header:"Rate",accessor:"col7"},{Header:"Incentives",accessor:"col8"},{Header:"Net Sales",accessor:"col9"},{Header:"Category",accessor:"col10"}]}),[]),itemSales:t};return Object(a.jsx)(Wi,Object(f.a)({},n))},Yi=Object(O.a)((function(e){return{root:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"150px",alignItems:"center",padding:"1em",backgroundColor:"#1D1D1D",overflow:"hidden","&::before":{content:'" "',position:"absolute",backgroundColor:e.palette.primary.main,height:"8px",width:"50%",top:"-3px",borderRadius:"20px"}}}})),qi=function(e){var t=e.title,n=e.value,r=e.dailySales,c=Yi(),i=Object(b.b)();return Object(a.jsxs)(Gc.a,{className:c.root,elevation:0,onClick:function(){r&&0!==Object.keys(r).length&&(String(t).includes("Net Sales")?i(w({modalType:"NET_SALES_BREAKDOWN_MODAL",modalProps:{title:t,dailySales:r}})):i(w({modalType:"SALES_BREAKDOWN_MODAL",modalProps:{title:t,dailySales:r}})))},children:[Object(a.jsx)(Ce.a,{style:{fontWeight:"bold"},align:"center",children:t}),Object(a.jsx)(Ce.a,{children:"P".concat(Number(n).toFixed(2))})]})},Ui=Object(O.a)((function(e){return{root:Object(Pt.a)({marginBottom:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{display:"flex",justifyContent:"space-between"}),picker:{height:"100% !important"}}})),Ki=function(e){var t=e.onSalesDateChanged,n=e.onSalesDateCategChanged,r=Ui(),c=fn()(Date.now()).format("MM-DD-YYYY"),i={daily:["date"],monthly:["month","year"],yearly:["year"]},o=Object(l.useState)("daily"),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(c),b=Object(h.a)(j,2),m=b[0],p=b[1];return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsxs)(kn.a,{variant:"outlined",value:d,onChange:function(e){return t=e.target.value,u(t),void n({salesDate:m,salesDateCateg:t});var t},children:[Object(a.jsx)(Pn.a,{value:"overall",children:"All"}),Object(a.jsx)(Pn.a,{value:"yearly",children:"Yearly"}),Object(a.jsx)(Pn.a,{value:"monthly",children:"Monthly"}),Object(a.jsx)(Pn.a,{value:"daily",children:"Daily"})]}),"overall"===d?null:Object(a.jsx)(Tn.a,{value:m,views:i[d],allowKeyboardControl:!1,renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{helperText:"",variant:"outlined"}))},onChange:function(e){!function(e){var n=e.format("MM-DD-YYYY").toString();p(n),t({salesDate:n,salesDateCateg:d})}(e)}})]})},Ji=Object(O.a)((function(e){return{root:Object(Pt.a)({display:"grid",width:"100%",gridGap:"1.5em",paddingBottom:"1em"},e.breakpoints.up("sm"),{gridTemplate:"1fr / 1fr 1fr 1fr 1fr 1fr 1fr"})}})),Qi=function(e){var t=e.dailySales,n=e.metadata,r=Ji(),c=Object(l.useState)({dailySales:[],sales:0}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(0),u=Object(h.a)(d,2),j=u[0],b=u[1],m=Object(l.useState)(0),p=Object(h.a)(m,2),O=p[0],f=p[1],x=Object(l.useState)(0),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(l.useState)(0),C=Object(h.a)(S,2),I=C[0],N=C[1],w=Object(l.useState)(0),A=Object(h.a)(w,2),D=A[0],k=A[1],P=Object(l.useState)(""),E=Object(h.a)(P,2),T=E[0],L=E[1],F=Object(l.useCallback)((function(){var e=0,n=0,a=[],r=[];Object.keys(t).forEach((function(c){"Blood Test"===c?(b(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Grooming"===c?(f(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Vet Sales"===c?(y(t[c].netSales),n+=t[c].netSales,r.push(t[c].items)):"Store Sales"===c?(r.push(t[c].items),n+=t[c].netSales,N(t[c].netSales)):(r.push(t[c].items),a.push(t[c].items),e+=t[c].netSales)})),s({sales:e,dailySales:a}),k(n+e)}),[s,k,t]),R=Object(l.useCallback)((function(){var e=String(n.salesDateCateg[0]).toUpperCase()+String(n.salesDateCateg).substring(1,n.salesDateCateg.length);L(e)}),[L,n]);return Object(l.useEffect)((function(){F(),R()}),[F,R]),Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(qi,{title:"".concat(T," Sales"),value:o.sales}),Object(a.jsx)(qi,{title:"".concat(T," Sales - Blood Test"),value:j,dailySales:t["Blood Test"]}),Object(a.jsx)(qi,{title:"".concat(T," Sales - Grooming"),value:O,dailySales:t.Grooming}),Object(a.jsx)(qi,{title:"".concat(T," Sales - Store Sales"),value:I,dailySales:t["Store Sales"]}),Object(a.jsx)(qi,{title:"".concat(T," Sales - Vet Sales"),value:v,dailySales:t["Vet Sales"]}),Object(a.jsx)(qi,{title:"".concat(T," Net Sales "),value:D,dailySales:t})]})},Xi=Object(O.a)((function(e){return{root:Object(Pt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),$i=function(){var e=Xi(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.clients})),r=n.isPaymentsLoading,c=n.clientPayments,i=n.error;Object(l.useEffect)((function(){var e=fn()(Date.now()).format("MM-DD-YYYY");t(St({salesDate:e,salesDateCateg:"daily"}))}),[t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ki,{onSalesDateCategChanged:function(e){t(St(e))},onSalesDateChanged:function(e){t(St(e))}}),0===Object.keys(c).length||r?i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qi,{metadata:c.metadata,dailySales:c.dailySales}),Object(a.jsx)(Gi,{itemSales:c.itemSales?c.itemSales:[]})]})]})},Zi=function(e){var t=e.match;return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/all-clients"),component:xi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/appointments"),component:Mi}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/payments"),component:$i})]})},eo=n(215),to=n.n(eo),no=Object(O.a)((function(){return{root:{display:"flex",width:"100%",paddingTop:"1em",alignItems:"center",justifyContent:"space-between"}}})),ao=function(e){var t=e.gotoPage,n=e.nextPage,r=e.previousPage,c=e.canNextPage,i=e.canPreviousPage,o=e.pageCount,s=e.pageSize,l=e.pageIndex,d=e.itemsCount,u=no();return Object(a.jsxs)("div",{className:u.root,children:[function(){var e=s*(l+1)>=d?d:s*(l+1);return Object(a.jsx)(Ce.a,{children:"Showing ".concat(e," out of ").concat(d," items")})}(),Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(0)},disabled:!i,children:"FIRST"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return r()},disabled:!i,children:"PREV"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return n()},disabled:!c,children:"NEXT"}),Object(a.jsx)(fe.a,{variant:"outlined",onClick:function(){return t(o-1)},disabled:!c,children:"LAST"})]})]})},ro=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItem:"center"},container:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItem:"center",marginBottom:"1em"},itemCount:{display:"flex",alignItems:"center"}}})),co=function(e){var t=e.setPageSize,n=e.pageSize,r=e.handleSearchItemChanged,c=ro(),i=Object(b.b)();return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsx)("div",{}),Object(a.jsx)(fe.a,{className:c.addItemButton,variant:"outlined",endIcon:Object(a.jsx)(Ut.a,{}),onClick:function(e){i(w({modalType:"ADD_ITEM_MODAL",modalProps:{}}))},children:"Add Item"})]}),Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsxs)("div",{className:c.itemCount,children:[Object(a.jsx)(Ce.a,{children:"Show \xa0"}),Object(a.jsx)(kn.a,{value:n,onChange:function(e){t(e.target.value)},children:[10,20,30,40,50].map((function(e){return Object(a.jsx)(Pn.a,{value:e,children:e},e)}))}),Object(a.jsx)(Ce.a,{children:"\xa0 entries"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(It.a,{variant:"outlined",label:"Search",size:"small",InputProps:{endAdornment:Object(a.jsx)(Nt.a,{children:Object(a.jsx)(mi.a,{color:"primary"})})},onChange:function(e){r(e.target.value)}})})]})]})},io=Object(O.a)((function(e){return{root:{width:"100%",height:"100%",backgroundColor:"#1d1d1d",padding:"1.5em",overflowX:"auto"},showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Yt.a[400],border:"2px solid red",borderColor:Yt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"}}})),oo=function(e){var t=e.data,n=e.columns,r=e.items,c=io(),i=Object(b.b)(),o=Object(Et.useTable)({data:t,columns:n,initialState:{pageIndex:0,pageSize:10}},Et.useFilters,Et.useSortBy,Et.usePagination),s=o.getTableProps,l=o.headerGroups,d=o.prepareRow,u=o.rows,j=o.page,m=o.canPreviousPage,p=o.canNextPage,O=o.pageCount,h=o.gotoPage,x=o.nextPage,g=o.previousPage,v=o.setPageSize,y=o.setFilter,S=o.state,C=S.pageIndex,I=S.pageSize,N=function(e){if("col5"===e.column.id)return Object(a.jsxs)(Ce.a,{children:["\u20b1",e.render("Cell")]});if("col7"===e.column.id){var t=e.row.values.col6/100*e.row.values.col5;return Object(a.jsxs)(Ce.a,{children:["\u20b1",e.render("Cell")," (".concat(t.toFixed(2),")")]})}return"col6"===e.column.id?Object(a.jsxs)(Ce.a,{children:[e.render("Cell"),"%"]}):Object(a.jsx)(Ce.a,{children:e.render("Cell")})};return Object(a.jsxs)(nc.a,{className:c.root,children:[Object(a.jsx)(co,{pageSize:I,setPageSize:v,handleSearchItemChanged:function(e){y("col1",e)}}),Object(a.jsxs)(Lt.a,Object(f.a)(Object(f.a)({},s()),{},{children:[Object(a.jsx)(Ft.a,{children:l.map((function(e){return Object(a.jsxs)(Rt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Mt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(zt.a,{fontSize:"small"}):Object(a.jsx)(Wt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Mt.a,{})]},e.id)}))}),Object(a.jsx)(_t.a,{children:j.map((function(e,t){return d(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Rt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Mt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps([{className:e.column.className},(n=e,"Out of Stock"===n.value?{className:c.outOfStock}:"In Stock"===n.value?{className:c.inStock}:"Discounted"===n.value?{className:c.itemDiscounted}:{className:""})])),{},{children:N(e)}))},"col".concat(t));var n})),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(fe.a,{fullWidth:!0,endIcon:Object(a.jsx)(to.a,{}),variant:"contained",onClick:function(){var t;t=e.index,i(w({modalType:"MANAGE_ITEM_MODAL",modalProps:{item:r[t],itemIndex:t}}))},children:"Manage Item"})},e.id)]}),e.id)})}))})]})),Object(a.jsx)(ao,{canPreviousPage:m,canNextPage:p,previousPage:g,nextPage:x,gotoPage:h,pageCount:O,pageSize:I,pageIndex:C,itemsCount:u.length})]})},so=function(e){var t=e.items,n={data:Object(l.useMemo)((function(){return t.map((function(e){var t="",n=e.discount>0?e.price*(e.discount/100):0;return t=e.discount>0&&e.inStock>0?"Discounted":0===e.discount&&e.inStock>0?"In Stock":"Out of Stock",{col1:e.name,col2:e.category,col3:e.inStock,col4:t,col5:Number(e.price).toFixed(2),col6:e.discount,col7:(e.price-n).toFixed(2)}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Name",accessor:"col1"},{Header:"Category",accessor:"col2"},{Header:"Stock",accessor:"col3"},{Header:"Status",accessor:"col4"},{Header:"Original Price",accessor:"col5"},{Header:"Discount",accessor:"col6"},{Header:"Total Price",accessor:"col7"}]}),[]),items:t};return Object(a.jsx)(oo,Object(f.a)({},n))},lo=Object(O.a)((function(e){return{root:{padding:e.spacing(3),height:"100vh",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),uo=function(){var e=lo(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.inventoryItems})),r=n.isLoading,c=n.items,i=n.error,o=Object(b.c)((function(e){return e.inventorySearch})),s=o.isLoading,d=o.result;Object(l.useEffect)((function(){t(un()),t(function(){var e=Object(z.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().auth.user,r=localStorage.getItem("token");try{t(Jn()),new WebSocket("".concat(G.WS_BASE_URL,"/items/").concat(a.branchName,"?jwt=").concat(r)).onmessage=function(e){var n=JSON.parse(e.data);t(Qn(n.data))}}catch(i){t(Xn(i.message))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)(nc.a,{elevation:0,className:e.root,children:r||s?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(so,{items:d.length>0?d:c})})},jo=Object(O.a)((function(e){return{root:Object(Pt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),bo=function(e){var t=e.toggleAddItemSaleRow,n=e.showAddItemSaleRow,r=jo();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Ut.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Transaction")})})]})},mo=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),po=function(e){var t=e.showAddItemSaleRow,n=e.toggleAddItemSaleRow,r=e.salesDate,c=Object(l.useState)({}),i=Object(h.a)(c,2),o=i[0],s=i[1],d=Object(l.useState)(1),u=Object(h.a)(d,2),j=u[0],m=u[1],p=Object(b.c)((function(e){return e.inventorySearch})),O=p.result,x=p.isLoading,g=mo(),v=Object(b.b)();if(!t)return null;var y=function(e){var t=e.target.value;t>0&&t<=Number.parseInt(o.inStock)&&m(t)},S=function(){s({}),m(1)},C=function(){v(Ka(o.ID,j)),S(),v(un()),n(!1)},I=function(){S(),v(un()),n(!1)},N=Object(pn.debounce)((function(e){v(""===e?un():jn(e))}),800),w=function(e){N(e.target.value)};return Object(a.jsxs)(Rt.a,{className:g.root,children:[Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:r})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Qt.a,{loading:x,options:O.filter((function(e){return e.inStock>0})),getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(It.a,Object(f.a)(Object(f.a)({},e),{},{size:"small",label:"Product Name",variant:"outlined",onChange:w,InputProps:Object(f.a)(Object(f.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[x?Object(a.jsx)(F.a,{color:"secondary",size:"1.5rem"}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,t,n){"select-option"===n&&s(t)}})}),function(){var e=o.price*j,t=e-(o.isIncentiveFixed?Number(o.incentiveAmount).toFixed(2):Number(e*(o.incentiveRate/100)).toFixed(2));return 0===Object.keys(o).length?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Mt.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(o.price).toFixed(2)]})}),Object(a.jsx)(Mt.a,{className:g.quantityCell,children:Object(a.jsx)(It.a,{size:"small",variant:"outlined",type:"number",value:j,onChange:y,fullWidth:!0})}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(e).toFixed(2)]})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:"".concat(Number(o.incentiveRate).toFixed(2),"%")})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:o.isIncentiveFixed?"\u20b1".concat(Number(o.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e*(o.incentiveRate/100)).toFixed(2))})}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)(Ce.a,{children:["\u20b1",Number(t).toFixed(2)]})}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(Ce.a,{children:o.category})}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)("div",{className:g.buttonRows,children:[Object(a.jsx)(fe.a,{className:g.submitButton,variant:"outlined",onClick:C,children:Object(a.jsx)(bn.a,{})}),Object(a.jsx)(fe.a,{className:g.cancelButton,variant:"outlined",onClick:I,children:Object(a.jsx)(mn.a,{})})]})})]})}()]})},Oo=Object(O.a)((function(e){return{root:Object(Pt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Yt.a[400],border:"2px solid red",borderColor:Yt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),fo=function(e){var t=e.data,n=e.columns,r=e.salesDate,c=Oo(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Et.useTable)({data:t,columns:n},Et.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,A=S.rows,D=function(e){return Object(a.jsx)(Ce.a,{children:e.render("Cell")})};return Object(a.jsxs)(nc.a,{className:c.root,children:[Object(a.jsx)(bo,{toggleAddItemSaleRow:y,showAddItemSaleRow:v}),Object(a.jsx)(Tt.a,{children:Object(a.jsxs)(Lt.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Ft.a,{children:I.map((function(e){return Object(a.jsxs)(Rt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Mt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(zt.a,{fontSize:"small"}):Object(a.jsx)(Wt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Mt.a,{})]})}))}),Object(a.jsxs)(_t.a,{className:c.container,children:[Object(a.jsx)(po,{showAddItemSaleRow:v,toggleAddItemSaleRow:y,salesDate:r}),A.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Rt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Mt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:D(e)}))},"col".concat(t))})),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){var t;t=e.index,i(w({modalType:"DELETE_SALE_CONFIRMATION_MODAL",modalProps:{title:"Delete transaction?",message:"Are you sure you want to delete this transaction?",itemIndex:t}}))},children:Object(a.jsx)(Gt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Bt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},ho=function(e){var t=e.itemSales,n=e.salesDate,r={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:fn()(e.CreatedAt).format("L"),col2:e.item?e.item.name:"",col3:"\u20b1".concat(Number(e.item.price).toFixed(2)),col4:e.quantity,col5:"\u20b1".concat(Number(e.sales).toFixed(2)),col6:"".concat(Number(e.item.incentiveRate).toFixed(2),"%"),col7:e.item.isIncentiveFixed?"\u20b1".concat(Number(e.item.incentiveAmount).toFixed(2)):"\u20b1".concat(Number(e.incentives*e.quantity).toFixed(2)),col8:"\u20b1".concat(Number(e.netSales).toFixed(2)),col9:e.item.category}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Date",accessor:"col1"},{Header:"Product",accessor:"col2"},{Header:"Price",accessor:"col3"},{Header:"Qty",accessor:"col4"},{Header:"Sales",accessor:"col5"},{Header:"Rate",accessor:"col6"},{Header:"Incentives",accessor:"col7"},{Header:"Net Sales",accessor:"col8"},{Header:"Category",accessor:"col9"}]}),[]),salesDate:n};return Object(a.jsx)(fo,Object(f.a)({},r))},xo=Object(O.a)((function(e){return{root:Object(Pt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),go=function(){var e=xo(),t=Object(b.b)(),n=fn()(Date.now()).format("MM-DD-YYYY"),r=Object(l.useState)(n),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(b.c)((function(e){return e.inventorySales})),d=s.isLoading,u=s.itemSales,j=s.dailySales,m=s.metadata,p=s.error;Object(l.useEffect)((function(){t(Ua({salesDate:i,salesDateCateg:"daily"}))}),[t,i]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ki,{onSalesDateCategChanged:function(e){t(Ua(e))},onSalesDateChanged:function(e){o(e.salesDate),t(Ua(e))}}),d?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):p?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qi,{metadata:m,dailySales:j}),Object(a.jsx)(ho,{itemSales:u,salesDate:i})]})]})},vo=function(e){var t=e.match;Object(wn.a)(e,["match"]);return Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"".concat(t.url,"/items"),component:uo}),Object(a.jsx)(p.b,{path:"".concat(t.url,"/sales"),component:go})]})},yo={LOADING_MODAL:M,ERROR_MODAL:L,SUCCESS_MODAL:_},So=function(){var e=Object(b.c)((function(e){return e.infoModals})),t=e.modalProps,n=e.modalType;if(!n)return null;var r=yo[n];return Object(a.jsx)(r,Object(f.a)({isVisible:""!==n},t))},Co=Object(O.a)((function(e){return{root:Object(Pt.a)({display:"flex",justifyContent:"center",alignItems:"center",gridGap:"1em",paddingBottom:"1em",flexDirection:"column"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",justifyContent:"space-between"}),itemCount:{display:"flex",alignItems:"center"}}})),Io=function(e){var t=e.toggleAddItemCategoryRow,n=e.showAddItemCategoryRow,r=Co();return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(fe.a,{variant:"outlined",startIcon:Object(a.jsx)(Ut.a,{}),onClick:function(){t(!n)},children:"".concat(n?"Cancel":"Add","  Category")})})]})},No=Object(O.a)((function(e){return{root:{height:"100%"},loadingIndicator:{width:"10px",height:"10px"},quantityCell:{},buttonRows:{display:"grid",gridTemplateColumns:"1fr 1fr / 1fr",gridGap:"1em"},submitButton:{borderColor:"green",color:"green"},cancelButton:{borderColor:"red",color:"red"}}})),wo=function(e){var t=e.showAddItemCategoryRow,n=e.toggleAddItemCategoryRow,r=Object(b.c)((function(e){return e.itemCategories})).categories,c=Object(Ct.b)({defaultValues:{name:""}}),i=c.reset,o=c.handleSubmit,s=c.register,l=c.errors,d=No(),u=Object(b.b)();if(!t)return null;return Object(a.jsxs)(Rt.a,{className:d.root,children:[Object(a.jsx)(Mt.a,{children:Object(a.jsx)("form",{id:"addItemCategoryForm",onSubmit:o((function(e){var t;r.find((function(t){return String(t.name).toLowerCase()===String(e.name).toLowerCase()}))?u(E({modalType:"ERROR_MODAL",modalProps:{message:"Existing Category",isInfoModal:!0}})):u((t=e,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(va()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,ja(t);case 5:a=e.sent,n(E({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Added!",duration:3e3}})),n(ya(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(E({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(ga(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),i(),n(!1)})),children:Object(a.jsx)(It.a,{fullWidth:!0,name:"name",label:"Category Name",inputRef:s({required:!0}),error:!!l.name,helperText:l.name?"Invalid Input":""})})}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)("div",{className:d.buttonRows,children:[Object(a.jsx)(fe.a,{variant:"outlined",color:"primary",className:d.submitButton,form:"addItemCategoryForm",type:"submit",children:Object(a.jsx)(bn.a,{})}),Object(a.jsx)(fe.a,{variant:"outlined",className:d.cancelButton,onClick:function(){i(),n(!1)},children:Object(a.jsx)(mn.a,{})})]})})]})},Ao=Object(O.a)((function(e){return{root:Object(Pt.a)({width:"100%",height:"100%",padding:"1.5em",overflow:"hidden",backgroundColor:"#1d1d1d"},e.breakpoints.up("sm"),{overflow:"auto"}),showItemCountButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},showItemCountField:{width:"50px"},tableHeader:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",width:"100%",paddingTop:"1em",justifyContent:"space-between",alignItems:"center"},inStock:{color:e.palette.secondary.main,border:"2px solid red",borderColor:e.palette.secondary.main,borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},itemDiscounted:{color:Yt.a[400],border:"2px solid red",borderColor:Yt.a[400],borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},outOfStock:{color:"red",border:"2px solid red",borderRadius:"10px",padding:"1em",textAlign:"center",fontWeight:"bold"},deleteButton:{borderColor:"red"}}})),Do=function(e){var t=e.data,n=e.columns,r=e.categories,c=Ao(),i=Object(b.b)(),o=Object(l.useState)(0),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(10),m=Object(h.a)(j,2),p=m[0],O=m[1],x=Object(l.useState)(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],S=Object(Et.useTable)({data:t,columns:n},Et.useSortBy),C=S.getTableProps,I=S.headerGroups,N=S.prepareRow,w=S.rows,A=function(e){return Object(a.jsx)(Ce.a,{children:e.render("Cell")})},D=function(e){var t,n=r[e];i((t=n.ID,function(){var e=Object(z.a)(H.a.mark((function e(n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Ca()),n(E({modalType:"LOADING_MODAL",modalProps:{}})),e.next=5,ba(t);case 5:a=e.sent,n(E({modalType:"SUCCESS_MODAL",modalProps:{message:"Item Category Deleted!",duration:3e3}})),n(Ia(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(E({modalType:"ERROR_MODAL",modalProps:{message:e.t0.message,duration:3e3}})),n(Sa(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)(nc.a,{className:c.root,children:[Object(a.jsx)(Io,{toggleAddItemCategoryRow:y,showAddItemCategoryRow:v}),Object(a.jsx)(Tt.a,{children:Object(a.jsxs)(Lt.a,Object(f.a)(Object(f.a)({},C()),{},{stickyHeader:!0,children:[Object(a.jsx)(Ft.a,{children:I.map((function(e){return Object(a.jsxs)(Rt.a,{children:[e.headers.map((function(e){return Object(a.jsx)(Mt.a,Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(a.jsxs)("div",{className:c.tableHeader,children:[e.render("Header"),e.isSorted?e.isSortedDesc?Object(a.jsx)(zt.a,{fontSize:"small"}):Object(a.jsx)(Wt.a,{fontSize:"small"}):null]},e.id)}))})),Object(a.jsx)(Mt.a,{})]})}))}),Object(a.jsxs)(_t.a,{className:c.container,children:[Object(a.jsx)(wo,{showAddItemCategoryRow:v,toggleAddItemCategoryRow:y}),w.slice(d*p,d*p+p).map((function(e,t){return N(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Rt.a,Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:[e.cells.map((function(e,t){return Object(a.jsx)(Mt.a,{children:Object(a.jsx)("div",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{children:A(e)}))},"col".concat(t))})),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(fe.a,{className:c.deleteButton,variant:"outlined",onClick:function(){D(e.index)},children:Object(a.jsx)(Gt.a,{color:"error"})})})]}),e.id)})}))]})]}))}),Object(a.jsx)(Bt.a,{rowsPerPageOptions:[10,25,50,100],component:"div",rowsPerPage:p,count:t.length,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){O(+e.target.value),u(0)}})]})},ko=function(e){var t=e.categories,n={data:Object(l.useMemo)((function(){return t.map((function(e){return{col1:e.name}}))}),[t]),columns:Object(l.useMemo)((function(){return[{Header:"Category",accessor:"col1"}]}),[]),categories:t};return Object(a.jsx)(Do,Object(f.a)({},n))},Po=Object(O.a)((function(e){return{root:Object(Pt.a)({padding:e.spacing(3),width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#121212",paddingTop:"83px"},e.breakpoints.up("sm"),{height:"100vh"}),loadingIndicator:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}})),Eo=function(){var e=Po(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.itemCategories})),r=n.isLoading,c=n.categories,i=n.error;Object(l.useEffect)((function(){t(Na())}),[t]);return Object(a.jsx)("div",{className:e.root,children:r?Object(a.jsx)("div",{className:e.loadingIndicator,children:Object(a.jsx)(F.a,{color:"secondary"})}):i?Object(a.jsx)("div",{children:"An Error has occured!"}):Object(a.jsx)(ko,{categories:c})})},To=function(e){var t=e.match;return Object(a.jsx)(p.d,{children:Object(a.jsx)(p.b,{path:"".concat(t.url,"/item-categories"),component:Eo})})},Lo=Object(O.a)((function(e){return{root:{display:"flex",height:"100%",padding:0,margin:0},toolbar:e.mixins.toolbar,toastContainer:{zIndex:"1000000"}}})),Fo=function(){var e=Lo(),t=Object(b.b)();Object(l.useEffect)((function(){localStorage.getItem("token")&&t(function(){var e=Object(z.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),ee(n),e.prev=2,t(ie()),e.next=6,ae(n);case 6:a=e.sent,t(oe(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(se(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(m.a,{children:[Object(a.jsxs)(p.d,{children:[Object(a.jsx)(p.b,{path:"/auth/login",component:jc}),Object(a.jsx)(tc,{path:"/home",component:oi}),Object(a.jsx)(tc,{path:"/clients",component:Zi}),Object(a.jsx)(tc,{path:"/inventory",component:vo}),Object(a.jsx)(tc,{path:"/admin",component:To}),Object(a.jsx)(p.a,{from:"/",to:"/home/dashboard"})]}),Object(a.jsx)(Qa,{}),Object(a.jsx)(So,{})]})})},Ro=n(97),Mo=Object(Ro.c)({inventoryItems:da,inventorySales:Ra,inventorySearch:cn,homeSalesStats:Oc,modals:I,infoModals:k,auth:pe,drawer:rr,clients:gt,notifications:vr,itemCategories:pa});var _o=Object(S.a)({reducer:Mo});j.a.render(Object(a.jsx)(r.a,{injectFirst:!0,children:Object(a.jsx)(c.a,{theme:U,children:Object(a.jsxs)(o.b,{dateAdapter:s.a,children:[Object(a.jsx)(i.a,{}),Object(a.jsx)(b.a,{store:_o,children:Object(a.jsx)(Fo,{})})]})})}),document.getElementById("root"))}},[[570,1,2]]]);
//# sourceMappingURL=main.d7a73975.chunk.js.map